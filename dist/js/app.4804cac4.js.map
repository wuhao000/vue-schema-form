{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/code-editor.vue?aa16","webpack:///./src/schema-form/empty.tsx","webpack:///./src/components/code-container.vue?e37d","webpack:///./src/components/demo-wrapper.vue?da8e","webpack:///./src/views/banner.vue?50b1","webpack:///./src/schema-form/config.ts","webpack:///./src/schema-form/utils/array.ts","webpack:///./src/schema-form/uform/types/types.ts","webpack:///./src/schema-form/uform/utils/array.ts","webpack:///./src/schema-form/uform/utils/lru.ts","webpack:///./src/schema-form/uform/utils/accessor.ts","webpack:///./src/schema-form/uform/utils/compare.ts","webpack:///./src/schema-form/uform/utils/broadcast.ts","webpack:///./src/schema-form/uform/utils/isEmpty.ts","webpack:///./src/schema-form/uform/utils/schema.ts","webpack:///./src/schema-form/common/base-url.tsx","webpack:///./src/schema-form/antd/utils.tsx","webpack:///./src/schema-form/utils/utils.tsx","webpack:///./src/schema-form/utils/register.ts","webpack:///external \"Vue\"","webpack:///./src/schema-form/common/array-wrapper.tsx","webpack:///./src/schema-form/compatible.tsx","webpack:///./src/schema-form/internal/field.tsx","webpack:///./src/schema-form/common/base-button.ts","webpack:///./src/schema-form/antd/components/button/button.tsx","webpack:///./src/schema-form/antd/components/button/index.ts","webpack:///./src/schema-form/antd/components/date-picker/date-picker.tsx","webpack:///./src/schema-form/antd/components/date-picker/index.ts","webpack:///./src/schema-form/antd/components/form/form.tsx","webpack:///./src/schema-form/antd/components/range-picker/range-picker.tsx","webpack:///./src/schema-form/antd/components/range-picker/index.ts","webpack:///./src/schema-form/common/base-time-picker.ts","webpack:///./src/schema-form/antd/components/time-picker/time-picker.tsx","webpack:///./src/schema-form/common/base-time-range-picker.ts","webpack:///./src/schema-form/antd/components/time-picker/time-range-picker.tsx","webpack:///./src/schema-form/antd/components/time-picker/index.ts","webpack:///./src/schema-form/antd/components/select.tsx","webpack:///./src/schema-form/antd/components/form/item.tsx","webpack:///./src/schema-form/antd/components/checkbox-group.tsx","webpack:///./src/schema-form/antd/components/radio-group.tsx","webpack:///./src/schema-form/internal/field-based-component.tsx","webpack:///./src/schema-form/internal/form.tsx","webpack:///./src/schema-form/display/mobile-display-field.tsx","webpack:///./src/schema-form/display/plain-display-field.tsx","webpack:///./src/schema-form/display/range-display-field.tsx","webpack:///./src/schema-form/display/select-display-field.tsx","webpack:///./src/schema-form/display/switch-display-field.tsx","webpack:///./src/schema-form/utils/time.ts","webpack:///./src/schema-form/display/time-display-field.tsx","webpack:///./src/schema-form/display/register.ts","webpack:///./src/schema-form/uform/validator/utils.ts","webpack:///./src/schema-form/uform/validator/validators/custom.ts","webpack:///./src/schema-form/uform/validator/locale/index.ts","webpack:///./src/schema-form/uform/validator/message.ts","webpack:///./src/schema-form/uform/validator/validators/pattern.ts","webpack:///./src/schema-form/uform/validator/validators/regexp.ts","webpack:///./src/schema-form/uform/validator/validators/format.ts","webpack:///./src/schema-form/uform/validator/validators/length.ts","webpack:///./src/schema-form/uform/validator/validators/required.ts","webpack:///./src/schema-form/uform/validator/validators/index.ts","webpack:///./src/schema-form/uform/validator/index.ts","webpack:///./src/schema-form/utils/effects.ts","webpack:///./src/schema-form/form.tsx","webpack:///./src/schema-form/layout/card.tsx","webpack:///./src/schema-form/layout/base-layout.tsx","webpack:///./src/schema-form/layout/form-block.tsx","webpack:///./src/schema-form/layout/grid.tsx","webpack:///./src/schema-form/layout/steps.tsx","webpack:///./src/schema-form/layout/table.tsx","webpack:///./src/schema-form/layout/text-box.tsx","webpack:///./src/schema-form/layout/register.ts","webpack:///./src/schema-form/antdm/register.ts","webpack:///./src/schema-form/antd/display/file.tsx","webpack:///./src/schema-form/antd/display/rate.tsx","webpack:///./src/schema-form/antd/display/transfer.tsx","webpack:///./src/schema-form/antd/input.tsx","webpack:///./src/schema-form/antd/transfer.tsx","webpack:///./src/schema-form/utils/object.ts","webpack:///./src/schema-form/common/base-upload.tsx","webpack:///./src/schema-form/antd/upload.tsx","webpack:///./src/schema-form/antd/index.ts","webpack:///./src/schema-form/index.ts","webpack:///./src/schema-form/common/url.tsx","webpack:///./src/schema-form/mixins/base-input.tsx","webpack:///./src/schema-form/antd/components/utils.ts","webpack:///./src/schema-form/utils/key.ts","webpack:///./src/schema-form/utils/path.ts","webpack:///external \"moment\"","webpack:///./src/views/index.vue?6066","webpack:///./src/docs/demo/index.vue","webpack:///./src/docs/demo/index.vue?bd8d","webpack:///./src/utils/menu.ts","webpack:///./src/views/sub-menu.vue?2dab","webpack:///./src/views/sub-menu.vue","webpack:///./src/views/sub-menu.vue?aeb0","webpack:///./src/views/nav.tsx","webpack:///./src/components/root.vue","webpack:///./src/components/root.vue?78bf","webpack:///./src/router/demo.ts","webpack:///./src/router/doc.ts","webpack:///./src/router/components.ts","webpack:///./src/router/index.tsx","webpack:///./src/views/index.vue?8b3e","webpack:///./src/views/banner.vue?d432","webpack:///./src/views/banner.vue","webpack:///./src/views/banner.vue?4ed9","webpack:///./src/views/index.vue","webpack:///./src/views/index.vue?35d6","webpack:///./src/components/demo-wrapper.vue","webpack:///./src/components/demo-wrapper.vue?be09","webpack:///./src/components/code-editor.vue?cbb2","webpack:///./src/utils/beautify.ts","webpack:///./src/components/code-editor.vue","webpack:///./src/components/code-editor.vue?c7c4","webpack:///./src/components/code-container.vue","webpack:///./src/components/code-container.vue?6b4c","webpack:///./src/main.ts","webpack:///./src/schema-form/uform/utils/globalThis.ts","webpack:///./src/schema-form/utils/destruct.ts","webpack:///./src/schema-form/utils/field.ts","webpack:///./src/schema-form/internal/utils.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","getConfirmFunction","platform","config","confirmFn","mobile","desktop","formItemPropTransform","defaultEmptyText","getFormItemProps","component","field","getDefaultEmptyText","propsTransformer","formProps","props","title","inline","layout","transformFormProps","formPropsTransformer","registerComponent","options","store","baseOptions","assign","Array","isArray","types","forEach","platforms","finalStore","addComponent","forDisplay","flat","array","item","isType","obj","toString","isFn","isArr","isPlainObj","isStr","isNum","isObj","val","isRegExp","each","iterator","revert","map","res","reduce","accumulator","every","NEWER","OLDER","LRUMap","limit","entries","copyEntries","copyLimit","this","size","oldest","newest","_keymap","Map","Entry","EntryIterator","oldestEntry","entry","KeyIterator","ValueIterator","whitespace","join","_markEntryAsUsed","Number","MAX_VALUE","clear","it","itv","next","done","set","delete","find","has","ent","keys","values","fun","thisObj","copyThisObj","toJSON","String","PathCache","getPathSegments","path","cached","pathArr","split","parts","DestructTokenizer","text","handlers","index","state","processNameStart","declareNameStart","declareNameEnd","nbraceCount","nbracketCount","char","prev","charAt","EOF","substring","processDestructStart","destructKey","destructKeyStart","destructObjectEnd","destructArrayEnd","destructObjectStart","destructArrayStart","processDestructKey","getName","processName","str","destruct","lastDestruct","root","stack","token","realKey","readyReplace","tail","pop","parse","callback","internalTraverse","internalObj","newPath","concat","parseDestructPath","lastKey","startPath","parsed","internalPath","endPath","cache","ast","mapPath","update","internalGetIn","getSchema","paths","_getIn","copyPath","copyObj","propertyIsEnumerable","_setIn","test","schema","_deleteIn","_existIn","getIn","keyList","hasProp","equal","a","b","filter","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","urlA","URL","urlB","$$typeof","isEqual","match","number","warn","isEmpty","baseUrlProps","disabled","Boolean","default","protocols","valueProp","useBaseUrl","ctx","domain","protocol","current","imte","label","emit","v","protocolTmp","startsWith","replace","immediate","currentValue","createComponentProxy","InputComponent","attrs","slots","getPropByPath","strict","tempObj","keyArr","len","k","noop","Mode","FieldTypes","DESKTOP","MOBILE","swap","x","y","registerMobileLib","LibComponents","registerDesktopLib","icons","alert","button","col","content","footer","form","formItem","header","popover","row","sider","checkbox","card","empty","select","input","resolveOptions","enum","getDefaultValue","slot","getComponent","isNotNull","Transfer","Range","destructPath","getFormComponent","getRowComponent","getColComponent","getLayoutComponent","getSiderComponent","getContentComponent","getButtonComponent","getOptionProperty","option","addRule","rules","rule","validateType","Integer","Double","Datetime","Year","Month","Select","ExpandSelect","valueProperty","DateRange","DateTimeRange","Url","format","isNull","fixComponentDefinition","forArray","getProps","forInput","layoutOptions","wrap","definition","labelNumber","ComponentStore","display","edit","typeDef","def","Display","globalComponentStore","registerDisplay","register","registerDesktop","registerMobile","Vue","baseArrayComponentProps","maxLength","showRemoveBtn","showAddBtn","fields","addBtnText","addBtnProps","deleteBtnProps","inheritAttrs","required","cellSpan","gutter","subForm","clsPrefix","emits","setup","editable","renderAddButton","ColComponent","ButtonComponent","buttonStyle","block","width","addButtonProps","icon","ButtonIcon","plus","onAddClick","margin","renderFields","LayoutComponent","ASideComponent","ContentComponent","position","renderDeleteBtn","overflow","loading","DeleteIcon","delBtnClass","RowComponent","$attrs","resolveWrap","createSimpleMobileFieldComponent","inputComponent","FormItem","extra","formValue","schemaPath","pathPrefix","$props","arrayRef","inputRef","valid","validate","context","trigger","fieldChange","plainPath","deep","setCurrentValue","fieldOperations","localField","addField","renderFormField","localValue","inputProps","renderComponent","localProps","localType","layoutType","layoutProps","placeholder","isDisabled","removeArrayItem","addArrayItem","getRules","tip","InfoIcon","info","LibComponentsPopover","marginLeft","color","wrapperProps","noTitle","visible","validateFields","validator","includes","parseFloat","model","firstFields","errors","onArrayItemInput","onValueUpdate","debounce","renderArrayInputComponent","propsTmp","inputFieldDef","InputFieldComponent","ArrayComponent","arrayComponent","componentDef","arrayContent","itemProps","events","generateEvents","className","style","class","arrayIndex","oldValue","arrayProps","arrayClass","arrayStyle","ref","el","onRemove","confirmFunc","onMoveDown","onMoveUp","onAdd","relatedSubFields","subFields","noWrap","renderInputComponent","displayValue","fieldDefinitions","slotsDef","slotName","removeField","onCreated","setGetValue","fieldCreate","renderDesktopComponent","FormItemComponent","formItemProps","span","node","baseButtonProps","prefixCls","circle","htmlType","onClick","Function","shape","danger","defaultSlot","$slots","install","app","toDate","convertedValue","updateCurrentValue","finalMode","okCancel","readOnly","labelCol","okText","cancelText","labelWidth","labelPosition","hideRequiredMark","onSubmit","wrapperCol","clearValidate","localFields","prop","indexOf","resetFields","resetField","copyCallback","errorField","currentValidateStatus","focus","count","invalidFields","validateField","cb","copyProps","getLayout","renderButtons","formClassName","baseTimePickerProps","locale","localeCode","clearable","convertValue","convertValueBack","stateValue","allowClear","baseTimeRangePickerProps","valueType","separator","start","end","fieldProps","components","DTimePicker","RangePicker","multiple","labelProperty","filterOption","localOptions","hasFeedback","help","validateStatus","control","currentHelp","validateDisabled","fieldValue","isRequired","some","labelStyle","float","textAlign","wrapperStyle","getFilteredRule","formRules","selfRules","requiredRule","onFieldBlur","onFieldChange","descriptor","instance","setControl","localControl","onBlur","onChange","cols","Math","abs","chunks","baseFieldComponentProps","isMobile","isDesktop","isLoading","isFormDisabled","renderTitle","getGroups","groups","spanGroups","lastHasSpan","vnode","renderSingleFields","FormComponent","getFormProps","preventDefault","group","wrapGroup","LayoutComponentDef","LayoutComponentDefComponent","renderAddFormButton","addSubItem","commonProps","MobileDisplayField","selected","onLabel","offLabel","fmt","date","pretty","reg1","setHours","getHours","now","nowTime","difference","floor","getFullYear","getMonth","getDay","Time","TimeRange","Text","formatRegExp","args","f","JSON","stringify","_","en","pattern","integer","url","email","ipv6","ipv4","idcard","taodomain","qq","phone","money","zh","zip","getBrowserlanguage","navigator","browserlanguage","language","LOCALE","messages","lang","setLocale","lastIndex","PatternKeys","min","max","isValidateEmpty","batchInvoke","fns","fn","custom","newRule","flatArr","arr","buf","fieldMap","forceUpdate","queue","lastValidateValue","rafId","dirty","notify","lastFieldErrors","lastValid","lastLoading","newErrors","effectErrors","invalid","pristine","response","contextId","onOk","matchFields","matchedPaths","subscribes","pathsOrHandler","handler","Subject","subscribe","patterns","fieldFocus","fieldBlur","subject","setTitle","toggle","hide","show","setEnum","setFieldProps","onFieldCreate","setDisplayValue","onFieldFocus","onFieldCreateOrChange","takePath","appendPath","suffix","disable","readonly","isEnabled","enable","replaceLastPath","last","submit","forceValidate","onValidate","getValue","id","SchemaForm","registerDisplayComponent","actions","effects","sticky","onReset","onCancel","componentStore","comp","hasSubmitHandler","localOnOk","createSubmitButton","customBtnProps","action","hasOkHandler","btnProps","buttonProps","okProps","createButton","btnAttrs","classes","Button","createCancelButton","hasCancelHandler","cancelProps","localOnCancel","createResetButton","hasResetHandler","localOnReset","btns","buttons","cloneValue","LibComponentsContent","LibComponentsFooter","rootFieldDef","$emit","Layout","CardComponent","baseLayoutProps","maxItems","addText","removeText","renderAddBtn","PlusIcon","renderOperations","DownIcon","down","UpIcon","up","EmptyComponent","getColProps","colProps","wrapSingle","rowStyle","rowClass","colClass","colStyle","containsArray","isMixed","getRowStyle","getColStyle","getRowClass","getColClass","toGroups","tmpFields","tmp","getNormalizedLayout","LibComponentsRow","LibComponentsCol","normalizedLayout","layoutFields","subSpan","subindex","componentProps","titles","currentStep","iFields","getStatus","fieldErrors","iFieldGroups","getContent","copyFields","ComponentMap","Item","InfoCircleFilled","UpOutlined","DownOutlined","DeleteOutlined","PlusOutlined","registerAntdMobile","debug","confirm","catch","colon","Password","toLowerCase","pickTime","Checkbox","List","PopupList","range","dataSource","onUpdate","targetKeys","part","newObj","FILE_FIELDS","baseUpdateProps","fileList","previewUrl","listType","drag","showFileList","showUploadList","simpleValue","urls","uid","Dragger","UploadOutlined","hint","previewVisible","uploadProps","file","status","onPreview","cancelPreview","log","Header","Footer","Sider","Content","getTransferOptions","description","transferPropsTransform","registerAntd","File","Picture","Rate","AutoComplete","TextArea","dropdownMatchSelectWidth","Cascader","Field","Input","useBaseInput","formField","useOptions","op","SchemaFormStoreKey","SchemaFormFieldOperationStoreKey","CACHE","PATH_SEPARATOR","splitPath","matchSinglePath","findFieldPath","splits","to","isPathMatchPatterns","isPathMatchPattern","isFuzzyPath","origin","matchPath","substr","sp","moment","__exports__","resolveMenus","routes","menus","route","meta","children","_ctx","_cache","$setup","$data","$options","_component_sub_menu","_component_a_sub_menu","_component_a_menu_item","$event","router","openKeys","redirect","tags","history","doc","nav","_hoisted_1","_component_router_view","_component_app_banner","_component_a_layout_header","_component_a_layout_sider","_component_a_layout_content","_component_a_layout","_component_a_config_provider","zh_CN","theme","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","fill","height","stroke","viewBox","xmlns","points","x1","x2","y1","y2","_component_a_menu","activeKey","$router","toGithub","open","AppBanner","location","pathname","__props","showCode","_component_a_card","CodepenCircleOutlined","CodepenOutlined","textAreaStyle","clean","copyData","trim","indent","autosemicolon","js","indent_size","html","javascript","json","kotlin","nginx","powershell","python","shell","yaml","beautify","getHints","getRealMode","viewer","elRef","defaultConfig","extraKeys","Alt","indentWithTabs","lineNumbers","lineWrapping","globalVars","tabSize","fromTextArea","setSize","setValue","refresh","warnHandler","use","antd","mount","globalThisPolyfill","self","global","getStructValue","parentValue","struct","destructValue","setStructValue","structValue","processor","getPropertyValueByPath","propertyPath","calcShowState","depends","condition","matchCondition","getRealFields","v4","EmptyDefinition","missingTypes","getComponentType","Edit","search","typeStr","compareValue","operator","renderField","lastIndexOf","newField","createField","xType","buildArrayPath","changeEditable","destructor","dirtyType","hiddenFromParent","initialize","pathEqual","publishState","shownFromParent","syncContextValue","updateState","proxyFields","getEventMetadata","onFocus","preventScroll","scrollIntoView","behavior","SchemaFormEvents","onKeydown","fieldKeydown","onKeyup","fieldKeyup","fieldEvents","eventKey","existsField","proxyField"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,IAAO,GAMJjB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,GAAG9B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,MAIpuD,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAUgC,QAGnC,IAAIC,EAASL,EAAiB5B,GAAY,CACzCK,EAAGL,EACHkC,GAAG,EACHF,QAAS,IAUV,OANAlB,EAAQd,GAAUW,KAAKsB,EAAOD,QAASC,EAAQA,EAAOD,QAASN,GAG/DO,EAAOC,GAAI,EAGJD,EAAOD,QAKfN,EAAoBS,EAAI,SAAuBlC,GAC9C,IAAImC,EAAW,GAIXC,EAAY,CAAC,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,GAC/UR,EAAmB5B,GAAUmC,EAASvB,KAAKgB,EAAmB5B,IACzB,IAAhC4B,EAAmB5B,IAAkBoC,EAAUpC,IACtDmC,EAASvB,KAAKgB,EAAmB5B,GAAW,IAAIqC,SAAQ,SAASC,EAASC,GAIzE,IAHA,IAAIC,EAAO,QAAU,GAAGxC,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,OAC5sDyC,EAAWhB,EAAoBK,EAAIU,EACnCE,EAAmBC,SAASC,qBAAqB,QAC7CxC,EAAI,EAAGA,EAAIsC,EAAiBpC,OAAQF,IAAK,CAChD,IAAIyC,EAAMH,EAAiBtC,GACvB0C,EAAWD,EAAIE,aAAa,cAAgBF,EAAIE,aAAa,QACjE,GAAe,eAAZF,EAAIG,MAAyBF,IAAaN,GAAQM,IAAaL,GAAW,OAAOH,IAErF,IAAIW,EAAoBN,SAASC,qBAAqB,SACtD,IAAQxC,EAAI,EAAGA,EAAI6C,EAAkB3C,OAAQF,IAAK,CAC7CyC,EAAMI,EAAkB7C,GACxB0C,EAAWD,EAAIE,aAAa,aAChC,GAAGD,IAAaN,GAAQM,IAAaL,EAAU,OAAOH,IAEvD,IAAIY,EAAUP,SAASQ,cAAc,QACrCD,EAAQF,IAAM,aACdE,EAAQE,KAAO,WACfF,EAAQG,OAASf,EACjBY,EAAQI,QAAU,SAASC,GAC1B,IAAIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOC,KAAOjB,EACvDkB,EAAM,IAAIC,MAAM,qBAAuB5D,EAAU,cAAgBwD,EAAU,KAC/EG,EAAIE,KAAO,wBACXF,EAAIH,QAAUA,SACP5B,EAAmB5B,GAC1BkD,EAAQY,WAAWC,YAAYb,GAC/BX,EAAOoB,IAERT,EAAQV,KAAOC,EAEf,IAAIuB,EAAOrB,SAASC,qBAAqB,QAAQ,GACjDoB,EAAKC,YAAYf,MACfgB,MAAK,WACPtC,EAAmB5B,GAAW,MAMhC,IAAImE,EAAqBxD,EAAgBX,GACzC,GAA0B,IAAvBmE,EAGF,GAAGA,EACFhC,EAASvB,KAAKuD,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAI/B,SAAQ,SAASC,EAASC,GAC3C4B,EAAqBxD,EAAgBX,GAAW,CAACsC,EAASC,MAE3DJ,EAASvB,KAAKuD,EAAmB,GAAKC,GAGtC,IACIC,EADAC,EAAS3B,SAASQ,cAAc,UAGpCmB,EAAOC,QAAU,QACjBD,EAAOE,QAAU,IACb/C,EAAoBgD,IACvBH,EAAOI,aAAa,QAASjD,EAAoBgD,IAElDH,EAAOZ,IAAM7B,EAAe7B,GAG5B,IAAI2E,EAAQ,IAAIf,MAChBS,EAAmB,SAAUd,GAE5Be,EAAOhB,QAAUgB,EAAOjB,OAAS,KACjCuB,aAAaJ,GACb,IAAIK,EAAQlE,EAAgBX,GAC5B,GAAa,IAAV6E,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYvB,IAAyB,SAAfA,EAAMH,KAAkB,UAAYG,EAAMH,MAChE2B,EAAUxB,GAASA,EAAME,QAAUF,EAAME,OAAOC,IACpDiB,EAAMK,QAAU,iBAAmBhF,EAAU,cAAgB8E,EAAY,KAAOC,EAAU,IAC1FJ,EAAMM,KAAO,iBACbN,EAAMvB,KAAO0B,EACbH,EAAMnB,QAAUuB,EAChBF,EAAM,GAAGF,GAEVhE,EAAgBX,QAAWkF,IAG7B,IAAIV,EAAUW,YAAW,WACxBd,EAAiB,CAAEjB,KAAM,UAAWK,OAAQa,MAC1C,MACHA,EAAOhB,QAAUgB,EAAOjB,OAASgB,EACjC1B,SAASqB,KAAKC,YAAYK,GAG5B,OAAOjC,QAAQ+C,IAAIjD,IAIpBV,EAAoB4D,EAAIxE,EAGxBY,EAAoB6D,EAAI3D,EAGxBF,EAAoB8D,EAAI,SAASxD,EAASkD,EAAMO,GAC3C/D,EAAoBgE,EAAE1D,EAASkD,IAClC1E,OAAOmF,eAAe3D,EAASkD,EAAM,CAAEU,YAAY,EAAMC,IAAKJ,KAKhE/D,EAAoBoE,EAAI,SAAS9D,GACX,qBAAX+D,QAA0BA,OAAOC,aAC1CxF,OAAOmF,eAAe3D,EAAS+D,OAAOC,YAAa,CAAEC,MAAO,WAE7DzF,OAAOmF,eAAe3D,EAAS,aAAc,CAAEiE,OAAO,KAQvDvE,EAAoBwE,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQvE,EAAoBuE,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK7F,OAAO8F,OAAO,MAGvB,GAFA5E,EAAoBoE,EAAEO,GACtB7F,OAAOmF,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOvE,EAAoB8D,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR3E,EAAoB+E,EAAI,SAASxE,GAChC,IAAIwD,EAASxD,GAAUA,EAAOmE,WAC7B,WAAwB,OAAOnE,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAP,EAAoB8D,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR/D,EAAoBgE,EAAI,SAASgB,EAAQC,GAAY,OAAOnG,OAAOC,UAAUC,eAAeC,KAAK+F,EAAQC,IAGzGjF,EAAoBK,EAAI,IAGxBL,EAAoBkF,GAAK,SAAShD,GAA2B,MAApBiD,QAAQjC,MAAMhB,GAAYA,GAEnE,IAAIkD,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjG,KAAK2F,KAAKM,GAC5CA,EAAWjG,KAAOf,EAClBgH,EAAaA,EAAWG,QACxB,IAAI,IAAI5G,EAAI,EAAGA,EAAIyG,EAAWvG,OAAQF,IAAKP,EAAqBgH,EAAWzG,IAC3E,IAAIU,EAAsBiG,EAI1B/F,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6EC1QT,W,oDCAe,QACb+F,OADa,WAEX,qD,oCCFJ,W,2GCAA,W,oCCAA,W,kCCGA,0LAGaC,EAAqB,SAACC,GACjC,MAAoB,WAAbA,EAAwBC,EAAOC,UAAUC,OAASF,EAAOC,UAAUE,SAGtEC,EAAwB,CAC5BF,OAAQ,KACRC,QAAS,MAGEH,EAAS,CACpBK,iBAAkB,MAClBJ,UAAW,CACTC,OAAQ,KACRC,QAAS,MAEXC,wBACAE,iBAAkB,SAACC,EAAsBC,EAAwBT,GAC/D,MAAiB,YAAbA,EACKK,EAAsBD,QAAQI,EAAWC,GAE3CJ,EAAsBF,OAAOK,EAAWC,KAItCC,EAAsB,WACjC,OAAOT,EAAOK,kBAIHK,EAAqC,CAChDR,OAAQ,CACNS,UAAW,SAACC,GACV,OAAOA,IAGXT,QAAS,CACPQ,UAAW,SAACC,GAMV,cALOA,EAAMC,MACTD,EAAME,SACRF,EAAMG,OAAS,iBAEVH,EAAME,OACNF,KAKAI,EAAqB,SAACJ,EAAwBb,GACzD,IAAMkB,EAAoC,YAAblB,EAAyBW,EAAiBP,QAAQQ,UAAYD,EAAiBR,OAAOS,UACnH,OAAOM,EAAqBL,IAGjBM,EAAoB,SAApBA,EACXC,EACAC,GACA,IAAMC,EAAclI,OAAOmI,OAAO,GAAIH,GACtC,GAAII,MAAMC,QAAQL,EAAQM,OACxBN,EAAQM,MAAMC,SAAQ,SAAAD,GACpBP,EAAkB/H,OAAOmI,OAAOD,EAAa,CAACI,UAASL,WAEpD,GAAIG,MAAMC,QAAQL,EAAQQ,WAC/BR,EAAQQ,UAAUD,SAAQ,SAAAC,GACxBT,EAAkB/H,OAAOmI,OAAOD,EAAa,CAACM,cAAaP,UAExD,CACL,IAAMQ,EAA6BR,GAAS,OAC5CQ,EAAWC,aAAaV,GACpBA,EAAQJ,SAAWI,EAAQW,YAC7BZ,EAAkB/H,OAAOmI,OAAO,GAAIH,EAAS,CAACW,YAAY,Q,s3BC3DzD,IAAMC,EAAO,SAACC,GACnB,IAAMjI,EAAS,GAIf,OAHAiI,EAAMN,SAAQ,SAAAO,GACZlI,EAAOP,KAAP,MAAAO,EAAM,EAASkI,OAEVlI,I,uxBCpBT,IAAMmI,EAAS,SAAIlG,GAAJ,OAAqB,SAACmG,GAAD,OACzB,MAAPA,GAAehJ,OAAOC,UAAUgJ,SAAS9I,KAAK6I,KAA/B,kBAAmDnG,EAAnD,OAENqG,EAAOH,EAAgC,YACvCI,EAAQf,MAAMC,SAAWU,EAAkB,SAC3CK,EAAaL,EAAY,UACzBM,EAAQN,EAAe,UAEvBO,GADSP,EAAgB,WACjBA,EAAe,WACvBQ,EAAQ,SAACC,GAAD,MAA0C,WAAf,EAAOA,IAC1CC,EAAWV,EAAe,UCc1B,EAAQ,SAACS,GAAD,OAAsBL,EAAMK,GAAOA,EAAMA,EAAM,CAACA,GAAO,IAiBtE,SAAUE,EAAKF,EAAUG,EAAeC,GAC5C,GAAIT,EAAMK,IAAQH,EAAMG,IACtB,GAAII,GACF,IAAK,IAAI/J,EAAY2J,EAAIzJ,OAAS,EAAGF,GAAK,EAAGA,IAC3C,IAA4B,IAAxB8J,EAASH,EAAI3J,GAAIA,GACnB,YAIJ,IAAK,IAAI,EAAI,EAAGE,EAASyJ,EAAIzJ,OAAQ,EAAIA,EAAQ,IAC/C,IAA4B,IAAxB4J,EAASH,EAAI,GAAI,GACnB,YAID,GAAID,EAAMC,GAAM,CACrB,IAAIzD,EACJ,IAAKA,KAAOyD,EACV,GAAIxJ,OAAOE,eAAeC,KAAKqJ,EAAKzD,KACF,IAA5B4D,EAASH,EAAIzD,GAAMA,GACrB,QAsBJ,SAAU8D,EAAIL,EAAUG,EAAeC,GAC3C,IAAME,EAAMX,EAAMK,IAAQH,EAAMG,GAAO,GAAK,GAa5C,OAZAE,EACIF,GACA,SAACV,EAAM/C,GACL,IAAMN,EAAQkE,EAASb,EAAM/C,GACzBoD,EAAMW,GACPA,EAAYzJ,KAAKoF,GAElBqE,EAAI/D,GAAON,IAGfmE,GAEGE,EAqBH,SAAUC,EACZP,EACAG,EACAK,EACAJ,GAEF,IAAIhJ,EAASoJ,EAQb,OAPAN,EACIF,GACA,SAACV,EAAM/C,GACLnF,EAAS+I,EAAS/I,EAAQkI,EAAM/C,KAElC6D,GAEGhJ,EAkBH,SAAUqJ,EAAMT,EAAUG,EAAeC,GAC7C,IAAIE,GAAM,EAWV,OAVAJ,EACIF,GACA,SAACV,EAAM/C,GACL,IAAK4D,EAASb,EAAM/C,GAElB,OADA+D,GAAM,GACC,IAGXF,GAEGE,E,yOC9IT,IAAMI,EAAQ3E,OAAO,SACf4E,EAAQ5E,OAAO,SAEf,SAAU6E,EAAkBC,EAAqBC,GACrD,IAAIC,EAAcD,EACdE,EAAYH,EACS,kBAAdG,IAETD,EAAcC,EACdA,EAAY,GAGdC,KAAKC,KAAO,EACZD,KAAKJ,MAAQG,EACbC,KAAKE,OAASF,KAAKG,YAASjG,EAC5B8F,KAAKI,QAAU,IAAIC,IAEfP,IACFE,KAAKtC,OAAOoC,GACRC,EAAY,IACdC,KAAKJ,MAAQI,KAAKC,OAKxB,SAASK,EAAiBhF,EAAUN,GAClCgF,KAAK1E,IAAMA,EACX0E,KAAKhF,MAAQA,EACbgF,KAAKP,QAASvF,EACd8F,KAAKN,QAASxF,EAuKhB,SAASqG,EAAyBC,GAChCR,KAAKS,MAAQD,EAgBf,SAASE,EAAuBF,GAC9BR,KAAKS,MAAQD,EAgBf,SAASG,EAAyBH,GAChCR,KAAKS,MAAQD,E,6TCvNf,SAASI,EAAWtG,GAClB,MAAa,MAANA,GAAmB,OAANA,GAAoB,OAANA,GAAoB,OAANA,GAAoB,OAANA,EAGhE,SAAS,EAASyE,GAChB,OAAKA,EAGDL,EAAMK,GACAA,EAAiB8B,KAAK,KAEzBjC,EAAMG,GAAOA,EAAM,GALjB,GDUXY,EAAOnK,UAAUsL,iBAAmB,SAASL,GACvCA,IAAUT,KAAKG,SAQfM,EAAMhB,KACJgB,IAAUT,KAAKE,SACjBF,KAAKE,OAASO,EAAMhB,IAEtBgB,EAAMhB,GAAOC,GAASe,EAAMf,IAE1Be,EAAMf,KACRe,EAAMf,GAAOD,GAASgB,EAAMhB,IAE9BgB,EAAMhB,QAASvF,EACfuG,EAAMf,GAASM,KAAKG,OAChBH,KAAKG,SACPH,KAAKG,OAAOV,GAASgB,GAEvBT,KAAKG,OAASM,IAGhBd,EAAOnK,UAAUkI,OAAS,SAASmC,GACjC,IAAIY,EACAb,EAAQI,KAAKJ,OAASmB,OAAOC,UACjChB,KAAKI,QAAQa,QAEb,IADA,IAAMC,EAAKrB,EAAQ/E,OAAOoE,YACjBiC,EAAMD,EAAGE,QAASD,EAAIE,KAAMF,EAAMD,EAAGE,OAAQ,CACpD,IAAMlK,EAAI,IAAIoJ,EAAMa,EAAInG,MAAM,GAAImG,EAAInG,MAAM,IAS5C,GARAgF,KAAKI,QAAQkB,IAAIpK,EAAEoE,IAAKpE,GACnBuJ,GAGHA,EAAMhB,GAASvI,EACfA,EAAEwI,GAASe,GAHXT,KAAKE,OAAShJ,EAKhBuJ,EAAQvJ,EACQ,IAAZ0I,IACF,MAAM,IAAIhH,MAAM,YAGpBoH,KAAKG,OAASM,EACdT,KAAKC,KAAOD,KAAKI,QAAQH,MAG3BN,EAAOnK,UAAUoF,IAAM,SAASU,GAE9B,IAAMmF,EAAQT,KAAKI,QAAQxF,IAAIU,GAC/B,GAAKmF,EAKL,OADAT,KAAKc,iBAAiBL,GACfA,EAAMzF,OAGf2E,EAAOnK,UAAU8L,IAAM,SAAShG,EAAUN,GACxC,IAAIyF,EAAQT,KAAKI,QAAQxF,IAAIU,GAE7B,OAAImF,GAEFA,EAAMzF,MAAQA,EACdgF,KAAKc,iBAAiBL,GACfT,OAITA,KAAKI,QAAQkB,IAAIhG,EAAMmF,EAAQ,IAAIH,EAAMhF,EAAKN,IAE1CgF,KAAKG,QAEPH,KAAKG,OAAOV,GAASgB,EACrBA,EAAMf,GAASM,KAAKG,QAGpBH,KAAKE,OAASO,EAIhBT,KAAKG,OAASM,IACZT,KAAKC,KACHD,KAAKC,KAAOD,KAAKJ,OAEnBI,KAAKjK,QAGAiK,OAGTL,EAAOnK,UAAUO,MAAQ,WAEvB,IAAM0K,EAAQT,KAAKE,OACnB,GAAIO,EAeF,OAdIT,KAAKE,OAAOT,IAEdO,KAAKE,OAASF,KAAKE,OAAOT,GAC1BO,KAAKE,OAAOR,QAASxF,IAGrB8F,KAAKE,YAAShG,EACd8F,KAAKG,YAASjG,GAIhBuG,EAAMhB,GAASgB,EAAMf,QAASxF,EAC9B8F,KAAKI,QAAQmB,OAAOd,EAAMnF,OACxB0E,KAAKC,KACA,CAACQ,EAAMnF,IAAKmF,EAAMzF,QAQ7B2E,EAAOnK,UAAUgM,KAAO,SAASlG,GAC/B,IAAMpE,EAAI8I,KAAKI,QAAQxF,IAAIU,GAC3B,OAAOpE,EAAIA,EAAE8D,WAAQd,GAGvByF,EAAOnK,UAAUiM,IAAM,SAASnG,GAC9B,OAAO0E,KAAKI,QAAQqB,IAAInG,IAG1BqE,EAAOnK,UAAU+L,OAAS,SAASjG,GACjC,IAAMmF,EAAQT,KAAKI,QAAQxF,IAAIU,GAC/B,GAAKmF,EAwBL,OArBAT,KAAKI,QAAQmB,OAAOd,EAAMnF,KACtBmF,EAAMhB,IAAUgB,EAAMf,IAExBe,EAAMf,GAAOD,GAASgB,EAAMhB,GAC5BgB,EAAMhB,GAAOC,GAASe,EAAMf,IACnBe,EAAMhB,IAEfgB,EAAMhB,GAAOC,QAASxF,EAEtB8F,KAAKE,OAASO,EAAMhB,IACXgB,EAAMf,IAEfe,EAAMf,GAAOD,QAASvF,EAEtB8F,KAAKG,OAASM,EAAMf,IAGpBM,KAAKE,OAASF,KAAKG,YAASjG,EAG9B8F,KAAKC,OACEQ,EAAMzF,OAGf2E,EAAOnK,UAAUyL,MAAQ,WAEvBjB,KAAKE,OAASF,KAAKG,YAASjG,EAC5B8F,KAAKC,KAAO,EACZD,KAAKI,QAAQa,SAOfV,EAAc/K,UAAUsF,OAAOoE,UAAY,WACzC,OAAOc,MAETO,EAAc/K,UAAU4L,KAAO,WAC7B,IAAMM,EAAM1B,KAAKS,MACjB,OAAIiB,GACF1B,KAAKS,MAAQiB,EAAIjC,GACV,CAAC4B,MAAM,EAAOrG,MAAO,CAAC0G,EAAIpG,IAAKoG,EAAI1G,SAEnC,CAACqG,MAAM,EAAMrG,WAAOd,IAQ/BwG,EAAYlL,UAAUsF,OAAOoE,UAAY,WACvC,OAAOc,MAETU,EAAYlL,UAAU4L,KAAO,WAC3B,IAAMM,EAAM1B,KAAKS,MACjB,OAAIiB,GACF1B,KAAKS,MAAQiB,EAAIjC,GACV,CAAC4B,MAAM,EAAOrG,MAAO0G,EAAIpG,MAEzB,CAAC+F,MAAM,EAAMrG,WAAOd,IAQ/ByG,EAAcnL,UAAUsF,OAAOoE,UAAY,WACzC,OAAOc,MAETW,EAAcnL,UAAU4L,KAAO,WAC7B,IAAMM,EAAM1B,KAAKS,MACjB,OAAIiB,GACF1B,KAAKS,MAAQiB,EAAIjC,GACV,CAAC4B,MAAM,EAAOrG,MAAO0G,EAAI1G,QAEzB,CAACqG,MAAM,EAAMrG,WAAOd,IAI/ByF,EAAOnK,UAAUmM,KAAO,WACtB,OAAO,IAAIjB,EAAYV,KAAKE,SAG9BP,EAAOnK,UAAUoM,OAAS,WACxB,OAAO,IAAIjB,EAAcX,KAAKE,SAGhCP,EAAOnK,UAAUqK,QAAU,WACzB,OAAOG,MAGTL,EAAOnK,UAAUsF,OAAOoE,UAAY,WAClC,OAAO,IAAIqB,EAAcP,KAAKE,SAGhCP,EAAOnK,UAAUsI,QAAU,SAAS+D,EAAkDC,GACpF,IAAIC,EAAcD,EACS,WAAvB,EAAOC,KACTA,EAAc/B,MAEhB,IAAIS,EAAQT,KAAKE,OACjB,MAAOO,EACLoB,EAAInM,KAAKqM,EAAatB,EAAMzF,MAAOyF,EAAMnF,IAAK0E,MAC9CS,EAAQA,EAAMhB,IAKlBE,EAAOnK,UAAUwM,OAAS,WACxB,IAAMtL,EAAI,IAAIiH,MAAMqC,KAAKC,MACrB7K,EAAI,EACJqL,EAAQT,KAAKE,OACjB,MAAOO,EACL/J,EAAEtB,KAAO,CAACkG,IAAKmF,EAAMnF,IAAKN,MAAOyF,EAAMzF,OACvCyF,EAAQA,EAAMhB,GAEhB,OAAO/I,GAITiJ,EAAOnK,UAAUgJ,SAAW,WAC1B,IAAI9H,EAAI,GACJ+J,EAAQT,KAAKE,OACjB,MAAOO,EACL/J,GAAKuL,OAAOxB,EAAMnF,KAAO,IAAMmF,EAAMzF,MACrCyF,EAAQA,EAAMhB,GACVgB,IACF/J,GAAK,OAGT,OAAOA,GC5QT,IAAMwL,EAAY,IAAIvC,EAAO,KAEvB,SAAUwC,EAAgBC,GAC9B,GAAI1D,EAAM0D,GACR,OAAOA,EAET,GAAIxD,EAAMwD,IAASA,EAAM,CACvB,IAAMC,EAASH,EAAUtH,IAAIwH,GAC7B,GAAIC,EACF,OAAOA,EAKT,IAHA,IAAMC,EAAWF,EAAgBG,MAAM,KACjCC,EAAQ,GAELpN,EAAI,EAAGA,EAAIkN,EAAQhN,OAAQF,IAAK,CACvC,IAAI0B,EAAIwL,EAAQlN,GAEhB,MAA2B,OAApB0B,EAAEA,EAAExB,OAAS,SAAkC4E,IAAnBoI,EAAQlN,EAAI,GAC7C0B,EAAIA,EAAEkF,MAAM,GAAI,GAAK,IACrBlF,GAAKwL,IAAUlN,GAGjBoN,EAAM5M,KAAKkB,GAGb,OADAoL,EAAUZ,IAAIc,EAAMI,GACbA,EAET,OAAI3D,EAAMuD,GACD,CAACA,GAEH,G,IAGHK,E,WAaJ,WAAYC,EAAcC,GAA4B,UACpD3C,KAAK0C,KAAOA,EACZ1C,KAAK4C,MAAQ,EACb5C,KAAK2C,SAAWA,EAChB3C,KAAK6C,MAAQ7C,KAAK8C,iBAClB9C,KAAK+C,iBAAmB,EACxB/C,KAAKgD,eAAiB,EACtBhD,KAAKiD,YAAc,EACnBjD,KAAKkD,cAAgB,E,+BAGhB,WAIL,IAHA,IAAIC,EAAO,GACPC,EAAO,GACLnM,EAAI+I,KAAK0C,KAAKpN,OACb0K,KAAK4C,MAAQ3L,EAAG+I,KAAK4C,QAC1BO,EAAOnD,KAAK0C,KAAKW,OAAOrD,KAAK4C,OAC7B5C,KAAKsD,IAAMrM,EAAI,IAAM+I,KAAK4C,MAC1B5C,KAAK6C,MAAMM,EAAMC,GACjBA,EAAOD,I,qBAIH,WACN,OAAOnD,KAAK0C,KAAKa,UAAUvD,KAAK+C,iBAAkB/C,KAAKgD,kB,gCAGjD,SAAmBG,EAAcC,GAC1B,MAATD,GACFnD,KAAKiD,eAEDjD,KAAKiD,aAAejD,KAAKkD,iBAC3BlD,KAAK6C,MAAQ7C,KAAKwD,sBAEf5C,EAAWwC,KACdpD,KAAKyD,YAAczD,KAAK0C,KAAKa,UACzBvD,KAAK0D,iBACL1D,KAAK4C,QAIX5C,KAAK2C,SAASc,YAAYzD,KAAKyD,aAC/BzD,KAAK2C,SAASgB,oBACT3D,KAAKiD,aAAgBjD,KAAKkD,gBAC7BlD,KAAK4C,MAAQ5C,KAAK0C,KAAKpN,SAEP,MAAT6N,GACTnD,KAAKkD,iBAEDlD,KAAKiD,aAAejD,KAAKkD,iBAC3BlD,KAAK6C,MAAQ7C,KAAKwD,sBAEf5C,EAAWwC,KACdpD,KAAKyD,YAAczD,KAAK0C,KAAKa,UACzBvD,KAAK0D,iBACL1D,KAAK4C,QAGX5C,KAAK2C,SAASc,YAAYzD,KAAKyD,aAC/BzD,KAAK2C,SAASiB,mBACT5D,KAAKiD,aAAgBjD,KAAKkD,gBAC7BlD,KAAK4C,MAAQ5C,KAAK0C,KAAKpN,UAEhBsL,EAAWuC,IAAkB,MAATA,GAAyB,MAATA,KACxCvC,EAAWwC,KACdpD,KAAKyD,YAAczD,KAAK0C,KAAKa,UACzBvD,KAAK0D,iBACL1D,KAAK4C,QAGNhC,EAAWuC,KACdnD,KAAK6C,MAAQ7C,KAAKwD,qBAClBxD,KAAK2C,SAASc,YAAYzD,KAAKyD,YAAsB,MAATN,O,kCAK1C,SAAqBA,GACd,MAATA,GACFnD,KAAKiD,cACLjD,KAAK2C,SAASkB,uBACI,MAATV,GACTnD,KAAKkD,gBACLlD,KAAK2C,SAASmB,sBACJlD,EAAWuC,KACrBnD,KAAK6C,MAAQ7C,KAAK+D,mBAClB/D,KAAK0D,iBAAmB1D,KAAK4C,MAC7B5C,KAAK4C,W,yBAID,SAAYO,EAAcC,GAC5BxC,EAAWuC,IACbnD,KAAKgD,eAAiBhD,KAAK4C,MAC3B5C,KAAK2C,SAAS1I,KAAK+F,KAAKgE,YACfhE,KAAKsD,MACdtD,KAAKgD,eAAiBhD,KAAK4C,MAAQ,EACnC5C,KAAK2C,SAAS1I,KAAK+F,KAAKgE,c,8BAIpB,SAAiBb,GACV,MAATA,GAAyB,MAATA,GAClBnD,KAAK6C,MAAQ7C,KAAKwD,qBAClBxD,KAAK4C,SACKhC,EAAWuC,KACrBnD,KAAK+C,iBAAmB/C,KAAK4C,MAC7B5C,KAAK6C,MAAQ7C,KAAKiE,iB,KAKlB,EAAgB,SAACC,GACrB,IAAKtF,EAAMsF,GACT,OAAOA,EAGT,IAAIC,EAIAC,EACAC,EAJEC,EAAQ,GACVC,EAAQ,GACRC,EAAU,GAiEd,OA7DA,IAAI/B,EAAkByB,EAAe,CACnCjK,KADmC,SAC9BqB,GACH+I,EAAO/I,GAETmI,YAJmC,SAIvBnI,EAAKmJ,GACf,GAAKnJ,EAAL,CAIA,GADAiJ,EAAQjJ,EACJmJ,EAGF,OAFAD,EAAUlJ,OACV8I,EAAeD,GAGbzF,EAAMyF,GACPA,EAAsBvO,KAAK0F,GACnBqD,EAAWwF,KACpBA,EAASK,GAAWJ,IAAiBD,EAAWK,EAAUlJ,GAAOA,GAEnEkJ,EAAU,GACVJ,EAAeD,IAEjBL,mBAtBmC,WAuB5BK,EAIHA,EAAW,IAHXE,EAAO,GACPF,EAAWE,GAIb,IAAMK,EAAOJ,EAAMA,EAAMhP,OAAS,GAC9BqJ,EAAW+F,GACbA,EAAKH,GAASJ,EACLxG,MAAMC,QAAQ8G,IACtBA,EAAe9O,KAAKuO,GAEvBG,EAAM1O,KAAKuO,IAEbN,oBArCmC,WAsC5BM,EAIHA,EAAW,IAHXE,EAAO,GACPF,EAAWE,GAIb,IAAMK,EAAOJ,EAAMA,EAAMhP,OAAS,GAC9BqJ,EAAW+F,GACbA,EAAKH,GAASJ,EACLxG,MAAMC,QAAQ8G,IACtBA,EAAe9O,KAAKuO,GAEvBG,EAAM1O,KAAKuO,IAEbP,iBApDmC,WAqDjCU,EAAMK,MACNR,EAAWG,EAAMA,EAAMhP,OAAS,IAElCqO,kBAxDmC,WAyDjCW,EAAMK,MACNR,EAAWG,EAAMA,EAAMhP,OAAS,MAEjCsP,QACIP,GAGH,EAAW,SAAC9F,EAAUsG,GAC1B,IAAMC,EAAmB,SAAnBA,EAAoBC,EAAkB3C,GAC1C,GAAIxD,EAAMmG,GACR,OAAOF,EAASE,EAAaA,GAE/B9F,EAAK8F,GAAa,SAAC1G,EAAW/C,GAC5B,IAAM0J,EAAU5C,EAAK6C,OAAO3J,GACxBoD,EAAML,IAASM,EAAWN,GAC5ByG,EAAiBzG,EAAM2G,GAEvBH,EAASG,EAAS3G,OAKxB,OAAOyG,EAAiBvG,EAAK,KAGzB,EAAY,SAACA,EAAUsG,GAC3B,IAAMC,EAAmB,SAAnBA,EAAoBC,EAAkB3C,GAC1C,OAAOhD,EAAI2F,GAAa,SAAC1G,EAAW/C,GAClC,IAAM0J,EAAU5C,EAAK6C,OAAO3J,GAC5B,OAAIoD,EAAML,IAASM,EAAWN,GACrByG,EAAiBzG,EAAM2G,GAEvBH,EACHG,EACAA,EAAQhJ,MAAM,EAAGgJ,EAAQ1P,OAAS,GAAG2P,OAAO5G,QAMtD,OAAOyG,EAAiBvG,EAAK,KAGzB2G,EAAoB,SAAC9C,GACzB,IAAM4C,EAAU7C,EAAgBC,GAC1B+C,EAAUH,EAAQA,EAAQ1P,OAAS,GACnC8P,EAAYJ,EAAQhJ,MAAM,EAAGgJ,EAAQ1P,OAAS,GAC9C6O,EAAW,EAAcgB,GAC/B,MAAO,CACL/C,KAAM4C,EACNG,UACAC,YACAjB,aAIE,EAAa,SAAC/B,GAClB,IAAMjM,EAAS,GACTkP,EAASH,EAAkB9C,GACjC,OAAIxD,EAAMyG,EAAOlB,UACR/B,EACEiD,EAAOlB,UAChB,EAASkB,EAAOlB,UAAU,SAACmB,EAAchK,GACvCnF,EAAOP,KAAK,CACVwM,KAAMiD,EAAOD,UAAUH,OAAOK,GAC9BF,UAAWC,EAAOD,UAClBG,QAASD,EACThK,WAGGnF,GAEAiM,GAIL,EAAe,SAACxH,GACpB,IAAM4K,EAAQ,IAAInF,IAClB,OAAO,SAAC9B,EAAU6D,EAAYpH,GAC5B,IAAIyK,EAAM,KAQV,OANKD,EAAM5K,IAAIwH,GAIbqD,EAAMD,EAAM5K,IAAIwH,IAHhBqD,EAAMP,EAAkB9C,GACxBoD,EAAMlE,IAAIc,EAAMqD,IAIb/G,EAAM+G,EAAItB,WAAcxF,EAAW8G,EAAItB,UAGrC,EAAUsB,EAAItB,UAAU,SAACuB,EAASpK,GACvC,OAAOV,EAAI2D,EAAKkH,EAAIL,UAAUH,OAAO3J,EAAIA,EAAIhG,OAAS,QAH/CsF,EAAI2D,EAAK6D,EAAMpH,KAQtB,EAAkB,SAAC2K,EAAgBC,GACvC,IAAMJ,EAAQ,IAAInF,IAClB,OAAO,SACH9B,EACA6D,EACApH,EACA6K,GAEF,IAAIC,EAAe,GAOnB,OANKN,EAAM5K,IAAIwH,GAIb0D,EAAQN,EAAM5K,IAAIwH,IAHlB0D,EAAQ,EAAW1D,GACnBoD,EAAMlE,IAAIc,EAAM0D,IAIbpH,EAAMoH,IAGPA,GAASA,EAAMxQ,QACjB2J,EAAK6G,GAAO,YAAmC,IAAjCxK,EAAiC,EAAjCA,IAAK8J,EAA4B,EAA5BA,UAAWG,EAAiB,EAAjBA,QAC5BI,EACIpH,EACA6G,EAAUH,OAAO3J,GACjBsK,EAAc5K,EAAOuK,GACrBM,MAIDtH,GAZEoH,EAAOpH,EAAK6D,EAAMpH,EAAO6K,KAgBhC,EAAiB,SAACpE,GACtB,IAAM+D,EAAQ,IAAInF,IAClB,OAAO,SAAC9B,EAAU6D,GAChB,IAAI0D,EAAa,GAOjB,OANKN,EAAM5K,IAAIwH,GAIb0D,EAAQN,EAAM5K,IAAIwH,IAHlB0D,EAAQ,EAAW1D,GACnBoD,EAAMlE,IAAIc,EAAM0D,IAIbpH,EAAMoH,MAGPA,IAASA,EAAMxQ,SACVkK,EAAMsG,GAAO,YAA0B,IAAxBV,EAAwB,EAAxBA,UAAW9J,EAAa,EAAbA,IAC/B,OAAOmG,EAAIlD,EAAK6G,EAAUH,OAAO3J,OAJ5BmG,EAAIlD,EAAK6D,KAYtB,SAAS2D,EAAOxH,EAAU6D,EAAYpH,GACpC,IAAK8D,EAAMP,KAAS6D,EAClB,OAAO7D,EAGT,IAAMyH,EAAW,EAAS5D,GAE1B,GAAI4D,KAAYzH,EACd,OAAOA,EAAIyH,GAKb,IAHA,IAAIC,EAAU1H,EACR+D,EAAUH,EAAgB6D,GAEvB5Q,EAAI,EAAGA,EAAIkN,EAAQhN,OAAQF,IAAK,CACvC,IAAKG,OAAOC,UAAU0Q,qBAAqBxQ,KAAKuQ,EAAS3D,EAAQlN,IAC/D,OAAO4F,EAKT,GAFAiL,EAAUA,EAAQ3D,EAAQlN,SAEV8E,IAAZ+L,GAAqC,OAAZA,EAAkB,CAM7C,GAAI7Q,IAAMkN,EAAQhN,OAAS,EACzB,OAAO0F,EAGT,OAIJ,OAAOiL,EAGT,SAASE,EACL5H,EACA6D,EACApH,EACA6K,GAEF,IAAII,EAAU1H,EACd,GAAKO,EAAMmH,IAAa7D,EAAxB,CAIA,IAAM4D,EAAW,EAAS5D,GAE1B,GAAI4D,KAAYC,EACdA,EAAQD,GAAsBhL,OAMhC,IAFA,IAAMsH,EAAUH,EAAgB6D,GAEvB5Q,EAAI,EAAGA,EAAIkN,EAAQhN,OAAQF,IAAK,CACvC,IAAM0B,EAAIwL,EAAQlN,GAClB,IAAK0J,EAAMmH,EAAQnP,IAAK,CACtB,QAAmBoD,IAAf+L,EAAQnP,SAA8BoD,IAAVc,EAC9B,OAEF,GAAI,QAAQoL,KAAK9D,EAAQlN,EAAI,EAAI,KAC/B,GAAIyQ,EAAW,CACb,IAAMQ,EAASR,EAAUvD,EAAQtG,MAAM,EAAG5G,IAErCiR,GAA0B,UAAhBA,EAAOjO,KAGpB6N,EAAQnP,GAAK,GAFbmP,EAAQnP,GAAK,QAKfmP,EAAQnP,GAAK,QAGfmP,EAAQnP,GAAK,GAIb1B,IAAMkN,EAAQhN,OAAS,IACzB2Q,EAAQnP,GAAKkE,GAGfiL,EAAUA,EAAQnP,KAItB,SAASwP,EAAU/H,EAAU6D,GAC3B,IAAI6D,EAAU1H,EACd,GAAKO,EAAMmH,IAAa7D,EAAxB,CAIA,IAAM4D,EAAW,EAAS5D,GAE1B,GAAI4D,KAAYC,SACPA,EAAQD,QAMjB,IAFA,IAAM1D,EAAUH,EAAgB6D,GAEvB5Q,EAAI,EAAGA,EAAIkN,EAAQhN,OAAQF,IAAK,CACvC,IAAM0B,EAAIwL,EAAQlN,GAElB,GAAIA,IAAMkN,EAAQhN,OAAS,EAMzB,YALIoJ,EAAMuH,GACRA,EAAQzP,OAAOM,EAAa,UAErBmP,EAAQnP,IAOnB,GAFAmP,EAAUA,EAAQnP,IAEbgI,EAAMmH,GACT,SAKN,SAASM,EAAShI,EAAU6D,GAC1B,IAAKtD,EAAMP,KAAS6D,EAClB,OAAO,EAGT,IAAM4D,EAAW,EAAS5D,GAE1B,GAAI4D,KAAYzH,EACd,OAAO,EAKT,IAHA,IAAI0H,EAAU1H,EACR+D,EAAUH,EAAgB6D,GAEvB5Q,EAAI,EAAGA,EAAIkN,EAAQhN,OAAQF,IAAK,CACvC,IAAI0J,EAAMmH,GAOR,OAAO,EANP,KAAM3D,EAAQlN,KAAM6Q,GAClB,OAAO,EAGTA,EAAUA,EAAQ3D,EAAQlN,IAM9B,OAAO,EAGF,IAAMoR,EAAQ,EAAaT,GACb,EAAgBI,EAAQK,GACrB,EAAgBF,EAAWE,GAC5B,EAAeD,G,yOCpkBtC,IAAM3I,EAAUc,EACV+H,EAAUlR,OAAOoM,KACjB+E,EAAUnR,OAAOC,UAAUC,eAUjC,SAASkR,EAAMC,EAAQC,EAAQC,GAE7B,GAAIF,IAAMC,EACR,OAAO,EAGT,GAAID,GAAKC,GAAkB,WAAb,EAAOD,IAA+B,WAAb,EAAOC,GAAgB,CAC5D,IAEIzR,EACAE,EACAgG,EAJEyL,EAAOnJ,EAAQgJ,GACfI,EAAOpJ,EAAQiJ,GAKrB,GAAIE,GAAQC,EAAM,CAEhB,GADA1R,EAASsR,EAAEtR,OACPA,IAAWuR,EAAEvR,OACf,OAAO,EAET,IAAKF,EAAIE,EAAgB,IAARF,KACf,IAAKuR,EAAMC,EAAExR,GAAIyR,EAAEzR,GAAI0R,GACrB,OAAO,EAGX,OAAO,EAGT,GAAIC,IAASC,EACX,OAAO,EAGT,IAAMC,EAAQL,aAAaM,KACrBC,EAAQN,aAAaK,KAC3B,GAAID,IAAUE,EACZ,OAAO,EAET,GAAIF,GAASE,EACX,OAAOP,EAAEQ,YAAcP,EAAEO,UAG3B,IAAMC,EAAUT,aAAaU,OACvBC,EAAUV,aAAaS,OAC7B,GAAID,IAAYE,EACd,OAAO,EAET,GAAIF,GAAWE,EACb,OAAOX,EAAEpI,aAAeqI,EAAErI,WAE5B,IAAMgJ,EAAOZ,aAAaa,IACpBC,EAAOb,aAAaY,IAC1B,GAAID,GAAQE,EACV,OAAOd,EAAEpP,OAASqP,EAAErP,KAEtB,IAAMmK,EAAO8E,EAAQG,GAGrB,GAFAtR,EAASqM,EAAKrM,OAEVA,IAAWmR,EAAQI,GAAGvR,OACxB,OAAO,EAGT,IAAKF,EAAIE,EAAgB,IAARF,KACf,IAAKsR,EAAQhR,KAAKmR,EAAGlF,EAAKvM,IACxB,OAAO,EAMX,IAAKA,EAAIE,EAAgB,IAARF,KAEf,GADAkG,EAAMqG,EAAKvM,GACC,WAARkG,IAAoBsL,EAAEe,SAOxB,GAAIlJ,EAAKqI,IACP,GAAIA,EAAO,CAACF,EAAGA,EAAEtL,GAAMuL,EAAGA,EAAEvL,IAAOA,KAC5BqL,EAAMC,EAAEtL,GAAMuL,EAAEvL,GAAMwL,GACzB,OAAO,OAKX,IAAKH,EAAMC,EAAEtL,GAAMuL,EAAEvL,GAAMwL,GACzB,OAAO,EAOf,OAAO,EAGT,OAAIF,GAAKC,GAAkB,oBAAND,GAAiC,oBAANC,EACvCD,EAAEpI,aAAeqI,EAAErI,WAGrBoI,IAAMA,GAAKC,IAAMA,EAKnB,IAAMe,EAAU,SAAuBhB,EAAQC,EAAQC,G,MAC5D,IACE,OAAOH,EAAMC,EAAGC,EAAGC,GACnB,MAAOnN,GACP,IACkB,QAAb,EAAAA,EAAMK,eAAO,eAAE6N,MAAM,uBACJ,aAAlBlO,EAAMmO,OAOR,OALAlM,QAAQmM,KACJ,wDACApO,EAAMM,KACNN,EAAMK,UAEH,EAGT,MAAML,I,UC/HV,ICPM,EAAMpE,OAAOC,UAAUC,eAEvB,EAAWF,OAAOC,UAAUgJ,SAE5B,SAAUwJ,GAAQjJ,GAEtB,GAAW,MAAPA,EACF,OAAO,EAIT,GAAmB,mBAARA,EACT,OAAO,EAIT,GAAmB,kBAARA,EACT,OAAO,EAIT,GAAmB,kBAARA,EACT,OAAsB,IAAfA,EAAIzJ,OAIb,GAAmB,oBAARyJ,EACT,OAAsB,IAAfA,EAAIzJ,OAIb,GAAIqI,MAAMC,QAAQmB,GAAM,CACtB,GAAmB,IAAfA,EAAIzJ,OACN,OAAO,EAET,IAAK,IAAIF,EAAI,EAAGA,EAAI2J,EAAIzJ,OAAQF,IAC9B,QACe8E,IAAX6E,EAAI3J,IACO,OAAX2J,EAAI3J,IACO,KAAX2J,EAAI3J,IACO,IAAX2J,EAAI3J,GAEN,OAAO,EAGX,OAAO,EAIT,GAAI2J,aAAenG,MACjB,MAAuB,KAAhBmG,EAAI/E,QAIb,GAAI+E,EAAIP,WAAa,EACnB,OAAQO,EAAIP,YAEV,IAAK,gBACL,IAAK,eACL,IAAK,eACH,OAAoB,IAAbO,EAAIkB,KAIb,IAAK,kBACH,IAAK,IAAM3E,KAAOyD,EAChB,GAAI,EAAIrJ,KAAKqJ,EAAKzD,GAChB,OAAO,EAIX,OAAO,EAMb,OAAO,ECtET,I,yECPA,gGAIa2M,EAAe,CAC1BC,SAAU,CAAC9P,KAAM+P,QAASC,SAAS,GACnCC,UAAW,CACTjQ,KAAMuF,MAAOyK,QAAS,WACpB,MAAO,CAAC,OAAQ,WAGpBpN,MAAOiH,OACP9F,SAAU8F,OACVqG,UAAW,CACTlQ,KAAM6J,OACNmG,QAAS,UAIAG,EAAa,SAACvL,EAAOwL,GAChC,MAAe,eAAaxL,EAAOwL,GAA5BvI,EAAP,EAAOA,KACDwI,EAAS,iBAAI,IACbC,EAAW,iBAAI,SACfC,EAAU,uBAAS,WACvB,OAAQD,EAAS1N,MAAQ0N,EAAS1N,MAAQ,MAAQ,KAAOyN,EAAOzN,MAAQyN,EAAOzN,MAAQ,OAEnFuC,EAAUP,EAAMqL,UAAUjJ,KAAI,SAAAwJ,GAAI,MAAK,CAC3C5N,MAAO4N,EACPC,MAAOD,EAAO,UAoBhB,OAlBA,oBAAM,kBAAMD,EAAQ3N,SAAO,SAACA,GAC1BwN,EAAIM,KAAK,eAAgB9N,GACzBwN,EAAIM,KAAK,SAAU9N,MAErB,oBAAM,kBAAMgC,EAAMhC,SAAO,SAAC+N,GACxB,GAAiB,kBAANA,GACT,GAAIA,IAAMJ,EAAQ3N,MAAO,CACvB,IAAMgO,EAAchM,EAAMqL,UAAU7G,MAAK,SAAA1K,GAAC,OAAIiS,EAAEE,WAAWnS,EAAI,UAC3DkS,IACFN,EAAS1N,MAAQgO,GAEnBP,EAAOzN,MAAQ+N,EAAEG,QAAQF,EAAc,MAAO,UAGhDN,EAAS1N,MAAQ,KACjByN,EAAOzN,MAAQ,OAEhB,CAACmO,WAAW,IACR,CACLT,WAAUD,SAAQlL,UAAS6L,aAAcT,EAAS1I,U,+LC/CzCoJ,EAAuB,SAACC,GACnC,OAAO,SAACtM,EAAOwL,GACb,MAAe,eAAaxL,EAAOwL,GAA5BvI,EAAP,EAAOA,KACP,kCAAuB,6BAAKA,KAAMA,EAAKjF,OAAUgC,GAAUwL,EAAIe,OAC/Bf,EAAIgB,SAK3BC,EAAgB,SAAuBlL,EAAK6D,EAAMsH,GAC7D,IAAIC,EAAUpL,EACVyH,EAAW5D,EACf4D,EAAWA,EAASkD,QAAQ,YAAa,OACzClD,EAAWA,EAASkD,QAAQ,MAAO,IAInC,IAFA,IAAMU,EAAS5D,EAASzD,MAAM,KAC1BnN,EAAI,EACGyU,EAAMD,EAAOtU,OAAQF,EAAIyU,EAAM,IAAKzU,EAAG,CAChD,IAAKuU,IAAYD,EACf,MAEF,IAAMpO,EAAMsO,EAAOxU,GACnB,KAAIkG,KAAOqO,GAEJ,CACL,GAAID,EACF,MAAM,IAAI9Q,MAAM,mDAElB,MALA+Q,EAAUA,EAAQrO,GAQtB,MAAO,CACLb,EAAGkP,EACHG,EAAGF,EAAOxU,GACV2T,EAAGY,EAAUA,EAAQC,EAAOxU,IAAM,OAIzB2U,EAAO,c,4uDCrCb,IAEKC,EAKAC,GALZ,SAAYD,GACV,iBACA,wBAFF,CAAYA,MAAI,KAKhB,SAAYC,GACV,iBACA,iBACA,yBACA,uBACA,qBACA,yBACA,yBACA,iBACA,qBACA,2BACA,eACA,qBACA,yBACA,iBACA,mBACA,iBACA,qBACA,iBACA,mCACA,uBACA,qBACA,qBACA,uBACA,kCACA,mBACA,mBACA,iBACA,qBACA,yBACA,2BACA,iCA/BF,CAAYA,MAAU,KAkCf,IAAMC,EAAU,UACVC,EAAS,SAGhB,SAAUC,EAAKhM,EAAOiM,EAAGC,GAC7BlM,EAAM5H,OAAN,MAAA4H,EAAK,CAAQiM,EAAG,GAAX,SAAiBjM,EAAM5H,OAAO8T,EAAG,EAAGlM,EAAMiM,OAG1C,IAAME,EAAoB,SAACnL,GAChC7J,OAAOoM,KAAKvC,GAAKtB,SAAQ,SAAAxC,GACvBkP,EAAclP,GAAKgB,OAAS8C,EAAI9D,OAIvBmP,EAAqB,SAACrL,GACjC7J,OAAOoM,KAAKvC,GAAKtB,SAAQ,SAAAxC,GACvB,IAAKkP,EAAclP,GACjB,MAAM,IAAI1C,MAAJ,YAAe0C,IAEvBkP,EAAclP,GAAKiB,QAAU6C,EAAI9D,OAKxBkP,EAAgC,CAC3CE,MAAO,CACLnO,QAAS,KACTD,OAAQ,MAEVqO,MAAO,CACLpO,QAAS,KACTD,OAAQ,MAEVsO,OAAQ,CACNrO,QAAS,KACTD,OAAQ,MAEVuO,IAAK,CACHtO,QAAS,KACTD,OAAQ,MAEVwO,QAAS,CACPvO,QAAS,KACTD,OAAQ,MAEVyO,OAAQ,CACNxO,QAAS,KACTD,OAAQ,MAEV0O,KAAM,CACJzO,QAAS,KACTD,OAAQ,MAEV2O,SAAU,CACR1O,QAAS,KACTD,OAAQ,MAEV4O,OAAQ,CACN3O,QAAS,KACTD,OAAQ,MAEVa,OAAQ,CACNZ,QAAS,KACTD,OAAQ,MAEV6O,QAAS,CACP5O,QAAS,KACTD,OAAQ,MAEV8O,IAAK,CACH7O,QAAS,KACTD,OAAQ,MAEV+O,MAAO,CACL9O,QAAS,KACTD,OAAQ,MAEVgP,SAAU,CACR/O,QAAS,KACTD,OAAQ,MAEViP,KAAM,CACJhP,QAAS,KACTD,OAAQ,MAEVkP,MAAO,CACLjP,QAAS,KACTD,OAAQ,MAEVmP,OAAQ,CACNlP,QAAS,KACTD,OAAQ,MAEVoP,MAAO,CACLnP,QAAS,KACTD,OAAQ,OAICqP,EAAiB,SAAC/O,G,MAC7B,GAAIA,EAAMgP,KAAM,CACd,GAAIhP,EAAMI,MAAMO,QACd,OAAOX,EAAMI,MAAMO,QAErB,GAA0B,oBAAfX,EAAMgP,KAAqB,CACpC,IAAMzV,EAASyG,EAAMgP,OACrB,GAAIjO,MAAMC,QAAQzH,GAChB,OAAOA,EACF,GAAIA,EAAO+C,KAIhB,OAHA/C,EAAO+C,MAAK,SAAApE,GACV8H,EAAMI,MAAMO,QAAUzI,KAEjB,QAEJ,GAA0B,WAAtB,EAAO8H,EAAMgP,OAAqBhP,EAAMgP,KAAK,QAItD,OAHAhP,EAAMgP,KAAK,SAAQ,SAAA9W,GACjB8H,EAAMI,MAAMO,QAAUzI,KAEjB,GAET,OAAO8H,EAAMgP,KAEf,OAAe,QAAX,EAAAhP,EAAMI,aAAK,eAAEO,SACoB,oBAAxBX,EAAMI,MAAMO,QACdX,EAAMI,MAAMO,WAAa,GACQ,WAA/B,EAAOX,EAAMI,MAAMO,SACrBX,EAAMI,MAAMO,SAAW,QADzB,EAIA,IAIEsO,EAAkB,SAACjP,GAC9B,OAAKA,EAAMkP,WAAiD5R,IAAzC0C,EAAMmP,eAAeF,gBAGpCG,EAAUpP,EAAMwL,SACXxL,EAAMwL,QAEXxL,EAAMxE,OAAS6R,EAAWgC,SACrB,GACErP,EAAMxE,OAAS6R,EAAWiC,MAC5B,CAAC,EAAG,GACqC,kBAAhCtP,EAAMuP,aAAahI,SAC5B,KACEvH,EAAMxE,OAAS6R,EAAW1U,OAC/BqH,EAAMwB,MACD,CAAC,IAED,GAGFxB,EAAMwB,MAAQ,GAAK,KAlBnBxB,EAAMmP,eAAeF,gBAAgBjP,IAuBnCwP,EAAmB,SAACjQ,GAC/B,OAAOqO,EAAcQ,KAAK7O,IAGfkQ,EAAkB,SAAClQ,GAC9B,OAAOqO,EAAcY,IAAIjP,IAGdmQ,EAAkB,SAACnQ,GAC9B,OAAOqO,EAAcK,IAAI1O,IAGdoQ,EAAqB,SAACpQ,GACjC,OAAOqO,EAAcrN,OAAOhB,IAGjBqQ,EAAoB,SAACrQ,GAChC,OAAOqO,EAAca,MAAMlP,IAGhBsQ,EAAsB,SAACtQ,GAClC,OAAOqO,EAAcM,QAAQ3O,IAGlBuQ,EAAqB,SAACvQ,GACjC,OAAOqO,EAAcI,OAAOzO,IAOjBwQ,EAAoB,SAA2BC,EAAalR,GACvE,MAAsB,kBAAXkR,EACFA,EACsB,kBAAblR,EACTkR,EAAOlR,GACe,oBAAbA,EACTA,EAASkR,QADX,GAKH,SAAUC,EAAQC,EAAYlQ,EAAwBmQ,GAC1D,IAAM3U,EAAOwE,EAAMxE,KACf4U,EAAe,SACnB,GAAIpQ,EAAMwB,MACR4O,EAAe,aACV,GAAa,WAAT5U,EACT4U,EAAe,cACV,GAAI5U,IAAS6R,EAAWgD,QAC7BD,EAAe,cACV,GAAI5U,IAAS6R,EAAWiD,OAC7BF,EAAe,cACV,GAAI5U,IAAS6R,EAAW1U,OAC7ByX,EAAe,cACV,GAAI5U,IAAS6R,EAAW/C,MAAQ9O,IAAS6R,EAAWkD,UAAY/U,IAAS6R,EAAWmD,MAAQhV,IAAS6R,EAAWoD,MACrHL,EAAe,YACV,GAAI5U,IAAS6R,EAAWqD,QAAUlV,IAAS6R,EAAWsD,aAAc,CACzE,IAAMhQ,EAAUoO,EAAe/O,GAC3BW,EAAQjI,SACV0X,EAAe,EAAOL,EAAkBpP,EAAQ,GAAIX,EAAMI,OAASJ,EAAMI,MAAMwQ,eAAiB,gBAEzFpV,IAAS6R,EAAWwD,WAAarV,IAAS6R,EAAWyD,gBAC9DV,EAAe,SAEjBD,EAAK3U,KAAO4U,EACR5U,IAAS6R,EAAW0D,MACtBZ,EAAKa,OAAS,OAEhBd,EAAMlX,KAAKmX,GAGN,IAAMc,EAAS,SAAC7S,GACrB,YAAiBd,IAAVc,GAAiC,OAAVA,GAGnBgR,EAAY,SAAChR,GACxB,OAAQ6S,EAAO7S,IAIJ8S,EAAyB,SAAC9S,EACAkD,G,MACjCX,EAAU,KAEZA,EADEI,MAAMC,QAAQ5C,GACNA,EAAMwG,MAAK,SAAAN,GAAE,OAAIA,EAAGhD,aAAeA,KAEnClD,EAEZ,IAAM+S,OAAgC7T,IAArBqD,EAAQwQ,SAAyBxQ,EAAQwQ,SAAW,KAC/D,EAAWxQ,EAAQyQ,UAAa,iBAAO,IAC7C,MAAO,CACLrR,UAAWY,EAAQZ,UACnBR,SAAUoB,EAAQQ,UAClB3F,KAAMmF,EAAQM,MACdkQ,WACAE,SAA0B,QAAhB,EAAA1Q,EAAQ0Q,gBAAQ,SAC1BC,cAAe3Q,EAAQ2Q,cACvB5F,UAAW/K,EAAQ+K,WAAa,QAChC6F,KAAM5Q,EAAQ4Q,KACdhR,OAAQI,EAAQJ,OAChB6Q,SAAU,SAACI,GACT,IAAMpR,EAAa,EAASoR,EAAY7Q,EAAQQ,YAAc,GAO9D,OANIqQ,EAAWnR,OAASM,EAAQQ,YAAcoM,IAAWnN,EAAMqR,cAC7DrR,EAAMqR,YAA0C,kBAArBD,EAAWnR,MAAsBmR,EAAWnR,MAAM3H,OAAS,EAAI,EAAI8Y,EAAWnR,MAAM3H,OAAU,GAEvH8Y,EAAWpR,OACbzH,OAAOmI,OAAOV,EAAOoR,EAAWpR,OAE3BA,M,ykBC5SN,IAAMsR,EAAb,kCAES,KAAAC,QAAkD,CACvDhS,QAAS,GACTD,OAAQ,IAEH,KAAAkS,KAAO,CACZjS,QAAS,GACTD,OAAQ,IARZ,sCAWS,SAAaiB,GAClB,IAAMwQ,OAAgC7T,IAArBqD,EAAQwQ,SAAyBxQ,EAAQwQ,SAAW,KAC/D7S,EAAOqC,EAAQW,WAAa8B,KAAKuO,QAAUvO,KAAKwO,KAChDC,EAAUvT,EAAKqC,EAAQQ,WACxB0Q,EAAQlR,EAAQM,SACnB4Q,EAAQlR,EAAQM,OAAS,IAE3B,IAAM6Q,EAA2B,eAAuBnR,EAASA,EAAQW,YACrE6P,EACFU,EAAQlR,EAAQM,OAAO,GAAK6Q,GACN,IAAbX,EACTU,EAAQlR,EAAQM,OAAO,GAAK6Q,EAE5BD,EAAQlR,EAAQM,OAAO,GAAK6Q,IAxBlC,oBA4BS,SAAOxT,EAAYiB,EAAoB/D,EAAcgG,GAC1D,IAAMqQ,GAAWvT,IAAS,OAAKyT,QAAU3O,KAAKuO,QAAUvO,KAAKwO,MAAMrS,GAAU/D,GAC7E,GAAKqW,EAGL,OAAIrQ,EACKqQ,EAAQ,IAAMA,EAAQ,IAAMA,EAAQ,GAEpCA,EAAQ,IAAMA,EAAQ,OApCnC,KAyCaG,EAAuB,IAAIN,EAE3BO,EAAkB,SAAC,GAO8B,IAN5BlS,EAM4B,EAN5BA,UACAoB,EAK4B,EAL5BA,UACAF,EAI4B,EAJ5BA,MAI4B,IAH5BkQ,gBAG4B,MAHjB,KAGiB,MAF5BC,gBAE4B,MAFjB,iBAAO,IAEU,MAD5B7Q,cAC4B,SAC5D,eAAkB,CAChBR,YAAWoB,YAAWF,QAAOkQ,WAAUC,WAAU9P,YAAY,EAAMf,YAY1D2R,EAAW,SAACnS,EACAoB,EACAF,GAE0G,IAD1GkQ,EAC0G,uDADtF,KACpBC,EAA0G,uDAAd,iBAAO,IAC1H,eAAkB,CAChBrR,YAAWoB,YAAWF,QAAOkQ,WAAUC,WAAU9P,YAAY,EAAOf,QAAQ,KAInE4R,EAAkB,SAC7BpS,EACAkB,GAEsG,IADtGkQ,EACsG,uDADlF,KACpBC,EAAsG,uDAAR,KAC9Fc,EAASnS,EAAW,OAASkB,EAAOkQ,EAAUC,IAGnCgB,EAAiB,SAC5BrS,EACAkB,GAEsG,IADtGkQ,EACsG,uDADlF,KACpBC,EAAsG,uDAAR,KAC9Fc,EAASnS,EAAW,OAAQkB,EAAOkQ,EAAUC,K,qBClG/ChX,EAAOD,QAAUkY,K,mcCkBV,IAAMC,EAAmD,CAC9DC,UAAW,CAAC/W,KAAM2I,OAAQqH,QAAS,GACnCgH,cAAe,CAAChX,KAAM+P,QAASC,SAAS,GACxCiH,WAAY,CAACjX,KAAM+P,QAASC,SAAS,GACrCF,SAAU,CAAC9P,KAAM+P,QAASC,SAAS,GACnCkH,OAAQ,CAAClX,KAAM,CAACuF,MAAOpI,SACvBga,WAAY,CAACnX,KAAM6J,QACnBuN,YAAa,CAACpX,KAAM7C,QACpBka,eAAgB,CAACrX,KAAM7C,SAGV,+BAAgB,CAC7B0E,KAAM,eACNyV,cAAc,EACd1S,MAAO,OAAF,QACHJ,MAAO,CAACxE,KAAM7C,OAAqCoa,UAAU,GAC7DC,SAAU,CAACxX,KAAM2I,OAAQqH,QAAS,IAClCyH,OAAQ,CAACzX,KAAM2I,OAAQqH,QAAS,IAChC0H,QAAS,CAAC1X,KAAM+P,QAASC,SAAS,GAClC2H,UAAW,CAAC3X,KAAM6J,OAAQmG,QAAS,8BAChC8G,GAEPc,MAAO,CAAC,MAAO,UACbC,MAZ6B,SAYvBjT,EAZuB,GAYH,IAAZwM,EAAY,EAAZA,MAAOV,EAAK,EAALA,KACblM,EAAsC,uBAAS,WACnD,OAAOI,EAAMJ,SAETY,EAAyB,oBAAO,QAChC0S,EAAW,uBAAS,WACxB,OAAO1S,EAAM0S,UAAYtT,EAAM5B,MAAMkV,YAEjCC,EAAkB,W,MACtB,IAAKD,EAASlV,QAAUgC,EAAMqS,YAAerS,EAAMmS,UAAY,GAAK3F,EAAMpB,SAClEpL,EAAMsS,OAAmBha,QAAU0H,EAAMmS,UAC/C,OAAO,KAET,IAAMiB,EAAoB,eAAgB5S,EAAMrB,UAC1CkU,EAAuB,eAAmB7S,EAAMrB,UAChDmU,EAAmB,IACK,QAAzB,EAAAtT,EAAMwS,mBAAmB,eAAEe,SAC9BD,EAAYE,MAAQ,QAEtB,IAAMC,EAAsBlb,OAAOmI,OAAO,CACxCgT,KAAM,4CACL1T,EAAMwS,aAET,GADAiB,EAAevI,SAAWA,EAASlN,OAASyV,EAAevI,UACtDuI,EAAeC,KAAM,CACxB,IAAMC,EAAa,OAAcjG,MAAMlN,EAAMrB,UAAUyU,KACvDH,EAAeC,KAAf,sCAEF,IAAM9F,EAAS,oDAAH,QAA6BiG,EAA7B,MAC2BP,GACHG,GAFxB,2BAEyCzT,EAAMuS,YAAc,SACzE,OAAIvS,EAAM8S,QACR,sCAAmB,CAACgB,OAAQ,cAA5B,CAA2ClG,IAE7C,iCAA2B5N,EAAM4S,UAAjC,EAA4ChF,KAA5C,2BAA4CA,OAExCiG,EAAa,WACjB/H,EAAK,QAEDiI,EAAe,WACnB,IAAMX,EAAoB,eAAgB5S,EAAMrB,UAC1C6U,EAAkB,eAAmBxT,EAAMrB,UAC3C8U,EAAiB,eAAkBzT,EAAMrB,UACzC+U,EAAmB,eAAoB1T,EAAMrB,UACnD,GAAIqB,EAAMrB,WAAa,OACrB,OAAQa,EAAMsS,OAAmBlQ,KAAI,SAAC8B,EAAI0B,GACxC,6CAAmB,CAACuO,SAAU,aAA9B,CACE,CAACC,EAAgBxO,GAAQ1B,QAI/B,IAAMoO,EAAStS,EAAMsS,QAAU,GAC/B,OAAI3R,MAAMC,QAAQ0R,GACTA,EAAOlQ,KAAI,SAAC8B,EAAI0B,GAAS,M,IAC9B,wCACwB5F,EAAM4S,UAD9B,wHAGiC,CACvByB,SAAU,WAJpB,EAKYnQ,KALZ,2BAKYA,MALZ,kCAOkD,QAA/B,EAAoB,QAApB,EAAAlE,EAAMyS,sBAAc,eAAG,gBAAQ,QAAI,QAPtD,IAO+D2B,EAAgBxO,IAP/E,mDAFJ,GAiBIsF,EAAW,uBAAS,WACxB,OAAOlL,EAAMkL,UAAY1K,EAAM0K,UAAY1K,EAAM8T,WAE7CF,EAAkB,SAACxO,GACvB,IAAM2O,EAAa,OAAc7G,MAAMlN,EAAMrB,UAAUoF,OACvD,IAAK2O,EAASlV,QAAUgC,EAAMoS,cAC5B,OAAO,KAET,IAAMoC,EAAc,IAAWxU,EAAM+S,UAAY,WAAnB,KAC3B/S,EAAM+S,UAAY,oBAAsB7H,EAASlN,QAEpD,6CAAmBgC,EAAM+S,UAAY,oBAArC,qCACYyB,EADZ,QAEc,WACFtJ,EAASlN,OACZ8N,EAAK,SAAUlG,KAJxB,uHAYF,MAAO,CACLmO,eACAZ,kBACA3S,UAGJvB,OA7G6B,WA8G3B,IAAOuB,EAASwC,KAATxC,MACDiU,EAAoB,eAAgBjU,EAAMrB,UAC1C2O,EAAU,CACd9K,KAAK+Q,eACL/Q,KAAKmQ,mBAEP,OAAInQ,KAAK8P,QACP,sCAAmB9P,KAAK+P,WAAxB,CAAoCjF,IAGT,WAAzB9K,KAAK0R,OAAOvV,SACP2O,EAEP,mCAA6B9K,KAAK6P,OAAlC,MAC4B7P,KAAK+P,UADjC,KAE0B,QAF1B,EAGGjF,KAHH,2BAGGA,S,yOCvJT,SAAS6G,EAAY/U,GACnB,OAAsC,IAAlCA,EAAMmP,cAAa,GAAMoC,OAGmB,WAAzC,EAAOvR,EAAMmP,cAAa,GAAMoC,QAAmE,IAA7CvR,EAAMmP,eAAeoC,KAAa7R,QAU3F,SAAUsV,EAAiC3U,EACA4U,EACAjV,GAC/C,GAAIA,EAAMxE,OAAS,OAAW7C,OAC5B,OAAOsc,EAET,IAAM7U,EAAa,CAACC,SACd6U,EAAgB,OAAc7G,SAAS,UACvCzB,EAAQ,CACZuI,MAAO,kBAAMF,IAEf,OAAOF,EAAY/U,GAAZ,2BAAmCI,EAAgBwM,GAAWqI,E,2lCCiBxD,oCAAgB,CAC7B5X,KAAM,mBACNyV,cAAc,EACd1S,MAAO,CACLoR,WAAY7Y,OACZyc,UAAW,CAACzc,OAAQoI,OACpBwQ,KAAM,CACJ/V,KAAM+P,QACNC,SAAS,GAEXpN,MAAO,CACL5C,KAAM,CAAC7C,OAAQ0M,OAAQkG,QAASpH,OAAQpD,QAE1CmN,QAAS,CACP1S,KAAM,CAAC7C,OAAQ0M,SAEjBiG,SAAU,CACR9P,KAAM+P,QACNC,SAAS,GAEXxF,MAAO7B,OACPqB,KAAMzE,MACNsU,WAAYtU,MACZf,MAAO,CACLxE,KAAM7C,OACNoa,UAAU,GAEZuC,WAAY,CAAC9Z,KAAMuF,QAErBqS,MAAO,CAAC,SAAU,gBAClBC,MA9B6B,SA8BvBkC,EA9BuB,GA8BT,WAALrJ,EAAK,EAALA,KACPtL,EAAyB,oBAAO,QAChC4U,EAAW,iBAAW,MACtBC,EAAW,iBAAS,MACpBjJ,EAAe,iBAAI+I,EAAOnX,OAAS,MACnC4B,EAAQ,uBAAS,kBAAMuV,EAAOvV,SACpC,oBAAM,kBAAMwM,EAAapO,SAAO,SAAC+D,GAC/BnC,EAAM5B,MAAMA,MAAQ+D,EAChBvB,EAAM0S,UAAYtT,EAAM5B,MAAMkV,WAChCpH,EAAK,eAAgB/J,GACrB+J,EAAK,SAAU/J,GACVnC,EAAM5B,MAAMsX,OACfC,KAGJ/U,EAAMgV,QAAQC,QAAQ,OAAiBC,YAAa,CAClDtQ,KAAMxF,EAAM5B,MAAM2X,UAClB3X,MAAO+D,EACPnC,MAAOA,EAAM5B,UAEd,CAAC4X,MAAM,IACV,IAAMC,EAAkB,SAAC7X,GACvB,IAAM2B,EAAYoP,IACZpP,IAAaA,EAAUsR,UAAc,eAAQ7E,EAAapO,MAAOA,KACrEoO,EAAapO,MAAQA,IAGnB8X,EAAuB,oBAAO,QACpC,oBAAM,kBAAMlW,EAAM5B,SAAO,SAAA+X,GACvBD,EAAgBE,SAASD,KACxB,CAAC5J,WAAW,IACf,oBAAM,kBAAMgJ,EAAOnX,SAAO,SAAAA,GACnB,eAAQoO,EAAapO,MAAOA,IAC/B6X,EAAgB7X,KAEjB,CAAC4X,MAAM,IACV,IAAMK,EAAkB,SAACF,EACAG,EACAtQ,EAAeuL,GACtC,OAAO,eAAYgE,EAAOD,WAAwB1U,EAAOuV,EAAYG,EAAYtQ,EAAOuL,EAAMrF,IAE1FoH,EAAW,uBAAS,kBAAM1S,EAAM0S,UAAYtT,EAAM5B,MAAMkV,YACxDnE,EAAe,WACnB,IAAInP,EAAM5B,MAAM8Q,KAGhB,OAAOlP,EAAM5B,MAAM+Q,cAAcmE,EAASlV,MAAOwC,EAAMrB,WAEnDgX,EAAa,uBAAS,WAC1B,IAAO/E,EAAgC+D,EAAhC/D,WAAYhM,EAAoB+P,EAApB/P,KAAM6P,EAAcE,EAAdF,WAClB9V,EAAYqB,EAAZrB,SACDiX,EAAkBrH,IAClBsH,OAAsCnZ,IAApBkZ,EAAgC,GAAK7d,OAAOmI,OAAO,GAAI0V,EAAgBpF,SAASpR,EAAM5B,QACxGsY,EAAY1W,EAAM5B,MAAM5C,KAgB9B,OAfIkb,IAAc,OAAW/d,SAC3B8d,EAAWlX,SAAWA,EACtBkX,EAAWnD,SAAWA,EAASlV,MAC/BqY,EAAWnB,WAAa9P,EACxBiR,EAAWpB,WAAaA,EACxBoB,EAAWE,WAAanF,EAAWmF,WACnCF,EAAWG,YAAcpF,EAAWoF,aAElC,eAAUpF,EAAWqF,eACvBJ,EAAWI,YAAcrF,EAAWqF,aAEtCJ,EAAW1D,SAAW/S,EAAM5B,MAAM2U,UAC9B,eAAOO,EAASlV,QAAUmB,IAAa,gBAClCkX,EAAW1D,SAEb0D,KAEHK,EAAa,uBAAS,WAC1B,OAAOvB,EAAOjK,UAAYtL,EAAM5B,MAAMkN,UAAatL,EAAM5B,MAAMgC,OAASJ,EAAM5B,MAAMgC,MAAMkL,YAEtFyL,EAAkB,SAAC/Q,GACtBwG,EAAapO,MAAgBxE,OAAOoM,EAAO,IAExCgR,EAAe,WACf,eAAUxK,EAAapO,OACrB5C,EAAK4C,QAAU,OAAWzF,OAC3B6T,EAAapO,MAAgBpF,KAAK,IAElCwT,EAAapO,MAAgBpF,KAAK,MAGjCwC,EAAK4C,QAAU,OAAWzF,OAC5Bsd,EAAgB,CAAC,KAEjBA,EAAgB,CAAC,QAIjBgB,EAAW,SAACpB,GAChB,IAAM3F,EAAQlQ,EAAM5B,MAAM6Y,YAAc,GAIxC,OAHqB,IAAjB/G,EAAMxX,QAAgBsH,EAAM5B,MAAM2U,UACpC,eAAQ7C,EAAOlQ,EAAM5B,MAAO,CAAC2U,UAAU,EAAM3V,QAAS,GAAF,OAAK4C,EAAM5B,MAAMiC,MAAjB,UAElDwV,EACK3F,EAAMhG,QAAO,SAAC5F,GAAD,OAAaA,EAAGuR,UAAYA,KAE3C3F,GAGH1U,EAAO,uBAAS,WACpB,OAAOwE,EAAM5B,MAAM5C,QAGfsE,EAAmB,WACvB,IAAO0R,EAAc+D,EAAd/D,WACAjS,EAAYqB,EAAZrB,SACDQ,EAAY,eAAqBR,GACjCa,EAAa,CACjB2S,SAAUO,EAASlV,MAAQ4B,EAAM5B,MAAM2U,SAAW,KAClD1S,MAAOmR,EAAWnR,MAClB4L,MAAOuF,EAAWnR,OAEpB,GAAId,IAAa,OACf,GAAIiS,EAAW0F,IAAK,CAClB,IAAMC,EAAW,OAAcrJ,MAAMlN,EAAMrB,UAAU6X,KAC/CC,EAA4B,OAAc9I,QAAQ,QAClD3B,EAAQ,CACZpB,QAAS,wDACNgG,EAAWnR,MADL,kCAEU,CAACiX,WAAY,MAAOC,MAAO,YAFrC,UAKXnX,EAAM6L,MAAN,oCACWuF,EAAW0F,IADtB,QAGU,SADCtK,QAGXxM,EAAM6L,MAAQuF,EAAWnR,MAW7B,OARImR,EAAWgG,eACb7e,OAAOmI,OAAOV,EAAOoR,EAAWgG,cAC5BhG,EAAWgG,aAAaC,UAC1BrX,EAAMC,MAAQ,KACdD,EAAM6L,MAAQ,OAGlBtT,OAAOmI,OAAOV,EAAOZ,EAAA,KAAOM,iBAAiBC,EAAWC,EAAM5B,MAAOmB,IAC9Da,GAEHuV,EAAW,SAACE,G,MAChB,IAAK7V,EAAM5B,MAAMsZ,QACf,OAAO,EAET,GAAkB,QAAd,EAAAvI,WAAc,eAAE5O,OAClB,OAAO,EAET,GAAI/E,EAAK4C,QAAU,OAAWzF,QAAU6c,EAASpX,MAAO,CACtD,IAAMoD,EAAQgU,EAASpX,MACjBuZ,EAAiBnW,EAAMpB,MAAMsS,OAAOxI,QAAO,SAAA5F,GAAE,OAAIA,EAAGqR,YAC1D,OAAO,IAAIlb,SAAQ,SAAAC,GACjBD,QAAQ+C,IAAIma,EAAenV,KAAI,SAAA8B,GAAE,OAAIA,EAAGqR,eACrCrZ,MAAK,SAAC0I,GACLtK,EAAQ,eAAKsK,EAAOkF,QAAO,SAAA5F,GAAE,QAAMA,aAI3C,IAAM4L,EAAQ+G,EAASpB,GACvB,GAAI3F,EAAMxX,OAAQ,CAChB,IAAMkf,EAAY,IAAI,OAAJ,KACf5X,EAAM5B,MAAM2X,UAAY7F,IAEvB9R,EAAQoO,EAAapO,MACrB,CAAC,OAAWiS,QAAS,OAAWC,OAAQ,OAAWnM,QAAQ0T,SAASrc,EAAK4C,SAC3EA,EAAQ0Z,WAAW1Z,IAErB,IAAM2Z,EAAQ,KACX/X,EAAM5B,MAAM2X,UAAY3X,GAE3B,OAAO,IAAI3D,SAAQ,SAACC,GAClBkd,EAAUjC,SAASoC,EAAO,CAACC,aAAa,IAAO,SAACC,GAC1CA,GACFjY,EAAM5B,MAAMsX,OAAQ,EACpB1V,EAAM5B,MAAM6Z,OAASA,EAAOzV,KAAI,SAAAzF,GAAK,OAAIA,EAAMK,aAE/C4C,EAAM5B,MAAMsX,OAAQ,EACpB1V,EAAM5B,MAAM6Z,OAAS,IAGrBvd,EADEud,EACMA,EAAOzV,KAAI,SAAA8B,GAAE,MAAK,CAAClH,QAASkH,EAAGlH,QAASoI,KAAMxF,EAAM5B,MAAM2X,cAE1D,YAKhB,OAAO,GAEHmC,EAAmB,SAAC/V,EAAU6D,GACjCwG,EAAapO,MAAgBxE,OAAOoM,EAAO,EAAG7D,GAC/CgW,EAAc3L,EAAapO,QAEvB+Z,EAAgB,IAAEC,UAAS,SAACha,GAChC,IAAI+D,EAAM/D,EACN,mBAAMA,KACR+D,EAAM,mBAAM/D,IAET,eAAQoO,EAAapO,MAAO+D,IAC/B8T,EAAgB9T,KAEjB,IAEGkW,EAA4B,SAACC,EAAUC,GAC3C,IAAMC,EAAsBD,EAAcxY,UACnCyR,EAAc+D,EAAd/D,WACHiH,EAAsB,EAC1B,GAAyC,kBAA9BjH,EAAWkH,eAA6B,CACjD,IAAMC,EAAe,eAAiB/X,EAAO,CAC3CpF,KAAMgW,EAAWkH,iBAEfC,EAAa5Y,YAAc,SAC7B0Y,EAAiBE,EAAa5Y,eAEvB,CAAC,WAAY,UAAU8X,SAAvB,EAAuCrG,EAAWkH,mBAC3DD,EAAiBjH,EAAWkH,gBAE9B,IAAMhN,EAAY6M,EAAc7M,UAC1BkN,EAAepM,EAAapO,MAASoO,EAAapO,MAAgBoE,KAAI,SAAC2J,EAAGnG,GAAS,MACjF6S,EAAiBlgB,OAAOmI,OAAO,GAAIwX,EAAU,CACjDhD,WAAaC,EAAO/P,KAAgC6C,OAAOrC,GAC3DqP,WAAYE,EAAO/P,OAEjBxF,EAAM5B,MAAM5C,OAAS,OAAW7C,SAClCkgB,EAAUrH,WAAa7Y,OAAOmI,OAAO,GAAI+X,EAAUrH,mBAC5CqH,EAAUrH,WAAWhQ,OAE9B,IAAMsX,EAAS9Y,EAAM5B,MAAM2a,iBAErBC,EAAYH,EAAUG,UACtBC,EAAQJ,EAAUI,MAmBxB,cAlBOJ,EAAUG,iBACVH,EAAUI,MACjBtgB,OAAOmI,OAAO+X,EAAS,+BAClBC,IADkB,GAErBI,MAAOF,EACPC,QACAE,WAAYnT,EACZsF,SAAUwL,EAAW1Y,MACrBM,IAAKsB,EAAM5B,MAAM2X,UAAY,IAAM/P,GANd,IAOpB0F,EAAYS,GAPQ,YAQK,WAAnBvL,EAAMrB,SAAwBS,EAAM5B,MAAMiC,MAAQ,MARpC,IASpB,YAAcqL,EAAY,IAAE0M,UAAS,SAACjW,GACrC,IAAMiX,EAAW5M,EAAapO,MAAM4H,GAC/B,eAAQ7D,EAAKiX,IAChBlB,EAAiB/V,EAAK6D,KAEvB,KAdkB,KAgBvB,2BAAgC6S,EAAhC,SACG,KACCQ,EAAa1gB,OAAOmI,OAAO,GAAIwX,EAAU9G,EAAW6H,YACpDC,EAAaD,EAAWL,UACxBO,EAAaF,EAAWJ,MA6C9B,cA5COI,EAAWL,iBACXK,EAAWJ,MAElBtgB,OAAOmI,OAAOuY,EAAY,CACxBH,MAAOI,EACPL,MAAOM,EACPjO,SAAUwL,EAAW1Y,MACrB8U,QAASlT,EAAM5B,MAAM5C,OAAS,OAAW7C,OACzCga,WAAY2F,EAAS3F,WACrBjU,IAAKsB,EAAM5B,MAAM2X,UACjBnD,YAAa0F,EAAS1F,YACtBI,SAAUsF,EAAStF,SACnBhT,MAAOA,EAAM5B,MACbob,IAAK,SAACC,GACJjE,EAASpX,MAAQqb,GAEnBC,SAAU,SAAO1T,GAAP,OAAgB,8HAIpB,OAJoB,SAEhB2T,EAAc,eAAmB/Y,EAAMrB,UAFvB,kBAIdoa,EAAY,WAAY,MAJV,OAKpB5C,EAAgB/Q,GALI,gHAUtBhH,QAAQjC,MAAR,MAVsB,iEAa1B6c,WAAY,SAAC5T,GACPA,GAAUwG,EAAapO,MAAgB1F,OAAS,GAClD,eAAK8T,EAAapO,MAAO4H,EAAOA,EAAQ,IAG5C6T,SAAU,SAAC7T,GACLA,EAAQ,GACV,eAAKwG,EAAapO,MAAO4H,EAAOA,EAAQ,IAG5C8T,MAAO,WACL9C,KAEFtE,OAAQkG,IAEV,2BAA2BS,EAA3B,OAEIU,EAAmB,uBAAS,WAChC,IAAMvI,EAAa+D,EAAO/D,WAC1B,OAAO,eAAcA,EAAWkB,WAE5BsH,EAAY,uBAAS,WACzB,IAAMxI,EAAa+D,EAAO/D,WACpByI,EAAS,eAAOzI,EAAWnR,OACjC,OAAO0Z,EAAiB3b,MAAMoE,KAAI,SAAC2T,EAAYnQ,GAAb,OAChCqQ,EAAgBF,EAAY3J,EAAapO,MAA6D4H,GAAQiU,SAI5GC,EAAuB,WAC3B,IAWMC,EAXA7B,EAAW/B,EAAWnY,MACrB8P,EAAuBqH,EAAvBrH,QAASsD,EAAc+D,EAAd/D,WACV+G,EAAgBpJ,IAClBqJ,EAAsBD,EAAcxY,UAIxC,GAHI,qBAAQyY,KACVA,EAAsB,mBAAMA,IAE1BtK,EACF,OAAOA,EAET,IAAKoF,EAASlV,OAAS4B,EAAM5B,MAAM+b,aAOjC,OAJEA,EADsC,oBAA7Bna,EAAM5B,MAAM+b,aACNna,EAAM5B,MAAM+b,aAAa3N,EAAapO,OAEtC4B,EAAM5B,MAAM+b,aAED,WAAxB,EAAOA,GACFA,EAEP,sCAAcA,IAGlB,IAAMlB,EAAatgB,OAAOmI,OAAO,GAAIyV,EAAWnY,MAAM6a,OAAS,IAC3DV,EAAchY,SAChB+X,EAAS/X,OAASiR,EAAWjR,OAC7B+X,EAAS5F,OAASsH,EAAU5b,MAC5Bka,EAAS8B,iBAAmBL,EAAiB3b,OAE/C,IAAMsN,EAAY6M,EAAc7M,UAOhC,GANA4M,EAAShN,SAAWwL,EAAW1Y,MAC3Bma,EAAclH,WAChBiH,EAAS5M,GAAac,EAAapO,OAErCka,EAASjY,MAAQiY,EAASjY,QAA8B,WAAnBO,EAAMrB,UAAyBgZ,EAAchY,OAAUP,EAAM5B,MAAMiC,MAAQ,MAE5GL,EAAM5B,MAAMoD,QAAoC,IAA3B+W,EAAcpH,SACrC,OAAOkH,EAA0BC,EAAUC,GAEzC/G,EAAWhW,OAAS,OAAW7C,QAC9B6Y,EAAWpR,QACToR,EAAWpR,MAAMA,QACpBoR,EAAWpR,MAAMA,MAAQ,IAE3BzH,OAAOoM,KAAKyM,EAAWpR,OAAOc,SAAQ,SAAAxC,GACxB,UAARA,IACF8S,EAAWpR,MAAMA,MAAM1B,GAAO8S,EAAWpR,MAAM1B,QAIrD,IAAMsa,EAAYV,EAASU,iBACpBV,EAASU,iBACTV,EAASW,MAEhB,IAAMH,EAAS9Y,EAAM5B,MAAM2a,iBAC3BpgB,OAAOmI,OAAOwX,EAAQ,+BACjBQ,GADmB,wBAETpN,GAAcyM,KAE7B,IAAMvL,EAAQ,GACd,GAAI4E,EAAW5E,MAAO,CACpB,IAAMyN,EAAW7I,EAAW5E,MAC5BjU,OAAOoM,KAAKsV,GAAUnZ,SAAQ,SAAAoZ,GACM,kBAAvBD,EAASC,GACd1Z,EAAM6G,KAAKmF,OAAShM,EAAM6G,KAAKmF,MAAMyN,EAASC,MAChD1N,EAAM0N,GAAY1Z,EAAM6G,KAAKmF,MAAMyN,EAASC,KAG9C1N,EAAM0N,GAAYD,EAASC,MAIjC,0DACMhC,EADN,OAGSU,EAHT,MAISC,EAJT,IAKOjZ,EAAM5B,MAAM2X,UALnB,IAMO,SAAC0D,GACJhE,EAASrX,MAAQqb,EACjBzZ,EAAM5B,MAAMqX,SAAWgE,KANhB7M,IASb,8BAAgB,WACdsJ,EAAgBqE,YAAYva,EAAM5B,UAEpC,IAAMoc,EAAY,WAEZ,eAAOhO,EAAapO,QACtB6X,EAAgB,eAAgBjW,EAAM5B,QAGxCzF,OAAOmI,OAAOd,EAAM5B,MAAO,CACzBuX,WACAvX,MAAOoO,EAAapO,MACpBqc,YAAa,SAACrc,GACZ,QAAcd,IAAVc,EACF,OAAOoO,EAAapO,MAEpB6X,EAAgB7X,MAKtBwC,EAAMgV,QAAQC,QAAQ,OAAiB6E,YAAa,CAClDlV,KAAMxF,EAAM5B,MAAM2X,UAClB3X,MAAOoO,EAAapO,MACpB4B,MAAOA,EAAM5B,SAGjBoc,IACA,IAAMG,EAAyB,W,kBACvB1F,EAAiBiF,IAChB1I,EAAc+D,EAAd/D,WACAjS,EAAYqB,EAAZrB,SACDqb,EAAyB,eAAqBrb,GAC9CiU,EAAoB,eAAgB5S,EAAMrB,UAC1Csb,EAAgB/a,IAChBmZ,EAAQ4B,EAAc5B,MACtBD,EAAY6B,EAAc7B,UAC1BT,EAAgBpJ,WACf0L,EAAc5B,aACd4B,EAAc7B,UAErB,IAAMiB,GAA0C,QAAhC,EAAwB,QAAxB,EAAU,OAAVzI,QAAU,IAAVA,OAAU,EAAVA,EAAYgG,oBAAY,eAAEyC,cAAM,QAA+B,QAA3B,EAAA1B,EAAcjH,qBAAa,eAAE2I,SAAW,eAAOzI,EAAWnR,OAExGoX,KAA8C,QAAjC,EAAwB,QAAxB,EAAU,OAAVjG,QAAU,IAAVA,OAAU,EAAVA,EAAYgG,oBAAY,eAAEC,eAAO,QAA+B,QAA3B,EAAAc,EAAcjH,qBAAa,eAAEmG,SAC/E,EAAQ,GACVA,EACF,EAAMze,KAAN,8CAEe,QAAX,EAAA4H,EAAMR,aAAK,eAAE4F,QACf,EAAMhN,KAAN,uCAAuB,mBAAvB,CAA0Cuc,EAAOvP,MAAQ,EAAzD,sCAEF,EAAMhN,KAAK6hB,EAAcxa,QAEvBwa,EAAcjO,MAChBiO,EAAcjO,MAAMX,MAAQ,kBAAM,GAElC4O,EAAcjO,MAAQ,CACpBX,MAAO,kBAAM,IAGjB,IAAMoC,EAAW4L,EAAShF,EAAH,mDAEf4F,EAFe,OAIZ7B,EAJY,MAKZC,IALY,6BAMlBhE,KAHQ4F,EAAcjO,QAK3B,OAAI4E,EAAWsJ,KACb,iCAA2BtJ,EAAWsJ,MAAtC,EAA6CzM,KAA7C,2BAA6CA,MAEtCA,GAIX,MAAO,CACLkI,aACA/a,OACA8X,WACA1S,QACAsZ,uBACApa,mBACA0M,eACAmO,yBACAX,cAGJ3a,OApgB6B,WAqgB3B,IAAMW,EAAQoD,KAAKpD,MACZuW,EAAuDnT,KAAvDmT,WAAY/E,EAA2CpO,KAA3CoO,WAAY8B,EAA+BlQ,KAA/BkQ,SAAkB/T,EAAa6D,KAArBxC,MAAQrB,SACjD,GAAIiS,EAAWtC,KAAM,CACnB,IAAMA,EAAO9L,KAAKxC,MAAM6G,KAAKmF,MAAM4E,EAAWtC,MACxChB,EAAUgB,EAAOA,SAAS5R,EAYhC,OAXIyD,MAAMC,QAAQkN,IAChBA,EAAQhN,SAAQ,SAAC6Z,GACfA,EAAK3a,MAAQ2a,EAAK3a,OAAS,GAC3B2a,EAAK3a,MAAM6Y,MAAQ8B,EAAK3a,MAAM6Y,OAAS,GACnCjZ,EAAM0X,eACDqD,EAAK3a,MAAM6Y,MAAMtH,QAExBoJ,EAAK3a,MAAM6Y,MAAMtH,QAAU,UAI1BzD,EAEJoF,IACHiD,EAAW/E,WAAaA,EACxB+E,EAAWvW,MAAQA,GAErB,IAAIyB,EAAO,KACX,GAAIlC,IAAa,OACfkC,EAAO2B,KAAKuX,8BACP,GAAIpb,IAAa,OAAQ,CAC9B,IAAM0V,EAAiB7R,KAAK8W,uBAE1BzY,EADE6R,EACK2B,EAEAD,EAAiChV,EAAMK,MAAO4U,EAAgBjV,GAGzE,IAAMiZ,EAAsC,GAM5C,OAJKjZ,EAAM0X,UACTuB,EAAMtH,QAAU,QAEjBlQ,EAAerB,MAAM6Y,MAAQA,EACvBxX,M,qxBC1lBEuZ,EAAkB,CAC7B3a,MAAOgF,Q,8ICMM,mCAAgB,CAC7BhI,KAAM,UACN+C,MAAO,OAAF,wBACA4a,GAAe,CAClBC,UAAW,CACTzf,KAAM6J,OACNmG,QAAS,WAEX1F,KAAM,CACJtK,KAAM+P,QACNC,SAAS,GAEX0P,OAAQ,CACN1f,KAAM+P,QACNC,SAAS,GAEX2P,SAAU,CACR3f,KAAM6J,OACNmG,QAAS,UAEXhQ,KAAM6J,OACN+V,QAASC,WAEXhI,MAvB6B,SAuBvBjT,EAAOwL,GACX,MAAe,eAAaxL,EAAOwL,GAA5BvI,EAAP,EAAOA,KACP,MAAO,CACLA,SAGJhE,OA7B6B,WA6BvB,WACEe,EAAK,+BACNgD,KAAK0R,QAAM,CACdsG,QAAShY,KAAKgY,QACdD,SAAU/X,KAAK+X,SACf9X,KAAMD,KAAKC,KACX6V,MAAO,IAAW9V,KAAK0R,OAAOoE,MAAb,KACd9V,KAAK6X,UAAY,QAAU7X,KAAK0C,OAEnCwV,MAAOlY,KAAK8X,OAAS,SAAW9X,KAAK0R,OAAOwG,QAE5B,WAAdlY,KAAK5H,KACP4E,EAAMmb,QAAS,EAEfnb,EAAM5E,KAAO4H,KAAK5H,KAEpB,IAAMggB,EAAcpY,KAAKqY,OAAOjQ,QAC1BoB,EAAQjU,OAAOmI,OAAO,GAAIsC,KAAKqY,OAAQ,CAC3CjQ,QAAS,WACP,MAAO,CACL,EAAKnL,MAAkB,OAAXmb,QAAW,IAAXA,OAAW,EAAXA,QAIlB,uCAAmBpb,EAAgBwM,MCzDvC,EAAO8O,QAAU,SAACC,GAChBA,EAAI5b,UAAU,EAAO1C,KAAM,IAGd,Q,6CCHT,EAAe,SAACe,EAAsB4S,GAC1C,GAAK5S,EAGL,MAAqB,kBAAVA,EACF,IAAOA,EAAO4S,GAEd,IAAO5S,IAMZ,EAAmB,SAACA,GACxB,YAAcd,IAAVc,GAAiC,OAAVA,EAClB,KAEAA,EAAMwd,UAIF,+BAAgB,CAC7Bve,KAAM,cACN+C,MAAO,CACLhC,MAAO,CACL5C,KAAM,CAAC6J,OAAQ1M,SAEjB2F,KAAM,CAAC9C,KAAM6J,OAAQmG,QAAS,SAEhC4H,MAAO,CAAC,eAAgB,UACxBC,MAT6B,SASvBjT,EATuB,GASV,IAAL8L,EAAK,EAALA,KACNM,EAAe,iBAAY,MAE3BwE,EAAS,uBAAS,WACtB,OAAQ5Q,EAAM9B,MACZ,IAAK,OACH,MAAO,aACT,IAAK,WACH,MAAO,0BAqBb,OAjBA,oBAAM,kBAAM8B,EAAMhC,SAAO,SAACA,GACxB,IAAMyd,EAAiB,EAAazd,EAAO4S,EAAO5S,OACvB,OAAvBoO,EAAapO,YAAyCd,IAAvBkP,EAAapO,MAC9CoO,EAAapO,MAAQyd,EACXA,EAEDrP,EAAapO,MAAMwD,aAAeia,EAAeja,aAC1D4K,EAAapO,MAAQyd,GAFrBrP,EAAapO,MAAQ,OAItB,CAACmO,WAAW,IACf,oBAAM,kBAAMC,EAAapO,SAAO,SAACA,GAC/B,IAAM+D,EAAM,EAAiB/D,QACTd,IAAhB8C,EAAMhC,OACR8N,EAAK,eAAgB/J,GAEvB+J,EAAK,SAAU/J,MAEV,CACLqK,eAAcsP,mBADT,SAC4B1d,GAC/BoO,EAAapO,MAAQA,KAI3BiB,OA5C6B,WA6C3B,IAAOf,EAAsB8E,KAAtB9E,KAAMkO,EAAgBpJ,KAAhBoJ,aACPuP,EAAqB,aAATzd,EAAsB,OAASA,EAC3C8B,EAAQ,OAAH,wBACNgD,KAAK0R,QAAM,CACd1W,MAAOoO,EACPlO,KAAMyd,EACN,iBAAkB3Y,KAAK0Y,qBAEzB,MAAa,SAATxd,EACF,2CAAkC8B,EAAlC,MAEW,UAAT9B,EACF,4CAAmC8B,EAAnC,MAEF,gCAAuBA,EAAvB,SCjFJ,EAAWsb,QAAU,SAACC,GACpBA,EAAI5b,UAAU,EAAW1C,KAAM,IAGlB,Q,wHCHA,mCAAgB,CAC7BA,KAAM,QACNyV,cAAc,EACd1S,MAAO,CAIL4b,SAAU,CACRxgB,KAAM+P,QACNC,SAAS,GAEXnI,KAAM,CACJ7H,KAAM6J,OACNmG,QAAS,WAEXF,SAAU,CACR9P,KAAM+P,QACNC,SAAS,GAEXyQ,SAAU,CACRzgB,KAAM+P,QACNC,SAAS,GAEX0Q,SAAU,CACR1gB,KAAM,CAAC2I,OAAQxL,SAEjBwjB,OAAQ,CACN3gB,KAAM6J,OACNmG,QAAS,MAEX4Q,WAAY,CACV5gB,KAAM6J,OACNmG,QAAS,MAEXlL,OAAQ,CACN9E,KAAM+P,SAKR8Q,WAAY,CACV7gB,KAAM,CAAC6J,OAAQlB,SAEjBmY,cAAe,CACb9gB,KAAM6J,QAERkX,iBAAkB,CAChB/gB,KAAM+P,SAERhL,OAAQ,CACN/E,KAAM6J,OACNmG,QAAS,cAEXuM,MAAO,CACLvc,KAAM7C,QAERuX,MAAO,CACL1U,KAAM7C,QAER6jB,SAAU,CACRhhB,KAAM6f,UAERoB,WAAY,CACVjhB,KAAM,CAAC2I,OAAQxL,UAGrBya,MAAO,CAAC,KAAM,UACZC,MAnE6B,SAmEvBjT,EAnEuB,GAmEL,IAAL8L,EAAK,EAALA,KACX+O,EAAY,iBAAI,YAChBvI,EAAqB,iBAAI,IACzBgK,EAAgB,WAAe,IAAdtc,EAAc,uDAAN,GACvBuc,EAAcvc,EAAM1H,OACJ,kBAAV0H,EACJsS,EAAOtU,MAAM8L,QAAO,SAAAlK,GAAK,OAAII,IAAWJ,EAAc4c,QACtDlK,EAAOtU,MAAM8L,QAAO,SAAAlK,GAAK,OAAII,EAAMyc,QAAS7c,EAAc4c,OAAS,KACrElK,EAAOtU,MACbue,EAAYzb,SAAQ,SAAAlB,GACjBA,EAAc0c,oBAGbI,EAAc,WACb1c,EAAM2X,MAIXrF,EAAOtU,MAAM8C,SAAQ,SAAAlB,GAClBA,EAAc+c,gBAJf/d,QAAQmM,KAAK,mEAOXwK,EAAW,SAAC1N,GAChB,GAAK7H,EAAM2X,MAAX,CAGA,IAAIvb,EACAwgB,EAAe/U,EAES,oBAAjB+U,GAA+BviB,UACxC+B,EAAU,IAAI/B,SAAQ,SAACC,EAASC,GAC9BqiB,EAAe,SAACtH,GACd,IAAMuH,EAAavK,EAAOtU,MAAMwG,MAAK,SAAAN,GAAE,MAAiC,UAA7BA,EAAG4Y,yBAC1CD,GACFA,EAAWE,QAEbzH,EAAQhb,EAAQgb,GAAS/a,EAAO+a,QAKtC,IAAIA,GAAQ,EACR0H,EAAQ,EAEgB,IAAxB1K,EAAOtU,MAAM1F,QAAgBskB,GAC/BA,GAAa,GAEf,IAAIK,EAAgB,GAapB,OAZA3K,EAAOtU,MAAM8C,SAAQ,SAAAlB,GACnBA,EAAM2V,SAAS,IAAI,SAACvY,EAAS4C,GACvB5C,IACFsY,GAAQ,GAEV2H,EAAgB1kB,OAAOmI,OAAO,GAAIuc,EAAerd,GACrB,oBAAjBgd,KAAiCI,IAAU1K,EAAOtU,MAAM1F,QACjEskB,EAAatH,EAAO2H,SAKtB7gB,QAAJ,IAII8gB,EAAgB,SAACld,EAAOmd,GAC5B,IAAMC,EAAY,GAAGnV,OAAOjI,GACtBuc,EAAcjK,EAAOtU,MAAM8L,QAAO,SAAAlK,GAAK,OAAgD,IAA5Cwd,EAAUX,QAAS7c,EAAc4c,SAC7ED,EAAYjkB,OAIjBikB,EAAYzb,SAAQ,SAAAlB,GACjBA,EAAc2V,SAAS,GAAI4H,MAJ5Bve,QAAQmM,KAAK,6CAOXsS,EAAY,WAChB,OAAIrd,EAAME,OACD,SAEAF,EAAMG,QAGXmd,EAAgB,WACpB,GAAItd,EAAM4b,SACR,6CAAmBf,EAAU7c,MAAQ,gBAArC,6EAEuB,SAAC9D,GAClB4R,EAAK,SAAU5R,KAHrB,2BAIQ8F,EAAMgc,eAJd,4EAQe,SAAC9hB,GACR4R,EAAK,KAAM5R,IATnB,KAWY,UAXZ,MAYa,CAACgd,WAAY,QAZ1B,2BAYmClX,EAAM+b,cAKvC/N,EAAO,uBAAS,kBAAM,+BACvBhO,GAAK,CACR8L,OACAkK,SAAU,SAACpW,GACLA,GACF0S,EAAOtU,MAAMpF,KAAKgH,IAGtBua,YAAa,SAACva,GACRA,EAAM4c,MACRlK,EAAOtU,MAAMxE,OAAO8Y,EAAOtU,MAAMye,QAAQ7c,GAAQ,SAKvD,OADA,qBAAQ,OAAQoO,GACT,CACL6M,YACAvI,SACAgK,gBACAI,cACAnH,WACA2H,gBACAG,YACAC,kBAGJre,OAlM6B,SAkMtBuM,GAAG,I,EAAA,OAENqP,EAIErP,EAJFqP,UACAsB,EAGE3Q,EAHF2Q,iBACAC,EAEE5Q,EAFF4Q,SACAf,EACE7P,EADF6P,OAEIlb,EAAS6C,KAAKqa,YACdE,EAAgB,IAAW,eAC3B1C,EAD0B,uBACOsB,IAEvC,kFACoBC,EADpB,OAEkBjc,EAFlB,MAGiBod,GAHjB,2BAImB,QAAd,EAAAlC,EAAOjQ,eAAO,oBAAdiQ,GACA,EAAKiC,uB,YChNR,EAAe,SAACtf,EAA6B4S,GACjD,GAAK5S,EAGL,OAAOA,EAAM8L,QAAO,SAAA5F,GAAE,OAAI,eAAUA,MAAK9B,KAAI,SAAA8B,GAAE,OAAI,IAAOA,OAGtD,EAAmB,SAAClG,GACxB,YAAcd,IAAVc,EACKA,EAAMoE,KAAI,SAAA8B,GAAE,OAAIA,EAAGsX,iBAE1B,GAIW,+BAAgB,CAC7Bve,KAAM,eACN+C,MAAO,CACLhC,MAAO,CACL5C,KAAMuF,OAERzC,KAAM,CAAC9C,KAAM6J,OAAQmG,QAAS,SAEhC6H,MAR6B,SAQvBjT,EAAOwL,GACX,IAAOM,EAAQN,EAARM,KACDM,EAAe,iBAAc,MAC7BwE,EAAS,uBAAS,WACtB,OAAQ5Q,EAAM9B,MACZ,IAAK,OACH,MAAO,aACT,IAAK,WACH,MAAO,0BAIb,oBAAM,kBAAM8B,EAAMhC,SAAO,SAACA,GACxB,IAAMyd,EAAiB,EAAazd,EAAO4S,EAAO5S,OAC7CoO,EAAapO,MAENyd,EAGNrP,EAAapO,MAAMwD,aAAeia,EAAeja,aACnD4K,EAAapO,MAAQyd,GAHvBrP,EAAapO,MAAQ,GAFrBoO,EAAapO,MAAQyd,IAQtB,CAACtP,WAAW,IACf,oBAAM,kBAAMC,EAAapO,SAAO,SAACA,GAC/B,IAAM+D,EAAM,EAAiB/D,QACTd,IAAhB8C,EAAMhC,OACR8N,EAAK,eAAgB/J,GAEvB+J,EAAK,SAAU/J,MAEjB,MAAe,eAAa/B,EAAOwL,GAA5BvI,EAAP,EAAOA,KACDyY,EAAqB,SAAC1d,GAC1BoO,EAAapO,MAAQA,GAEjBgT,EAAW,WACf,sCACKxF,EAAIe,OAAK,CACZtJ,KAAMA,EAAKjF,MACXA,MAAOoO,EAAapO,MACpB,iBAAkB0d,KAGtB,MAAO,CAAC1K,aAEV/R,OArD6B,WAsD3B,mDAAmC+D,KAAKgO,WAAxC,SCxEJ,EAAYsK,QAAU,SAACC,GACrBA,EAAI5b,UAAU,EAAY1C,KAAM,IAGnB,Q,6ICFR,IAAMugB,EAAsB,CACjCxf,MAAO,CACL5C,KAAM6J,QAERwY,OAAQ,CACNriB,KAAM7C,OACN6S,QAAS,kBAAM,MAEjBsS,WAAY,CACVtiB,KAAM6J,OACNmG,QAAS,MAEXuS,UAAW,CACTviB,KAAM+P,QACNC,SAAS,GAEXwF,OAAQ,CACNxV,KAAM6J,OACNmG,QAAS,aAIA,EAAoB,SAACpL,EAAD,GAAoE,IAA3DuM,EAA2D,EAA3DA,MAAOT,EAAoD,EAApDA,KAAM8R,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,iBAAkBvS,EAAc,EAAdA,UACrF,EAAyB,eAAatL,EAAO,CAACuM,UAAvCrB,EAAP,EAAOA,SAAUjI,EAAjB,EAAiBA,KACX6a,EAAa,iBAAI,MACvB,oBAAM,kBAAM9d,EAAMhC,SAAiB,SAACA,GAClC,IAAMyd,EAAuBmC,EAAa5f,GACtC,eAAO8f,EAAW9f,OACpB8f,EAAW9f,MAAQyd,EACTA,EAEDqC,EAAW9f,MAAMwD,aAAeia,EAAeja,aACxDsc,EAAW9f,MAAQyd,GAFnBqC,EAAW9f,MAAQ,OAIpB,CAACmO,WAAW,IACf,IAAM6E,EAAW,WAAK,MACpB,kDACE/N,KAAMA,EAAKjF,MACXkN,SAAUA,EAASlN,OAChBgC,GACAuM,IAJL,GAKEvO,MAAO8f,EAAW9f,OALpB,uBAMesN,IAAc,SAACtN,GAC1B,IAAI,eAAUA,IAA+B,wBAArBA,EAAMwD,WAA9B,CAGA,IAAMia,EAAiBoC,EAAiB7f,GACxC8N,EAAK,UAAD,OAAWR,GAAamQ,GAC5BqC,EAAW9f,MAAQA,MAZvB,gBAcY,SAACA,GACT8N,EAAK,SAAU9N,MAfnB,sBAiBmCd,IAArBqP,EAAMwR,WAA2BxR,EAAMwR,WAAa/d,EAAM2d,WAjBxE,aAkBU3d,EAAM4Q,QAlBhB,KAqBF,MAAO,CACLI,WACA8M,eC3DW,+BAAgB,CAC7B7gB,KAAM,cACNyV,cAAc,EACd1S,MAAO,OAAF,UACAwd,GAELvK,MAN6B,SAMvBjT,EANuB,GAMH,IAAZ8L,EAAY,EAAZA,KAAMS,EAAM,EAANA,MACZqR,EAAe,SAAC5f,GACpB,GAAKA,EAGL,MAAqB,kBAAVA,EACF,IAAOA,EAAOgC,EAAM4Q,QAEpB,IAAO5S,IAGZ6f,EAAmB,SAAC7f,GACxB,OAAI,eAAUA,GACLA,EAAM4S,OAAO5Q,EAAM4Q,QAErB5S,GAET,EAGI,EAAkBgC,EAAO,CAAC8L,OAAMS,QAAOqR,eAAcC,mBAAkBvS,UAAW,UAFpF0F,EADF,EACEA,SACA8M,EAFF,EAEEA,WAEF,MAAO,CACL9M,WACA8M,eAGJ7e,OAhC6B,WAiC3B,+EAAsB,iBACjB+D,KAAKgO,YADV,SCpCSgN,EAA2B,CACtChgB,MAAO2C,MACPsd,UAAW,CACT7iB,KAAM6J,OACNmG,QAAS,SAEX8S,UAAW,CACT9iB,KAAM6J,OACNmG,QAAS,KAEXuS,UAAW,CACTviB,KAAM+P,QACNC,SAAS,GAEXqL,YAAa,CACXrb,KAAMuF,MACNyK,QAAS,iBAAM,CAAC,OAAQ,UAE1BwF,OAAQ,CACNxV,KAAM6J,OACNmG,QAAS,aAIA,EAAyB,SAACpL,EAAD,GAAoE,IAA3DuM,EAA2D,EAA3DA,MAAOT,EAAoD,EAApDA,KAAM8R,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,iBAAkBvS,EAAc,EAAdA,UACpF6S,EAAQ,iBAAI,MACZC,EAAM,iBAAI,MAChB,oBAAM,kBAAMpe,EAAMhC,SAAO,SAACA,GACxB,IAAMyd,EAAiBmC,EAAa5f,GAC/Byd,EAGM0C,EAAMngB,QAAUyd,EAAe,IAAM2C,EAAIpgB,QAAUyd,EAAe,KAC3E0C,EAAMngB,MAAQyd,EAAe,GAC7B2C,EAAIpgB,MAAQyd,EAAe,KAJ3B0C,EAAMngB,MAAQ,KACdogB,EAAIpgB,MAAQ,QAKb,CAACmO,WAAW,IACf,oBAAM,iBAAM,CAACgS,EAAMngB,MAAOogB,EAAIpgB,UAAQ,SAAC+N,GACrC,IAAM0P,EAAiBoC,EAAiB9R,GACxCD,EAAK,UAAD,OAAWR,GAAamQ,KAC3B,CAAC7F,MAAM,IACV,IAAMyI,EAAa,uBAAS,WAC1B,IAAMhI,EAAa,OAAH,UAAO9J,GAGvB,cAFO8J,EAAWrY,aACXqY,EAAW,YAAD,OAAa/K,IACvB+K,KAET,MAAO,CACLgI,aACAF,QACAC,QC/CW,G,UAAA,6BAAgB,CAC7BnhB,KAAM,mBACNqhB,WAAY,CACVC,YAAA,GAEF7L,cAAc,EACd1S,MAAO,OAAF,UACAge,GAEL/K,MAT6B,SASvBjT,EATuB,GASH,IAAZuM,EAAY,EAAZA,MAAOT,EAAK,EAALA,KACb8R,EAAe,SAAC5f,GACpB,OAAKA,EAGmB,WAApBgC,EAAMie,UACAjgB,EAAiBuH,MAAMvF,EAAMke,WAAqB9b,KAAI,SAAA8B,GAAE,OAAIA,KAE9DlG,EAAmBoE,KAAI,SAAA8B,GAAE,OAAIA,KAL5B,CAAC,KAAM,OAOZ2Z,EAAmB,SAAC7f,GACxB,MAAwB,WAApBgC,EAAMie,UACDjgB,EAAM6F,KAAK7D,EAAMke,WAEnBlgB,GAET,EAII,EAAuBgC,EACvB,CAAC8L,OAAMS,QAAOqR,eAAcC,mBAAkBvS,UAAW,UAJ3D+S,EADF,EACEA,WACAF,EAFF,EAEEA,MACAC,EAHF,EAGEA,IAGF,MAAO,CACLC,aACAF,QACAC,QAGJnf,OArC6B,WAqCvB,WACJ,6CACe,uBADf,sIAG2B+D,KAAKqb,WAHhC,CAI6C,MAAZ,EAAKF,MAJtC,oCAIiC,EAAKA,MAJtC,iBAKoCnb,KAAK2a,WAAa3a,KAAK0R,OAAOqJ,WALlE,OAM+B/a,KAAK4N,OANpC,YAOoC5N,KAAKyT,YAAY,KAPrD,6CAQoB,iCARpB,CAQqDzT,KAAKkb,YAR1D,gGAS2Blb,KAAKqb,WAThC,CAU2C,MAAV,EAAKD,IAVtC,oCAUiC,EAAKA,IAVtC,iBAWoCpb,KAAK2a,WAAa3a,KAAK0R,OAAOqJ,WAXlE,OAY+B/a,KAAK4N,OAZpC,YAaoC5N,KAAKyT,YAAY,KAbrD,cCvCJ,EAAW+H,YAAc,EACzB,EAAWlD,QAAU,SAACC,GACpBA,EAAI5b,UAAU,EAAW1C,KAAM,GAC/Bse,EAAI5b,UAAU,EAAgB1C,KAAM,IAGvB,Q,oCCJA,+BAAgB,CAC7BA,KAAM,UACN+C,MAAO,CACLye,SAAU,CACRrjB,KAAM+P,QAA8BC,SAAS,GAE/C7K,QAAS,CACPnF,KAAMuF,OAERgd,UAAW,CACTviB,KAAM+P,QAA8BC,SAAS,GAE/CsT,cAAe,CACbtjB,KAAM6J,OAAQmG,QAAS,SAEzBoF,cAAe,CACbpV,KAAM6J,OAAQmG,QAAS,SAEzBuT,aAAc,CACZvjB,KAAM,CAAC+P,QAAS8P,UAChB7P,QAAS,WACP,OAAO,SAACpN,EAAO4R,GACb,SAAI,eAAO5R,IAAoB,KAAVA,KAGd4R,EAAO/D,MAAMrK,WAAWiW,SAASzZ,IACjC4R,EAAO5R,MAAMwD,WAAWiW,SAASzZ,QAKhDiV,MA/B6B,SA+BvBjT,GACJ,MAAgC,eAAWA,GAA3B4e,EAAhB,EAAOre,QACP,MAAO,CAACqe,iBAEV3f,OAnC6B,WAoC3B,IAAMe,EAAK,6CACNgD,KAAKmS,QACLnS,KAAK0R,QAAM,CACdxW,KAAM8E,KAAKyb,SAAW,WAAazb,KAAK0R,OAAOxW,KAC/C6f,aAAY/a,KAAK2a,WAAmB3a,KAAK0R,OAAOqJ,WAChDxd,QAASyC,KAAK4b,eAEhB,uCAAmB5e,EAAnB,S,8YCvBW,mCAAgB,CAC7B/C,KAAM,YACN+C,MAAO,CACL6e,YAAa,CACXzjB,KAAM+P,QACNC,SAAS,GAEX0T,KAAM,CACJ1jB,KAAM6J,QAER4G,MAAO,CACLzQ,KAAM,CAAC6J,OAAQ1M,QACf6S,QAAS,IAEX6Q,WAAY,CACV7gB,KAAM,CAAC6J,OAAQlB,SAEjBmY,cAAe,CACb9gB,KAAM6J,QAERhI,KAAM,CACJ7B,KAAM6J,OACNmG,QAAS,IAEXuH,SAAU,CACRvX,KAAM+P,QACNC,SAAS,GAEX0E,MAAO,CACL1U,KAAM,CAAC7C,OAAQoI,QAEjBoe,eAAgB,CACd3jB,KAAM6J,QAERjH,MAAO,CACL5C,KAAM,CAAC7C,OAAQ0M,OAAQlB,OAAQpD,MAAOwK,WAG1C6H,MAAO,CAAC,YACRC,MAvC6B,SAuCvBjT,EAvCuB,GAuCH,IAAZ8L,EAAY,EAAZA,KAAMS,EAAM,EAANA,MACZyS,EAAU,iBAAI,MACdC,EAAc,iBAAI,IAClBnC,EAAwB,iBAAI,IAC5B9O,EAAuB,oBAAO,QAAQ,eACtCkR,EAAmB,kBAAI,GAEvBC,EAAa,uBAAS,WAC1B,GAAoB,OAAhBnf,EAAMhC,YAAkCd,IAAhB8C,EAAMhC,MAChC,OAAOgC,EAAMhC,MAEf,IAAM2Z,EAAQ3J,GAAQA,EAAKhQ,MAAM2Z,MACjC,GAAKA,GAAU3X,EAAM/C,KAArB,CAIA,IAAImI,EAAOpF,EAAM/C,KAIjB,OAH2B,IAAvBmI,EAAKqX,QAAQ,OACfrX,EAAOA,EAAK8G,QAAQ,IAAK,MAEpB,eAAcyL,EAAOvS,GAAM,GAAM2G,MAEpCqT,EAAa,uBAAS,WAC1B,OAAIpf,EAAM2S,SACD3S,EAAM2S,SAENkE,IAAWwI,MAAK,SAAAnb,GAAE,OAAIA,EAAGyO,eAG9BmJ,EAAW,uBAAS,WACxB,IAAIA,EAAgB,GAYpB,OAXIvP,EAAM,eACRuP,EAAWvP,EAAM,cAEfyB,GAAQA,EAAKhQ,MAAM8d,WACc,kBAAxB9N,EAAKhQ,MAAM8d,SACpBA,EAASpB,KAAO1M,EAAKhQ,MAAM8d,SAE3BA,EAAW9N,EAAKhQ,MAAM8d,UAG1BA,EAASjD,MAAQyG,EAAWthB,MACrB8d,KAEHwD,EAAa,uBAAS,WAC1B,IAAMrD,EAAajc,EAAMic,WAAajc,EAAMic,WAAcjO,GAAQA,EAAKhQ,MAAMie,WACvEC,EAAgBlc,EAAMkc,cAAgBlc,EAAMkc,cAAiBlO,GAAQA,EAAKhQ,MAAMke,eAAkB,QAClGrD,EAAa,GAMnB,OALIoD,IACFpD,EAAMrF,MAA8B,kBAAfyI,EAA2BA,EAAa,KAAQA,EACrEpD,EAAM0G,MAAQ,OACd1G,EAAM2G,UAAYtD,GAEbrD,KAEHwD,EAAa,uBAAS,WAC1B,IAAIA,EAAkB,GAgBtB,OAfI9P,EAAM,iBACR8P,EAAa9P,EAAM,gBAEjByB,GAAQA,EAAKhQ,MAAMqe,WACgB,kBAA1BrO,EAAKhQ,MAAMqe,WACpBA,EAAW3B,KAAO1M,EAAKhQ,MAAMqe,WAE7BA,EAAarO,EAAKhQ,MAAMqe,WAEjBrO,GAAQA,EAAKhQ,MAAM8d,UACO,kBAAxB9N,EAAKhQ,MAAM8d,WACpBO,EAAW3B,KAAO,GAAK1M,EAAKhQ,MAAM8d,UAGtCO,EAAWxD,MAAQ4G,EAAazhB,MACzBqe,KAEHoD,EAAe,uBAAS,WAC5B,MAAO,MAEH1C,EAAQ,WACRiC,EAAQhhB,OAASghB,EAAQhhB,MAAM+e,MAAMxe,KAAKygB,EAAQhhB,OAAOO,KAAKygB,EAAQhhB,OAAOO,KAAKygB,EAAQhhB,OAAOO,KAAKygB,EAAQhhB,OAAOO,KAAKygB,EAAQhhB,QACpIghB,EAAQhhB,MAAM+e,SAGZ2C,EAAkB,SAACjK,GACvB,IAAM3F,EAAQ+G,IACd,OAAO/G,EAAMhG,QAAO,SAAAiG,GAClB,OAAKA,EAAK0F,SAAuB,KAAZA,IAGjB9U,MAAMC,QAAQmP,EAAK0F,SACd1F,EAAK0F,QAAQgH,QAAQhH,IAAY,EAEjC1F,EAAK0F,UAAYA,MAEzBrT,KAAI,SAAA2N,GAAI,OAAIxX,OAAOmI,OAAO,GAAIqP,OAE7B8G,EAAW,WACf,IAAI8I,EAA2B3R,GAAQA,EAAKhQ,MAAM6Y,WAC5C+I,EAAY5f,EAAM8P,MAClB+P,OAAkC3iB,IAAnB8C,EAAM2S,SAAyB,CAACA,SAAU3S,EAAM2S,UAAY,GAC3E6J,EAAO,eAAcmD,EAAW3f,EAAM/C,MAAQ,IAEpD,OADA0iB,EAAYA,EAAanD,EAAK/e,EAAEuC,EAAM/C,MAAkB,KAAOuf,EAAKzQ,EAAK,GAClE,GAAG9D,OAAO2X,GAAaD,GAAa,IAAI1X,OAAO4X,IAElDC,EAAc,WAClBvK,EAAS,SAELwK,EAAgB,WAChBb,EAAiBlhB,MACnBkhB,EAAiBlhB,OAAQ,EAG3BuX,EAAS,WAELA,EAAW,KAAS,SAACE,GAA4B,IAAnB5N,EAAmB,uDAAR,OAC7C,wBAAW3L,MAAK,WACdgjB,EAAiBlhB,OAAQ,EACzB,IAAM8R,EAAQ4P,EAAgBjK,GAC9B,KAAM3F,GAA0B,IAAjBA,EAAMxX,cAAoC4E,IAAnB8C,EAAM2S,SAE1C,OADA9K,KACO,EAETiV,EAAsB9e,MAAQ,aAC9B,IAAMgiB,EAAa,GACflQ,GAASA,EAAMxX,OAAS,GAC1BwX,EAAMhP,SAAQ,SAAAiP,UACLA,EAAK0F,WAGhBuK,EAAWhgB,EAAM/C,MAAkB6S,EACnC,IAAM0H,EAAY,IAAI,OAAewI,GAC/BrI,EAAQ,KACX3X,EAAM/C,KAAiBkiB,EAAWnhB,OAErCwZ,EAAUjC,SAASoC,EAAO,CAACC,aAAa,IAAO,SAACC,EAAQoF,GACtDH,EAAsB9e,MAAS6Z,EAAqB,QAAZ,UACxCoH,EAAYjhB,MAAQ6Z,EAASA,EAAO,GAAG7a,QAAU,GACjD6K,EAASoX,EAAYjhB,MAAOif,GAC5BnR,EAAK,YAAa+L,EAAQA,GAC1B7J,GAAQA,EAAKhQ,MAAM8N,KAAK,WAAY9L,EAAM/C,MAAO4a,EAAQoH,EAAYjhB,OAAS,cAGjF,KACGiiB,EAAW,kCACjB,8BAAgB,WACVjgB,EAAM/C,MACR+Q,EAAKhQ,MAAMmc,YAAY8F,MAGvBjgB,EAAM/C,MACR+Q,EAAKhQ,MAAMgY,SAASiK,GAEtB,IAAMhS,EAA0C,uBAAS,kBAAM,+BAC1DjO,GAAK,CACRuV,WACA2K,WAAY,SAACC,GACXnB,EAAQhhB,MAAQmiB,GAElBC,OAAQN,EACRO,SAAUN,OAGZ,OADA,qBAAQ,WAAY9R,GACb,CACL+Q,UACAC,cACAnC,wBACA9O,OACAkR,mBACAC,aACAC,aACAtD,WACAwD,aACAjD,aACAoD,eACA1C,QACA2C,kBACA7I,WACAiJ,cACAC,gBACAxK,aAGJtW,OA5N6B,WA6N3B,IAAMe,EAAK,+BACNgD,KAAK0R,QACL1R,KAAKmS,QAEJtJ,EAAQ7L,EAAM6L,MACdW,EAAQ,OAAH,UAAOxJ,KAAKqY,QAavB,OAZ2B,WAAvB,EAAOrb,EAAM6L,QAAsBW,EAAMX,SAC3CW,EAAMX,MAAQ7I,KAAKqY,OAAOxP,OAAU,kBAAMA,UACnC7L,EAAM6L,OAEX7I,KAAK8b,MAAQ9b,KAAKic,YACpBjf,EAAM8e,KAAO9b,KAAK8b,MAAQ9b,KAAKic,YAE/Bjf,EAAM8e,UAAO5hB,EAEf8C,EAAM8b,SAAW9Y,KAAK8Y,SACtB9b,EAAM+e,eAAiB/b,KAAK+b,gBAAkB/b,KAAK8Z,sBACnD9c,EAAMqc,WAAarZ,KAAKqZ,WACxB,sEAAwBrc,EACKwM,M,gJCtQlB,mCAAgB,CAC7BvP,KAAM,iBACN+C,MAAO,CACLO,QAASI,MACT+Z,KAAM3W,OACN2a,cAAe,CACbtjB,KAAM6J,OAAQmG,QAAS,SAEzBoF,cAAe,CACbpV,KAAM6J,OAAQmG,QAAS,UAG3B6H,MAZ6B,SAYvBjT,GACJ,MAAgC,eAAWA,GAA3B4e,EAAhB,EAAOre,QACP,MAAO,CAACqe,iBAEV3f,OAhB6B,WAgBvB,WACEe,EAAQ,OAAH,UACNgD,KAAK0R,QAEJlI,EAAQ,OAAH,UACNxJ,KAAKqY,QAEV,GAAIrY,KAAK4b,cAAgB5b,KAAK0X,KAAM,CAClC,IAAM4F,EAAOC,KAAKC,IAAI,GAAMxd,KAAK0X,MAC3B+F,EAAS,IAAMzd,KAAK4b,aAAc0B,GACxC9T,EAAMpB,QAAU,kBAAMqV,EAAOre,KAAI,SAAA9E,GAAC,sFAG1BA,EAAE8E,KAAI,SAAA3E,GAAC,6EACU,EAAKid,MADf,gGAEejd,EAFf,2BAEmBA,EAAEoO,kBALF,4CAYlC7L,EAAMO,QAAUyC,KAAK4b,aAEvB,kFAA6B5e,EACKwM,M,2HCzCvB,mCAAgB,CAC7BvP,KAAM,cACN+C,MAAO,CACLO,QAASI,MACT+Z,KAAM3W,OACN2a,cAAe,CACbtjB,KAAM6J,OAAQmG,QAAS,SAEzBoF,cAAe,CACbpV,KAAM6J,OAAQmG,QAAS,UAG3B6H,MAZ6B,SAYvBjT,GACJ,MAAgC,eAAWA,GAA3B4e,EAAhB,EAAOre,QACP,MAAO,CAACqe,iBAEV3f,OAhB6B,WAgBvB,WACEe,EAAQ,OAAH,UACNgD,KAAK0R,QAEJlI,EAAQ,OAAH,UACNxJ,KAAKqY,QAEV,GAAIrY,KAAK4b,cAAgB5b,KAAK0X,KAAM,CAClC,IAAM4F,EAAOC,KAAKC,IAAI,GAAMxd,KAAK0X,MAC3B+F,EAAS,IAAMzd,KAAK4b,aAAc0B,GACxC9T,EAAMpB,QAAU,kBAAMqV,EAAOre,KAAI,SAAA9E,GAAC,sFAG1BA,EAAE8E,KAAI,SAAA3E,GAAC,6EACU,EAAKid,MADf,6FAEYjd,EAFZ,2BAEgBA,EAAEoO,kBALC,4CAYlC7L,EAAMO,QAAUyC,KAAK4b,aAEvB,+EAA0B5e,EACKwM,M,4EC7BtBkU,GAA0B,CACrC1iB,MAAO,CAACzF,OAAQoI,OAChBuU,WAAYvU,OAGD,GAAwB,SAACX,EAAOwL,GAC3C,IAAMY,EAA4E,iBAAI,MAChF5L,EAAyB,oBAAO,SACtC,MAAO,CACL4L,eAAc5L,QACdyV,gBAFK,SAEWrW,EAAwBwM,EAAkExG,EAAeuL,GACvH,OAAO,gBAAYnR,EAAMkV,WAAY1U,EAAOZ,EAAOwM,EAAcxG,EAAOuL,EAAM3F,EAAIM,S,u4BCnBzE,oCAAgB,CAC7B7O,KAAM,qBACNyV,cAAc,EACd1S,MAAO,OAAF,QACHC,MAAO,CAAC1H,OAAQ0M,QAChB8T,WAAYhV,OACZmR,WAAYvU,MACZyQ,WAAY,CAAChW,KAAM7C,OAAQoa,UAAU,GACrCsC,WAAYtU,MACZT,OAAQ,CAAC9E,KAAM+P,QAASC,SAAS,GACjCmL,WAAY,CAACtR,OAAQ1M,QACrBie,YAAaje,QACVmoB,IAELzN,MAd6B,SAcvBjT,EAAOwL,GACX,IAAMM,EAAON,EAAIM,KACXU,EAAQhB,EAAIgB,MACZD,EAAQf,EAAIe,MAClB,EAA+C,GAAsBvM,EAAOwL,GAArEY,EAAP,EAAOA,aAAc5L,EAArB,EAAqBA,MAAOyV,EAA5B,EAA4BA,gBACtB0K,EAAW,uBAAS,WACxB,OAAOngB,EAAMrB,WAAa,UAEtByhB,EAAY,uBAAS,WACzB,OAAOpgB,EAAMrB,WAAa,UAEtBuX,EAAa,uBAAS,WAC1B,OAAOlW,EAAM0K,YAET2V,EAAY,uBAAS,WACzB,OAAOrgB,EAAM8T,WAETwM,EAAiB,uBAAS,WAC9B,OAAOpK,EAAW1Y,OAAS6iB,EAAU7iB,SAEvC,oBAAM,kBAAMoO,EAAapO,SAAO,SAACA,GAC/B8N,EAAK,eAAgB9N,GACrB8N,EAAK,SAAU9N,KACd,CAAC4X,MAAM,IACV,oBAAM,kBAAM5V,EAAMhC,SAAO,SAACA,GACnB,gBAAQA,EAAOoO,EAAapO,OAMrBA,IACVoO,EAAapO,MAAQ,IANjBgC,EAAMoR,WAAWhQ,MACnBgL,EAAapO,MAAQA,GAAS,GAE9BoO,EAAapO,MAAQA,GAAS,KAKjC,CAACmO,WAAW,EAAMyJ,MAAM,IAE3B,IAAMmL,EAAc,WAClB,OAAIvU,EAAMvM,MACDuM,EAAMvM,QACJO,EAAMR,OAASA,EAAMC,MAC9B,qCAAiB,cAAjB,CAA+BD,EAAMC,aADhC,GAKH+gB,EAAY,SAAC5U,GACjB,IAAM6U,EAAS,GACTC,EAAa,GACfC,GAAc,EAkBlB,OAjBA,gBAAcnhB,EAAMoR,WAAWkB,QAAQxR,SAAQ,SAAClB,EAAOgG,GACrD,IAAMwb,EAAQnL,EAAgBrW,EAAOwM,EAAcxG,GAAO,GACtDhG,EAAM8a,MACJyG,GACFD,EAAWA,EAAW5oB,OAAS,GAAGM,KAAKgH,EAAM8a,MAC7CuG,EAAOA,EAAO3oB,OAAS,GAAGM,KAAKwoB,KAE/BF,EAAWtoB,KAAK,CAACgH,EAAM8a,OACvBuG,EAAOroB,KAAK,CAACwoB,KAEfD,GAAc,IAEdA,GAAc,EACdD,EAAWtoB,KAAK,IAChBqoB,EAAOroB,KAAK,CAACwoB,QAGVH,GAEHI,EAAqB,WAAK,MACxBC,EAAqB,eAAiB9gB,EAAMrB,UAC3CiS,EAA+CpR,EAA/CoR,WAAYoF,EAAmCxW,EAAnCwW,YAAaD,EAAsBvW,EAAtBuW,WAAYrW,EAAUF,EAAVE,OACtC+gB,EAASD,EAAU5U,EAAapO,OAChC+B,EAAiBwhB,IACvBxhB,EAAUqc,SAAW,SAAAliB,GACnBA,EAAEsnB,kBAEJ,IAAMpc,GAAO,MAAG6C,OAAH,WAAajI,EAAMkV,aAChC9P,EAAKuC,MACL,IAAMqG,EAAO,2BACQjO,EADX,2BAELqR,EAAWhQ,MAAQ2f,IAAgB,MAClC3P,EAAWhQ,OAASwf,EAAU5iB,MAAQ+iB,IAAgB,KACvD7gB,EAAS+gB,EAAO3e,QAAO,SAACsH,EAAGC,GAAJ,OAAUD,EAAE3B,OAAO4B,MAAMoX,EAAO7e,KAAI,SAAAqf,GAAK,OAAIC,EAAUD,UAGnF,GAAIlL,EAAY,CACd,IAAMoL,EAAqB,gBAAiBnhB,EAAO,CACjDpF,KAAMmb,IAEFqL,EAA8BD,EAAmBhiB,UACvD,kCAAwC6W,EAAxC,GACGxI,KADH,2BACGA,MAGL,OAAOA,GAGH6T,EAAsB,WAC1B,IAAOzQ,EAAcpR,EAAdoR,WACDiC,EAAuB,eAAmB7S,EAAMrB,UACtD,GAAIiS,EAAWhQ,OAASZ,EAAM0S,SAC5B,mCAEIK,OAAO,EACPG,KAAM,4CACNxI,SAAUwL,EAAW1Y,MACrB8a,MAAO,MACPkC,QAAS,WACP8G,MAPN,qEAYEA,EAAa,WACjB1V,EAAapO,MAAMpF,KAAK,KAGpB8oB,EAAY,SAACD,GACjB,IAAMhN,EAAoB,eAAgBjU,EAAMrB,UAClC4iB,EAAevhB,EAAtBR,MACP,OAAI2gB,EAAS3iB,OAA0B,IAAjByjB,EAAMnpB,OACnBmpB,EAET,mCAA6BM,GAAeA,EAAYlP,QAAU,GAAlE,GAAsE4O,KAAtE,2BAAsEA,OAElEF,EAAe,W,QACbhgB,EAAG,6BACPrB,OAAQF,EAAME,OACd4b,SAAUvP,EAAMuP,SAChB7b,MAAsB,QAAf,EAAW,QAAX,EAAAuM,EAAMvM,aAAK,oBAAXuM,UAAe,QAAIxM,EAAMC,MAChCoc,WAAY9P,EAAM8P,WAClBnR,SAAU4V,EAAe9iB,OACtBwC,EAAMR,OACNuM,GAQJ,OANGA,EAAM0P,aACR1a,EAAI0a,WAAa1P,EAAM0P,YAErB1P,EAAM2P,gBACR3a,EAAI2a,cAAgB3P,EAAM2P,eAEpB,eAAmB3a,EAAKf,EAAMrB,WAExC,MAAO,CACLkiB,qBACAQ,sBACAzV,iBAGJnN,OAlK6B,WAmK3B,6CAAkB,wBAAlB,CACG+D,KAAKqe,qBACLre,KAAK6e,2B,aC3KCG,GAAqB,6BAAgB,CAChD/kB,KAAM,eACN+C,MAAO,CACLhC,MAAO,CACL5C,KAAM,CAAC7C,OAAQ0M,OAAQlB,OAAQoH,QAASxK,QAE1CV,MAAO,CACL7E,KAAM,CAAC6J,OAAQ1M,UAGnB0G,OAVgD,WAW9C,IAAOjB,EAASgF,KAAThF,MACP,kDAAwBd,IAAVc,GAAiC,OAAVA,EAAiBA,EAAMwD,WAAa,UAI9D,MClBA,YAACxB,GACd,6CAAcA,EAAMhC,SCEP,gCAAgB,CAC7Bf,KAAM,oBACN+C,MAAO,CACLhC,MAAO2C,OAET1B,OAL6B,W,QAM3B,OAAI+D,KAAKhF,OACc,QAAb,EAAAgF,KAAKhF,MAAM,UAAE,QAAIoB,EAAA,KAAOK,kBAAoB,OAAsB,QAAb,EAAAuD,KAAKhF,MAAM,UAAE,QAAIoB,EAAA,KAAOK,kBAEhFL,EAAA,KAAOK,oB,4OCVH,gBAACO,GACd,IAAOJ,EAAgBI,EAAhBJ,MAAO5B,EAASgC,EAAThC,MACRuC,EAAU,eAAeX,GACzB4Q,EAAgB5Q,EAAMI,MAAMwQ,eAAiB,QAE7CkO,EAAgB9e,EAAMI,MAAM0e,eAAiB,QAEnD,GAAI1gB,EAAO,CACT,IAAIikB,EAAW,GAMf,OAJEA,EADEriB,EAAMwB,MACGb,EAAQuJ,QAAO,SAAA5F,GAAE,OAAIlG,EAAMyZ,SAASvT,EAAGsM,KAAmBxS,EAAMyZ,SAASvT,MAEzE3D,EAAQuJ,QAAO,SAAA5F,GAAE,OAAIlG,IAAUkG,EAAGsM,IAAkBxS,IAAUkG,KAE3E,sCAAc+d,EAAS7f,KAAI,SAAA8B,GAAE,MAAkB,WAAd,GAAOA,GAAkBA,EAAGwa,GAAiBxa,KAAIL,KAAK,OAEvF,mDChBW,gCAAgB,CAC7B5G,KAAM,gBACN+C,MAAO,CACLhC,MAAOmN,QACP+W,QAAS,CAACjd,OAAQ1M,QAClB4pB,SAAU,CAACld,OAAQ1M,SAErB0G,OAP6B,W,QAQ3B,OAAI+D,KAAKhF,MACY,QAAZ,EAAAgF,KAAKkf,eAAO,QAAI,IAEH,QAAb,EAAAlf,KAAKmf,gBAAQ,QAAI,OCXjB,GAAa,SAACnkB,EAA+BokB,GAAwC,IAG5FC,EAHkEC,EAA0B,wDAC5F5c,EAAO,GACLkL,EAAS,sBAEf,GAAqB,kBAAV5S,EAAoB,CAC7B,IAAMukB,EAAO,6CACTA,EAAKnZ,KAAKpL,IACZqkB,EAAO,IAAOrkB,EAAO,0BAA0Bwd,SAC/C6G,EAAKG,SAASH,EAAKI,WAAa,IAEhC/c,EAAO1H,OAGTqkB,EAAO,IAAInY,KAAKlM,GACXA,GAGH0H,EAAO,IAAO1H,GAAO4S,OAAOA,GACxBwR,IACF1c,EAAO,IAAO1H,GAAO4S,OAAOwR,KAJ9B1c,EAAO,GAQX,GAAI4c,GAAUD,EAAM,CAClB,IAAMK,EAAM,IAAIxY,KACVyY,EAAUD,EAAItY,UACdwY,EAAqBD,EAAUN,EAAKjY,UACtCwY,EAAa,EACXA,EAAa,IACfld,EAAO,KACEkd,EAAa,IACtBld,EAAO,GAAH,OAAM6a,KAAKsC,MAAMD,EAAa,KAA9B,MACKA,EAAa,KACtBld,EAAO,GAAH,OAAM6a,KAAKsC,MAAMD,EAAa,IAAO,IAArC,OACKF,EAAII,gBAAkBT,EAAKS,gBAGlCpd,EAFEgd,EAAIK,aAAeV,EAAKU,YACvBL,EAAIM,WAAaX,EAAKW,SAClB,IAAOX,GAAMzR,OAAO,YAEpB,IAAOyR,GAAMzR,OAAO,mBAGtB8R,EAAII,gBAAkBT,EAAKS,gBAGlCpd,EAFEgd,EAAIK,aAAeV,EAAKU,YACvBL,EAAIM,WAAaX,EAAKW,SAClB,IAAOX,GAAMzR,OAAO,YAEpB,IAAOyR,GAAMzR,OAAO,mBAIjC,OAAOlL,GCnDM,YAAC1F,GACd,IAAOhC,EAAqBgC,EAArBhC,MAAOoT,EAAcpR,EAAdoR,WACVR,EAAS,sBAYb,MAXwB,SAApBQ,EAAWhW,KACbwV,EAAS,aACoB,UAApBQ,EAAWhW,KACpBwV,EAAS,UACoB,SAApBQ,EAAWhW,KACpBwV,EAAS,OACoB,cAApBQ,EAAWhW,KACpBwV,EAAS,aACoB,SAApBQ,EAAWhW,OACpBwV,EAAS,YAEP,CAAC,YAAa,aAAa6G,SAASrG,EAAWhW,OAAS4C,EAC1D,4EAGS,GAAWA,EAAM,GAAI4S,KAH9B,kHAOS,GAAW5S,EAAM,GAAI4S,OAKhC,sCAEO,GAAW5S,EAAO4S,MCrB3B,OAAAkB,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,CAAC,OAAS,QACrBF,MAAO,OAAWqO,QAEpB,OAAA4C,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,CAAC,OAAS,QACrBF,MAAO,CAAC,OAAWsP,SAAU,OAAWjG,KAAM,OAAWkG,KAAM,OAAWC,MAAO,OAAWI,UAC1F,OAAWwS,KAAM,OAAWC,aAEhC,OAAApR,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,CAAC,OAAS,QACrBF,MAAO,OAAWsK,UAEpB,OAAA2G,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,OACXF,MAAO,CAAC,OAAWoE,OAAQ,OAAWke,KAAM,OAAWxS,IAAK,OAAWV,QAAS,OAAWC,OAAQ,OAAWnM,QAC9GgN,UAAU,IAEZ,OAAAe,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,OACXF,MAAO,CAAC,OAAWoE,OAAQ,OAAWke,KAAM,OAAWxS,IAAK,OAAWV,QAAS,OAAWC,OAAQ,OAAWnM,QAC9GgN,UAAU,IAEZ,OAAAe,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,CAAC,OAAS,QACrBF,MAAO,CAAC,OAAWyP,OAAQ,OAAWC,cACtCQ,SAAU,KACVC,SAAU,SAAApR,GACR,MAAO,CAACW,QAAS,eAAeX,GAAQA,YAG5C,OAAAkS,GAAA,MAAS,GAAc,CAAC,OAAS,QAAS,OAAWvZ,QAAQ,GAAO,SAAC6Y,EAAYjS,GAC/E,MAAO,CACLA,WACAiS,WAAY,CAACkB,OAAQlB,EAAWkB,YAGpC,OAAAR,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,CAAC,OAAS,QACrBF,MAAO,OAAWtI,OAClBwY,UAAU,EACVC,SAAU,SAACI,EAAYjS,GACrB,MAAO,CACLA,WACAiS,WAAY,CAACkB,OAAQlB,EAAWkB,Y,8EC3DhC8Q,GAAe,WAEf,SAAU,KAAqB,2BAAXC,EAAW,yBAAXA,EAAW,gBACnC,IAAIjrB,EAAI,EACFkrB,EAAID,EAAK,GACTxW,EAAMwW,EAAK/qB,OACjB,GAAiB,oBAANgrB,EACT,OAAOA,EAAED,EAAKrkB,MAAM,IAEtB,GAAiB,kBAANskB,EAAgB,CACzB,IAAMpc,EAAMjC,OAAOqe,GAAGpX,QAAQkX,IAAc,SAAC/V,GAC3C,GAAU,OAANA,EACF,MAAO,IAET,GAAIjV,GAAKyU,EACP,OAAOQ,EAET,OAAQA,GACN,IAAK,KACH,OAAOpI,OAAOoe,EAAKjrB,MACrB,IAAK,KACH,OAAO2L,OAAOsf,EAAKjrB,MAAQ,GAC7B,IAAK,KACH,IACE,OAAOmrB,KAAKC,UAAUH,EAAKjrB,MAC3B,MAAOqrB,GACP,MAAO,aAEX,QACE,OAAOpW,MAGb,OAAOnG,EAET,OAAOoc,EClCM,gBACbtlB,EACA+R,EACAnL,EACA3H,GAEA,GAAI,gBAAK8S,EAAKyH,WACZ,OAAOzH,EAAKyH,UAAUxZ,EAAO+R,EAAMnL,EAAQ3H,ICThC,IACbymB,GAAI,CACFC,QAAS,wCACThR,SAAU,iBACV7H,OAAQ,qBACR8Y,QAAS,8BACTC,IAAK,sBACLC,MAAO,2BACPC,KAAM,0BACNC,KAAM,0BACNC,OAAQ,6BACRC,UAAW,mCACXC,GAAI,+BACJC,MAAO,kCACPC,MAAO,8BACPC,GAAI,6BACJjC,KAAM,gCACNkC,IAAK,0BAEPD,GAAI,CACFX,QAAS,eACThR,SAAU,WACV7H,OAAQ,aACR8Y,QAAS,eACTC,IAAK,cACLC,MAAO,eACPC,KAAM,iBACNC,KAAM,iBACNC,OAAQ,gBACRC,UAAW,eACXC,GAAI,cACJC,MAAO,cACPC,MAAO,cACPC,GAAI,gBACJjC,KAAM,eACNkC,IAAK,iBChCH,GAAY,QAUZC,GAAqB,WACzB,OAAK,GAAKC,YAGH,GAAKA,UAAUC,iBAAmB,GAAKD,UAAUE,WAF/C,MAKLC,GAAS,CACbC,SAAU,GACVC,KAAMN,MAGF,GAAe,SAACM,GACpB,IAAItgB,EAAOogB,GAAOE,KAOlB,OANA,gBAAKF,GAAOC,UAAU,SAACA,EAA2BvmB,GAChD,GAAIA,EAAIme,QAAQqI,IAAS,GAAK7f,OAAO6f,GAAMrI,QAAQne,IAAQ,EAEzD,OADAkG,EAAOlG,GACA,KAGJkG,GAGIugB,GAAY,SAACtH,GACxBllB,OAAOmI,OAAOkkB,GAAOC,SAAUpH,IAOpB,GAAa,SAACrY,GACzB,OACE,gBAAMwf,GAAOC,SAAR,UAAqB,GAAaD,GAAOE,MAAzC,YAAkD1f,KACvD,mDAIJ2f,GAAUtH,IC/CH,IAAM,GAAkB,SAC7BkG,EACA3lB,EACAhB,GAEA,GAAI,gBAAQgB,GACV,MAAO,GAEL,gBAAS2lB,KACXA,EAAQqB,UAAY,GAEtB,IAAM1P,EAAQ,gBAAKqO,GACfA,EAAQ3lB,GACR,gBAAS2lB,GACTA,EAAQva,KAAKnE,OAAOjH,IACpB,IAAIsM,OAAOrF,OAAO0e,IAAUva,KAAKnE,OAAOjH,IAC5C,OAAQsX,EAAkB,GAAVtY,GAGH,YACbgB,EACA+R,EACAnL,EACA3H,GAEA,GAAI8S,EAAK4T,QACP,OAAO,GACL5T,EAAK4T,QACL3lB,EACA,GAAO+R,EAAK/S,SAAW,GAAW,WAAYC,EAAMe,EAAO+R,EAAK4T,WCjCvD,IACbE,IAAK,IAAIvZ,OAEP,yeAuCFwZ,MAAO,gDAEPC,KAAM,ujCAENC,KAAM,gGAENlZ,OAAQ,qBAER8Y,QAAS,aAETO,GAAI,oBAEJC,MAAO,uCAEPH,OAAQ,4BAERC,UAAW,kGAEXG,MAAO,kFAEPC,GAAI,qBAEJjC,KAAM,gTAENkC,IAAK,cC5DDU,GAAc1sB,OAAOoM,KAAK,IAE1B,GAAgB,SACpB3G,EACA+R,EACAnL,EACA3H,GAEA,IAAK,IAAI7E,EAAI,EAAGA,EAAI6sB,GAAY3sB,OAAQF,IACtC,GAAI6sB,GAAY7sB,KAAO2X,EAAKa,OAC1B,OAAO,GACL,GAAeqU,GAAY7sB,IAC3B4F,EACA,GAAO+R,EAAK/S,SAAW,GAAW+S,EAAKa,QAAS3T,EAAMe,KAM/C,YACbA,EACA+R,EACAnL,EACA3H,GAEA,OAAO,GAAce,EAAO+R,EAAMnL,EAAQ3H,IC3BtC,GAAgB,SAClBe,EACA+R,EACAnL,EACA3H,GAEF,GAAI,eAAU8S,EAAKmV,KAAM,CACvB,GAAqB,kBAAVlnB,GAAsBA,EAAQ+R,EAAKmV,IAC5C,OAAOnV,EAAK/S,SAAL,UAAmBC,EAAnB,eAA8B8S,EAAKmV,KAE5C,GAAqB,kBAAVlnB,GAAsBA,EAAM1F,OAASyX,EAAKmV,IACnD,OAAOnV,EAAK/S,SAAL,UAAmBC,EAAnB,iBAAgC8S,EAAKmV,KAE9C,GAAIvkB,MAAMC,QAAQ5C,IAAUA,EAAM1F,OAASyX,EAAKmV,IAC9C,OAAOnV,EAAK/S,SAAL,UAAmBC,EAAnB,iBAAgC8S,EAAKmV,KAGhD,GAAI,eAAUnV,EAAKoV,KAAM,CACvB,GAAqB,kBAAVnnB,GAAsBA,EAAQ+R,EAAKoV,IAC5C,OAAOpV,EAAK/S,SAAL,UAAmBC,EAAnB,eAA8B8S,EAAKoV,KAE5C,GAAqB,kBAAVnnB,GAAsBA,EAAM1F,OAASyX,EAAKoV,IACnD,OAAOpV,EAAK/S,SAAL,UAAmBC,EAAnB,iBAAgC8S,EAAKoV,KAE9C,GAAIxkB,MAAMC,QAAQ5C,IAAUA,EAAM1F,OAASyX,EAAKoV,IAC9C,OAAOpV,EAAK/S,SAAL,UAAmBC,EAAnB,iBAAgC8S,EAAKoV,KAGhD,MAAO,IAGM,YACXnnB,EACA+R,EACAnL,EACA3H,GAEF,OAAO,GAAce,EAAO+R,EAAMnL,EAAQ3H,I,4OCtC5C,IAAMwH,GAAMlM,OAAOC,UAAUC,eAEhB,GAAkB,SAAlB2sB,EAAmBpnB,GAC9B,GAAqB,WAAjB,GAAOA,IAAwBA,aAAiBkM,KAUlD,OAAO,gBAAQlM,GATf,IAAK,IAAMM,KAAON,EAChB,GAAIyG,GAAInG,KACD8mB,EAAgBpnB,EAAMM,IACzB,OAAO,EAIb,OAAO,GAMI,YACXN,EACA+R,EACAnL,EACA3H,GAEF,GAAI8S,EAAK4C,SACP,OAAO,GAAgB3U,GACjB,GAAO+R,EAAK/S,SAAW,GAAW,YAAaC,GAC/C,ICVJooB,GAAc,WAA4C,2BAAxCC,EAAwC,yBAAxCA,EAAwC,gBAC9D,OAAO,WAAmB,2BAAfjC,EAAe,yBAAfA,EAAe,gBACxB,OAAOiC,EAAIljB,KAAI,SAAAmjB,GAAE,OAAIlrB,QAAQC,QAAQirB,EAAE,WAAF,EAAMlC,SAIzC,GAAgB,SAClBrlB,EACA+R,EACAnL,EACA3H,GAEF,OAAO5C,QAAQ+C,IACXioB,GACI,GACA1S,GACA,GACA6S,GACA,GALJH,CAMErnB,EAAO+R,EAAMnL,EAAQ3H,KAIhB,GAAW,SAACe,EAAY+R,EAAYnL,EAAa3H,GAC5D,IAAMwoB,EAAU,gBAAM1V,GAChBA,EACA,gBAAMA,GACF,CAACa,OAAQb,GACT,gBAAKA,GACD,CAACyH,UAAWzH,GACZ,GACd,OAAO,GAAc/R,EAAOynB,EAA6B7gB,EAAQ3H,IC1C7D,GAAU,SAAVyoB,EAAWC,GACf,OAAO,gBACLA,GACA,SAACC,EAAUvkB,GACT,OAAO,gBAAMA,GACTukB,EAAI3d,OAAOyd,EAAQrkB,IACnBA,EACEukB,EAAI3d,OAAO5G,GACXukB,IAER,KAMS,GAAgB,SAC3BhhB,EACAihB,EACAC,EACAje,GAJ2B,OAKK,6IAC1Bke,EAAQ,GACV,gBAAKD,KACPje,EAAWie,EACXA,GAAc,GAEhB,gBAAKD,GAAU,SAACjmB,EAAwB3C,GACtC,IAAMe,EAAQ4B,EAAM5B,MACpB,IAAsB,IAAlB4B,EAAM0X,UACU,IAAlB1X,EAAM2R,UACa,IAAnB3R,EAAMsT,SAFR,CAKA,IAAK4S,EAAa,CAChB,GAAI,gBAAQlmB,EAAMomB,oBAAsB,gBAAQhoB,GAC9C,OAEF,GAAI,gBAAQ4B,EAAMomB,kBAAmBhoB,GACnC,OAGJ,IAAMiC,EAA+B,kBAAhBL,EAAMK,MAAqBL,EAAMK,MAAQhD,EACxDgpB,EAAQ9oB,YAAW,WACvByC,EAAM0U,SAAU,EAChB1U,EAAMsmB,OAAQ,EACVtmB,EAAMumB,QACRvmB,EAAMumB,WAEP,KACHJ,EAAMntB,KACJyB,QAAQ+C,IACNwC,EAAMiX,WAAWzU,KAAI,SAAA2N,GACnB,OAAO,GAAS/R,EAAO+R,EAAMnL,EAAQ3E,GAAShD,OAEhDf,MAAK,SAAA2b,GACLjb,aAAaqpB,GACb,IAAMG,EAAkB,gBAAMxmB,EAAMiY,QAC9BwO,EAAYzmB,EAAM0V,MAClBgR,EAAc1mB,EAAM0U,QACpBiS,EAAY,GAAQ,gBAAM1O,IAC1B2O,EAAe,GAAQ,gBAAM5mB,EAAM4mB,eAuCzC,OAtCA5mB,EAAM0U,SAAU,EAChB1U,EAAMiY,OAAS0O,EACf3mB,EAAM4mB,aAAeA,EACjBV,GACES,EAAUjuB,QAAUkuB,EAAaluB,QACnCsH,EAAM0V,OAAQ,EACd1V,EAAM6mB,SAAU,IAEhB7mB,EAAM0V,OAAQ,EACd1V,EAAM6mB,SAAU,GAElB7mB,EAAMsmB,OAAQ,GAETtmB,EAAM8mB,WACLH,EAAUjuB,QAAUkuB,EAAaluB,QACnCsH,EAAM0V,OAAQ,EACd1V,EAAM6mB,SAAU,IAEhB7mB,EAAM0V,OAAQ,EACd1V,EAAM6mB,SAAU,GAGf,gBAAQJ,EAAWzmB,EAAM0V,QACzB,gBAAQ8Q,EAAiBxmB,EAAMiY,UAEhCjY,EAAMsmB,OAAQ,IAKhBtmB,EAAM0U,UAAYgS,IACpB1mB,EAAMsmB,OAAQ,GAGZtmB,EAAMsmB,OAAStmB,EAAMumB,QACvBvmB,EAAMumB,SAERvmB,EAAMomB,kBAAoB,KAAMhoB,GACzB,CACLf,OACAe,QACA4B,QACA6mB,QAAS7mB,EAAM6mB,QACfnR,MAAO1V,EAAM0V,MACbuC,OAAQ0O,EAAUte,OAAOue,YArFD,kBA2FzBnsB,QAAQ+C,IAAI2oB,GAAO7pB,MAAK,SAACyqB,GAC9B,IAAM9O,EAAS8O,EAAS7c,QAAO,SAAA5F,GAAE,OAAIA,EAAGuiB,WAIxC,OAHI,gBAAK5e,IACPA,EAASgQ,GAEJA,MAhGuB,4CAoGnB,M,qyBC1Hf,IAAI+O,GAAY,EAEH,GAAgB,SAACpmB,EAAwBqmB,EAA4Eza,GAChI,IAAM0a,EAAc,SAAChe,GACnB,IAAMie,EAAe,gBAAMje,EAAOtI,EAAM8R,QACxC,OAAOyU,EAAa3kB,KAAI,SAAAgD,GAAI,OAAI5E,EAAM8R,OAAOlN,MAAO0E,QAAO,SAAA5F,GAAE,QAAMA,MAE/D8iB,EAAa,GACb,EAAY,SAAC9sB,EAAW+sB,EAAgBC,GACvCF,EAAW9sB,KACd8sB,EAAW9sB,GAAK,IAAIitB,GAAA,MAEtBH,EAAW9sB,GAAGktB,UAAU,CACtBhjB,KAAM,SAAC2H,GACL,uBAAS,WACP,GAA8B,oBAAnBkb,EACTA,EAAelb,OACV,CACL,IAAMsb,EAAqC,kBAAnBJ,EAA8B,CAACA,GAClDtmB,MAAMC,QAAQqmB,GAAmBA,EAAyB7kB,KAAI,SAACf,GAChE,MAAoB,kBAATA,EACFA,EAEA,gBAAcA,EAAMb,EAAM8R,WAEhC,CAAC,gBAAc2U,EAAgBzmB,EAAM8R,SACxC,gBAAoBvG,EAAEnM,MAAOynB,KAC3BntB,IAAM,QAAiBwb,aAAexb,IAAM,QAAiBogB,YAC/D4M,EAAQnb,EAAE/N,MAAO+N,EAAE3G,MACV,CAAC,QAAiBkiB,WAAY,QAAiBC,WAAW9P,SAASvd,GAC5EgtB,EAAQnb,EAAE3G,KAAM2G,EAAExQ,OAElB2rB,EAAQnb,EAAE/N,gBAQlB,EAAU,SAACzC,EAAeyC,GAC9B,uBAAS,WACP,IAAMwpB,EAAUhnB,EAAMgV,QAAQwR,WAAWzrB,GACrCisB,GACFA,EAAQpjB,KAAKpG,OAIbwX,EAA0B,SAA1BA,IAAuC,2BAAT,EAAS,yBAAT,EAAS,gBAC3C,MAAO,CACLiS,SAAU,SAACxnB,GAQT,OAPA6mB,EAAY,GAAOhmB,SAAQ,SAAAlB,GAEvBA,EAAMK,MADa,oBAAVA,EACKA,EAAML,GAENK,KAGXuV,EAAO,WAAP,EAAW,IAEpB1M,MAAO,WACL,OAAO0M,EAAO,WAAP,EAAW,GAAOlD,SAASlQ,KAAI,SAAA8B,GAAE,OAAIA,EAAGyR,cAEjDrD,OAAQ,WACN,OAAOwU,EAAY,IAErBlnB,MAAO,WACL,IAAM0S,EAASwU,EAAY,GAC3B,GAAIxU,EAAOha,QAAU,EACnB,MAAM,IAAIsD,MAAM,EAAQ,aAE1B,OAAO0W,EAAO,IAEhBoV,OAAQ,WAIN,OAHAZ,EAAY,GAAOhmB,SAAQ,SAAAlB,GACzBA,EAAM0X,SAAW1X,EAAM0X,WAElB9B,EAAO,WAAP,EAAW,IAEpBxX,MAAO,SAAC,GACN,IAAMqE,EAAMykB,EAAY,GAAO1kB,KAAI,SAAA8B,GAAE,OAAIA,EAAGmW,YAAY,MACxD,QAAcnd,IAAV,EACF,OAAqB,IAAjB,EAAM5E,QAAiB,gBAAY,EAAM,IAGpC+J,EAFAA,EAAI,IAMjBslB,KAAM,SAAC,GAQL,OAPAb,EAAY,GAAOhmB,SAAQ,SAAAlB,GAEvBA,EAAM0X,QADY,mBAAT,IACQ,KAKd9B,EAAO,WAAP,EAAW,IAEpBoS,KAAM,SAAC,GAQL,OAPAd,EAAY,GAAOhmB,SAAQ,SAAAlB,GAEvBA,EAAM0X,QADY,mBAAT,GACO,KAKb9B,EAAO,WAAP,EAAW,IAEpBqS,QAAS,SAACtnB,GAIR,OAHAumB,EAAY,GAAOhmB,SAAQ,SAAAlB,GACzBA,EAAMgP,KAAOrO,KAERiV,EAAO,WAAP,EAAW,IAEpBsS,cAAe,SAAC9nB,GAId,OAHA8mB,EAAY,GAAOhmB,SAAQ,SAAAlB,GACzBA,EAAMI,MAAQzH,OAAOmI,OAAO,GAAId,EAAMI,MAAOA,MAExCwV,EAAO,WAAP,EAAW,IAEpBuS,cAAe,SAAClgB,GAEd,OADA,EAAU,QAAiByS,YAAa,EAAOzS,GACxC2N,EAAO,WAAP,EAAW,IAEpBsK,YAAa,SAACjY,GAEZ,OADA,EAAU,QAAiB0f,UAAW,EAAO1f,GACtC2N,EAAO,WAAP,EAAW,IAEpBwS,gBAAiB,SAAChqB,GAIhB,OAHA8oB,EAAY,GAAOhmB,SAAQ,SAAAlB,GACzBA,EAAMma,aAAe/b,KAEhBwX,EAAO,WAAP,EAAW,IAEpByS,aAAc,SAACpgB,GAEb,OADA,EAAU,QAAiByf,WAAY,EAAOzf,GACvC2N,EAAO,WAAP,EAAW,IAEpB7C,SAAU,SAAC,GAMT,MALwB,mBAAb,GACTmU,EAAY,GAAOhmB,SAAQ,SAAAlB,GACzBA,EAAM+S,SAAW,KAGd6C,EAAO,WAAP,EAAW,IAEpB0S,sBAAuB,SAACrgB,GACtB,OAAO2N,EAAO,WAAP,EAAW,GAAOuS,cAAclgB,GACpCkY,cAAclY,IAEnBkY,cAAe,SAAClY,GAEd,OADA,EAAU,QAAiB6N,YAAa,EAAO7N,GACxC2N,EAAO,WAAP,EAAW,IAEpB4R,UAAW,SAAC7rB,EAAesM,GAEzB,OADA,EAAUtM,EAAO,EAAOsM,GACjB2N,EAAO,WAAP,EAAW,IAEpBC,QAAS,SAACla,EAAeyC,GAQvB,OAPA8oB,EAAY,GAAOhmB,SAAQ,SAAAlB,GACzB,EAAQrE,EAAO,CACb6J,KAAMxF,EAAM+V,UACZ3X,QACA4B,aAGG4V,EAAO,WAAP,EAAW,IAEpB2S,SAAU,SAACrd,GACT,OAAqB,IAAjB,EAAMxS,OACDkd,IAEiB,kBAAb,EAAM,GACRA,EAAO,WAAP,KAAW,gBAAS,EAAmB1K,KAEvC0K,EAAO,WAAP,KAAW,gBAAU,EAAOpT,KAAI,SAAC8B,GAAD,OAAa,gBAClDA,EAAI1D,EAAM8R,WACRxH,MAIVsd,WAAY,SAACC,GACX,OAAqB,IAAjB,EAAM/vB,OACDkd,IAEiB,kBAAb,EAAM,GACRA,EAAO,WAAP,KAAW,gBAAW,EAAmB6S,KAEzC7S,EAAO,WAAP,KAAW,gBAAY,EAAOpT,KAAI,SAAC8B,GAAD,OAAa,gBAAcA,EAAI1D,EAAM8R,WAAiB+V,MAIrGC,QAAS,SAAC,GAQR,OAPAxB,EAAY,GAAOhmB,SAAQ,SAAAlB,GAEvBA,EAAMsL,SADe,mBAAZ,GACQ,KAKdsK,EAAO,WAAP,EAAW,IAEpBtC,SAAU,WAAiB,IAAhBlV,IAAgB,yDAIzB,OAHA8oB,EAAY,GAAOhmB,SAAQ,SAAAlB,GACzBA,EAAMsT,SAAWlV,KAEZwX,EAAO,WAAP,EAAW,IAEpB+S,SAAU,WAAiB,IAAhBvqB,IAAgB,yDAIzB,OAHA8oB,EAAY,GAAOhmB,SAAQ,SAAAlB,GACzBA,EAAMsT,UAAYlV,KAEbwX,EAAO,WAAP,EAAW,IAEpBgT,UAAW,WACT,OAAQ1B,EAAY,GAAOzH,MAAK,SAAAnb,GAAE,OAAIA,EAAGgH,aAE3Cud,OAAQ,SAAC,GAQP,OAPA3B,EAAY,GAAOhmB,SAAQ,SAAAlB,GAEvBA,EAAMsL,SADc,mBAAX,IACS,KAKfsK,EAAO,WAAP,EAAW,IAEpBkT,gBAAiB,WAAuC,2BAAnCC,EAAmC,yBAAnCA,EAAmC,gBACtD,OAAOnT,EAAO,WAAP,KAAW,gBAAgB,EAAmBmT,QAyB3D,OArBAnT,EAAQ4R,UAAY,EACpB5R,EAAQoT,OAAS,SAACC,EAAwBhhB,GACxCgf,EAAKgC,EAAehhB,IAEtB2N,EAAQD,SAAW,SAAO2R,GAAP,OAAkB,sIACpB,OADoB,SACd,GAAc9a,EAAapO,MAAOwC,EAAM8R,QAAe,GADzC,UAC7BuF,EAD6B,QAE/BqP,EAF+B,gBAGjCA,EAAQrP,EAAQrC,GAHiB,+CAK1BqC,GAL0B,4CAQrCrC,EAAQsT,WAAa,SAAC5B,GACpB1R,EAAQ4R,UAAU,QAAiB7R,SAAU2R,IAE/C1R,EAAQwR,WAAaA,EACrBxR,EAAQuT,SAAW,WACjB,OAAO3c,EAAapO,OAEtBwX,EAAQC,QAAU,EAClBjV,EAAMwoB,GAAKpC,KACJpR,G,ieC5OT,IAAMyT,GAAa,6BAAgB,CACjCrpB,MAAO,KACP0b,QAAS,KACThb,kBAAmBwR,GAAA,KACnBoX,yBAA0BpX,GAAA,KAC1B7U,KAAM,cACNyV,cAAc,EACd1S,MAAO,CACL6a,UAAW,CAACzf,KAAM6J,OAA4BmG,QAAS,eACvDF,SAAU,CAAC9P,KAAM+P,QAA8BC,SAAS,GACxDmd,SAAU,CAACntB,KAAM+P,QAA8BC,SAAS,GACxDkJ,QAAS,CAAClZ,KAAM+P,QAA8BC,SAAS,GACvD+d,QAAS,CAAC/tB,KAAMuF,OAChBxB,SAAU,CAAC/D,KAAM6J,OAA4BmG,QAAS,WACtD8H,SAAU,CAAC9X,KAAM+P,QAA8BC,SAAS,GACxDge,QAAS,CAAChuB,KAAM6f,UAChB5R,OAAQ,CAACjO,KAAM7C,OAAQoa,UAAU,GACjC3S,MAAO,CAAC5E,KAAM7C,QACdyF,MAAO,CAACzF,OAAQoI,OAChBV,MAAO,CAACgF,OAAQ1M,QAChB2H,OAAQ,CAAC9E,KAAM+P,SACfke,OAAQ,CAACjuB,KAAM+P,QAA8BC,SAAS,GACtDkT,WAAY,CAACljB,KAAMuF,MAAiDyK,QAAS,iBAAM,KACnFiV,SAAUpF,SACVqO,QAASrO,SACTsO,SAAUtO,SACV4L,KAAM5L,SACNmB,SAAUnB,UAEdjI,MAAO,CAAC,gBACNC,MA9BiC,SA8B3BjT,EA9B2B,GA8BP,WAAZ8L,EAAY,EAAZA,KAAMU,EAAM,EAANA,MACZyT,EAAW,kCACX7T,EAAe,iBAAIpM,EAAMhC,OAAS,IAClCwrB,EAAiB,IAAI,QAC1BxpB,EAAMse,WAA4Cxd,SAAQ,SAAC2oB,GAC1D,eAAkBA,EAAMD,MAE1B,IAAMhpB,EAAyB,sBAAS,CACtC8R,OAAQ,GACRpH,SAAUlL,EAAMkL,SAChBoJ,QAAStU,EAAMsU,QACfiU,SAAUvoB,EAAMuoB,SAChBppB,SAAUa,EAAMb,SAChBa,MAAOA,EAAMA,OAASA,EAAMqJ,OAAOrJ,OAAS,GAC5CopB,QAASppB,EAAMopB,QACflpB,OAAQF,EAAME,OACdgT,SAAUlT,EAAMkT,SAChBsC,QAAS,KACTnO,KAAM4Y,EACN3B,WAAYkL,IAEd,oBAAM,kBAAMxpB,KAAO,WACjBzH,OAAOmI,OAAOF,EAAO,CACnB0K,SAAUlL,EAAMkL,SAChBoJ,QAAStU,EAAMsU,QACfiU,SAAUvoB,EAAMuoB,SAChBppB,SAAUa,EAAMb,SAChBa,MAAOA,EAAMA,MACbopB,QAASppB,EAAMopB,QACflpB,OAAQF,EAAME,OACdgT,SAAUlT,EAAMkT,aAEjB,CAAC0C,MAAM,IACV,qBAAQ,QAAkC,CACxCI,SADwC,SAC/BpW,GACHA,IACFY,EAAM8R,OAAO1S,EAAM+V,WAAa/V,IAGpCua,YANwC,SAM5Bva,GACNA,UACKY,EAAM8R,OAAO1S,EAAM+V,cAIhC,qBAAQ,QAAoBnV,GAC5B,oBAAM,kBAAMR,KAAO,SAAC+B,GAClBvB,EAAM+nB,SAAWxmB,EAAIwmB,SACrB/nB,EAAM0K,SAAWnJ,EAAImJ,SACrB1K,EAAMrB,SAAW4C,EAAI5C,SACrBqB,EAAMR,MAAQ+B,EAAI/B,OAAS+B,EAAIsH,OAAOrJ,OAAS,GAC/CQ,EAAM8T,QAAUvS,EAAIuS,QACpB9T,EAAM0S,SAAWnR,EAAImR,WACpB,CAAC0C,MAAM,IAEV,IAAM8T,EAAmB,uBAAS,WAChC,YAAsBxsB,IAAf8C,EAAM6mB,MAAsB7mB,EAAMoc,eAA+Blf,IAAnB8C,EAAMoc,YAGvDuN,EAAY,SAAOd,EAAwBhhB,GAA/B,OAA4D,6IACxE6hB,EAAiB1rB,MADuD,oBAEtE6qB,EAFsE,gBAGzD,OAHyD,SAGnDtT,IAHmD,OAGlEsC,EAHkE,OAIpEA,EAAOvf,QACTuf,EAAO,GAAGjY,MAAMmd,OAAM,GACtBvc,EAAMgV,QAAQC,QAAQ,QAAiBF,SAAUsC,IAE7ChQ,EACFA,EAASuE,EAAapO,QAEZ,QAAV,EAAAgC,EAAM6mB,YAAI,cAAV7mB,EAAaoM,EAAapO,OACZ,QAAd,EAAAgC,EAAMoc,gBAAQ,cAAdpc,EAAiBoM,EAAapO,QAZsC,sBAgBpE6J,EACFA,EAASuE,EAAapO,QAEZ,QAAV,EAAAgC,EAAM6mB,YAAI,cAAV7mB,EAAaoM,EAAapO,OACZ,QAAd,EAAAgC,EAAMoc,gBAAQ,cAAdpc,EAAiBoM,EAAapO,QApBwC,4CA0BxE6X,EAAkB,WAChBzJ,EAAapO,OAAS,gBAAQgC,EAAMhC,MAAOoO,EAAapO,SACxDgC,EAAMhC,MACJ,qBAAQgC,EAAMhC,OAChBY,QAAQjC,MAAM,gBAEdyP,EAAapO,MAAQ,KAAMgC,EAAMhC,OAE1BgC,EAAMqJ,OAAOjI,MACtBgL,EAAapO,MAAQ,GAErBoO,EAAapO,MAAQ,KAIrB4rB,EAAqB,WAA8E,IAA7ElkB,EAA6E,uDAAtE,GAAImkB,EAAkE,4DAA5C3sB,EAAW4sB,EAAiC,4DAAb5sB,EACpF6sB,EAAeL,EAAiB1rB,YAAoBd,IAAX4sB,EAC/C,IAAKC,EACH,OAAO,KAET,IAAMC,EAIFhqB,EAAMA,MACJiqB,EAAcJ,GAAmBG,GAAYA,EAASE,SAAY,GAMxE,OALKD,EAAY7uB,OACf6uB,EAAY7uB,KAAO,WAErB6uB,EAAY/e,SAAWlL,EAAMkL,SAC7B+e,EAAY3V,QAAUtU,EAAMsU,QACrB6V,EACLzkB,GAAQskB,GAAYA,EAASjO,QAAU,KACvC+N,GAAW,WACTH,GAAU,IACRM,EAAa,gBAGfE,EAAe,SAACzkB,EAAMokB,EAAQM,EAAUC,GAC5C,IAAOlrB,EAAYa,EAAZb,SACD8qB,EAAc,OAAH,wBACZG,GAAQ,CACXtR,MAAOuR,EACPrP,QAAS,SAAC9gB,GACR4vB,EAAOtpB,EAAMgV,QAAStb,MAGpBmZ,EAAuB,OAAczF,OAAOzO,GAC5CmrB,EAAS,2BAAqBL,EAAxB,GACTvkB,KADS,2BACTA,MAEH,MAAiB,WAAbvG,EACK,CAAC,mFAAkBmrB,GAErBA,GAEH/U,EAAW,WACf,OAAO,GAAcnJ,EAAapO,MAAOwC,EAAM8R,QAAQ,IAEnDiY,EAAqB,WAA8E,IAA7E7kB,EAA6E,uDAAtE,GAAImkB,EAAkE,4DAA5C3sB,EAAW4sB,EAAiC,4DAAb5sB,EACpFstB,OAAsCttB,IAAnB8C,EAAMupB,eAAqCrsB,IAAX4sB,EACzD,IAAKU,EACH,OAAO,KAET,IAAMR,EAGFhqB,EAAMA,MACJiqB,EAAcJ,GAAmBG,GAAYA,EAASS,aAAgB,GAE5E,OADAR,EAAY/e,SAAWlL,EAAMkL,UAAYlL,EAAMsU,QACxC6V,EACLzkB,IAAgB,OAARskB,QAAQ,IAARA,OAAQ,EAARA,EAAUhO,aAAc,KAChC8N,GAAUY,EAAeT,EACzB,eAGEU,EAAoB,WAA8E,IAA7EjlB,EAA6E,uDAAtE,GAAImkB,EAAkE,4DAA5C3sB,EAAW4sB,EAAiC,4DAAb5sB,EACnF0tB,OAAoC1tB,IAAlB8C,EAAMspB,cAAoCpsB,IAAX4sB,EACvD,IAAKc,EACH,OAAO,KAET,IAAMZ,EAGFhqB,EAAMA,MACJiqB,EAAcJ,GAAmBG,GAAYA,EAASS,aAAgB,GAE5E,OADAR,EAAY/e,SAAWlL,EAAMkL,UAAYlL,EAAMsU,QACxC6V,EACLzkB,GAAQskB,GAAYA,EAAShO,YAAc,KAC3C8N,GAAUe,EAAcZ,EAAa,cAGnCY,EAAe,W,MACN,QAAb,EAAA7qB,EAAMspB,eAAO,cAAbtpB,IAEI0qB,EAAgB,W,MACN,QAAd,EAAA1qB,EAAMupB,gBAAQ,cAAdvpB,IAEIsd,EAAgB,WACpB,IAAO6L,EAAWnpB,EAAXmpB,QACP,GAAInpB,GAASQ,EAAM0S,SAAU,CAC3B,GAAI1G,EAAMse,KACR,OAAOte,EAAMse,KAEf,IAAMC,EAAU,GAuChB,OAtCI5B,EACDA,EAAqBroB,SAAQ,SAACgpB,GAC7B,GAAsB,kBAAXA,EACT,OAAQA,GACN,IAAK,SACHiB,EAAQnyB,KAAKgxB,KACb,MACF,IAAK,SACHmB,EAAQnyB,KAAK2xB,KACb,MACF,IAAK,QACHQ,EAAQnyB,KAAK+xB,KACb,WAEC,GAAsB,WAAlB,GAAOb,GAChB,OAAQA,EAAO7sB,MACb,IAAK,SACH8tB,EAAQnyB,KAAKgxB,EAAmBE,EAAOpkB,KAAMokB,EAAO9pB,MAAO8pB,EAAOA,SAClE,MACF,IAAK,SACHiB,EAAQnyB,KAAK2xB,EAAmBT,EAAOpkB,KAAMokB,EAAO9pB,MAAO8pB,EAAOA,SAClE,MACF,IAAK,QACHiB,EAAQnyB,KAAK+xB,EAAkBb,EAAOpkB,KAAMokB,EAAO9pB,MAAO8pB,EAAOA,SACjE,MACF,QACE,IAAME,EAAgBF,EAAO9pB,OAAS,GACtCgqB,EAAS9e,SAAWlL,EAAMkL,UAAYlL,EAAMsU,QAC5CyW,EAAQnyB,KAAKuxB,EAAaL,EAAOpkB,KAAMokB,EAAOA,OAAQE,EAAU,OAChE,WAKRe,EAAQnyB,KAAK2xB,KACbQ,EAAQnyB,KAAKgxB,KACbmB,EAAQnyB,KAAK+xB,MAEf,sCAAkB,eAAlB,CACGI,MAyBP,OArBA,oBAAM,kBAAM/qB,EAAMhC,SAAO,WACvB6X,OAEF,oBAAM,kBAAMzJ,EAAapO,SAAO,SAAC+N,G,MAC/B,IAAK,gBAAQK,EAAapO,MAAOgC,EAAMhC,OAAQ,CAC7C,IAAMgtB,EAAa,KAAMjf,GACzBD,EAAK,eAAgBkf,GACP,QAAd,EAAAhrB,EAAMqgB,gBAAQ,cAAdrgB,EAAiBgrB,MAElB,CAACpV,MAAM,IAEV,wBAAU,WACJ5V,EAAMopB,SACPppB,EAAMopB,QAAgB5oB,EAAMgV,YAIjCK,IACArV,EAAMgV,QAAU,GAAchV,EAAOmpB,EAAWvd,GAChD5L,EAAM0S,SAAWlT,EAAMkT,SAEhB,CACLyX,oBACAJ,qBACAJ,eACAP,qBACArU,WACA/U,QACA8c,gBACAlR,iBAGJnN,OAvSiC,W,YAwSzBgsB,EAA4B,OAAcnd,QAAQ9K,KAAK7D,UACvD+rB,EAA2B,OAAcnd,OAAO/K,KAAK7D,UACpDc,EAAyD+C,KAAzD/C,MAAOopB,EAAkDrmB,KAAlDqmB,OAAQxO,EAA0C7X,KAA1C6X,UAAWra,EAA+BwC,KAA/BxC,MAAO4L,EAAwBpJ,KAAxBoJ,aAAc/C,EAAUrG,KAAVqG,OAChD8hB,EAAoB5yB,OAAOmI,OAAO,GAAI2I,EAAQ,CAClDjO,KAAM,SACN6E,QACAD,MAAOgD,KAAKqG,OAAOrJ,QAEjB8N,EAAe,CACC,QAAlB,KAAA9K,KAAKqY,QAAOnN,cAAM,uBAClB,gBAAY,KAAM1N,EAChB2qB,EAAc/e,EAAc,GAAG,EAAOpJ,KAAKooB,QAG3Crd,EAAc,CAChB/K,KAAKsa,gBACa,QAAlB,KAAAta,KAAKqY,QAAOtN,cAAM,wBAEdsc,EAAU,IAAUxP,EAAD,gBACnBA,EADmB,WACEwO,GADF,UAEnBxO,EAFmB,YAEN7X,KAAK7D,UAAY6D,KAAK0R,OAAOoE,OAChD,GAAI9V,KAAKqmB,OAAQ,yBAEZvb,EAFY,GACfA,EAAU,mCACPA,KADI,iCADQ,wBAKZC,EALY,GAIfA,EAAS,mCACNA,KADG,iCAGN,IAAMsd,EAAc,OAAclrB,OAClC,yCAAsBkqB,GAAtB,2BACGvc,EACAC,MAGL,6CAAmBsc,EAAnB,MAAmCrnB,KAAK0R,OAAOmE,OAA/C,CACG/K,EACAC,OAIPkb,GAAW3N,QAAU,SAACC,GACpBA,EAAI5b,UAAUspB,GAAWhsB,KAAMgsB,IAC/B1N,EAAI5b,UAAU,QAAgB1C,KAAM,UAEvB,UCxWA,YAAC+C,EAAOwL,G,QACd8G,EAAUtS,EAAVsS,OACD9R,EAAyB,oBAAO,SAChC8qB,EAAgB,OAAc/c,KAAK/N,EAAMrB,UAC/C,yCAA6Ba,EAAMC,OAAnC,2BACGqS,EACiB,QAAjB,KAAA9G,EAAIgB,OAAMpB,eAAO,4BCPTmgB,GAAkB,CAC7BprB,OAAQ,CAAC/E,KAAMuF,MAAOgS,UAAU,GAChCL,OAAQ,CAAClX,KAAM,CAACuF,MAAOpI,SACvByhB,iBAAkB,CAChB5e,KAAMuF,QAIG,GAAgB,iBAAmC,CAC9DH,MAAO,oBAAO,WCLD,I,UAAA,6BAAgB,CAC7BvD,KAAM,YACN+C,MAAO,CACLwrB,SAAUznB,OACV0nB,QAASxmB,OACThF,MAAO,CACL7E,KAAM,CAAC6J,OAAQ1M,SAEjBmzB,WAAYzmB,OACZqN,OAAQiZ,GAAgBjZ,QAE1BU,MAAO,CAAC,MAAO,YAAa,UAAW,UACvCC,MAZ6B,SAYvBjT,EAZuB,GAYV,IAAL8L,EAAK,EAALA,KACNtL,EAAyB,oBAAO,SAChC+b,EAAc,uBAAS,kBAAMvc,EAAMsS,UACnCqZ,EAAe,SAAC/lB,GACpB,GAAIA,IAAU2W,EAAYve,MAAM1F,OAAS,EAAzC,CAGA,IAAMszB,EAAW,OAAcle,MAAMlN,EAAMrB,UAAUyU,KACrD,KAAI5T,EAAMwrB,UAAYxrB,EAAMwrB,UAAYjP,EAAYve,MAAM1F,QAG1D,6CAAkB,uBAAlB,uCACa,qBADb,QAEgB,WACPwT,EAAK,SAHd,uCAMK9L,EAAMyrB,SAAW,WAIlBI,EAAmB,SAACjmB,GACxB,IAAMkmB,EAAW,OAAcpe,MAAMlN,EAAMrB,UAAU4sB,KAC/CC,EAAS,OAActe,MAAMlN,EAAMrB,UAAU8sB,GACnD,OAAO1P,EAAYve,MAAM1F,OAAS,EAAI,CACpCsN,IAAU2W,EAAYve,MAAM1F,OAAS,EAArC,sCACe,aADf,QAEkB,WACPwT,EAAK,YAAalG,KAH7B,8EAMgB,WANhB,QAOW,KACD,IAAVA,EAAA,sCAAyB,aAAzB,QAA+C,WAC7CkG,EAAK,UAAWlG,KADlB,8EAIc,WAJd,QAKS,MACP,MAEAmb,EAAc,WAClB,GAAK/gB,EAAMC,MAGX,6CAAkB,4BAAlB,uCACa,0BADb,uCAEe,2BAFf,CAE0CD,EAAMC,aAIlD,MAAO,CACLO,QACAmrB,eACA5K,cACAzH,SAJK,SAII1T,GACPkG,EAAK,SAAUlG,IAEjB2W,cACAsP,mBACAnS,MAAO,WACL5N,EAAK,UAIX7M,OA7E6B,WA6EvB,WACGuB,EAASwC,KAATxC,MACD+T,EAAa,OAAc7G,MAAMlN,EAAMrB,UAAUoF,OACjDqnB,EAAW,OAAcle,MAAMlN,EAAMrB,UAAUyU,KAC/CsY,EAAiB,OAAc1d,MAAMhO,EAAMrB,UAEjD,6CAAkB,qBAAlB,CAEI6D,KAAKuZ,YAAYjkB,OAAS0K,KAAKuZ,YAAYna,KAAI,SAAC8B,EAAI0B,GAClD,6CAAkB,aAAlB,IAAoC,QAAUA,GAA9C,uCACa,eADb,uCAEWA,EAAQ,MAGf,EAAKmb,cALT,sCAOa,sBAPb,CAOmC7c,IAPnC,sCAQa,uBARb,uCASe,aATf,QAUkB,WACP,EAAKoV,SAAS1T,KAXzB,8EAckB,WAdlB,CAc6B,EAAK8lB,YAAc,SAE3C,EAAKG,iBAAiBjmB,KAExB,EAAK+lB,aAAa/lB,QAnBvB,wCAqBiC,GArBjC,QAsB8B5C,KAAK0W,OAtBnC,iEAuBa,eAvBb,8H,wWCvFR,SAASyS,GAAYzR,GACnB,IAAM0R,EAAgB,GAMtB,MALoB,kBAAT1R,EACT0R,EAAS1R,KAAOA,EACS,WAAhB,GAAOA,IAChBniB,OAAOmI,OAAO0rB,EAAU1R,GAEnB0R,EAGM,oCAAgB,CAC7BnvB,KAAM,aACN+C,MAAO,OAAF,wBACAurB,IAAe,CAClBprB,OAAQ,CACN/E,KAAMuF,MACNgS,UAAU,GAEZ1S,MAAO,CACL7E,KAAM,CAAC6J,OAAQ1M,SAEjBsa,OAAQ9O,OACRsoB,WAAY,CACVjxB,KAAM+P,QACNC,SAAS,GAEXkhB,SAAU,CAAC/zB,OAAQ0iB,UACnBsR,SAAU,CAACh0B,OAAQ0M,OAAQgW,UAC3BuR,SAAU,CAACj0B,OAAQ0M,OAAQgW,UAC3BwR,SAAU,CAACl0B,OAAQ0iB,YAErBhI,MArB6B,SAqBvBjT,GACJ,MAAgB,KAATQ,EAAP,EAAOA,MACDksB,EAAgB,uBAAS,kBAAM1sB,EAAMG,OAAOkf,MAAK,SAAAnb,GAAE,OAAIvD,MAAMC,QAAQsD,SACrEyoB,EAAU,uBAAS,kBACrB3sB,EAAMG,OAAOkf,MAAK,SAAAnb,GAAE,MAAkB,kBAAPA,IAAqBvD,MAAMC,QAAQsD,IAAqB,WAAd,GAAOA,OAAqBlE,EAAMG,OAAOkf,MAAK,SAAAnb,GAAE,OAAIvD,MAAMC,QAAQsD,SACzIqY,EAAc,uBAAS,kBAAMvc,EAAMsS,UACnCsa,EAAc,SAAChnB,G,MACnB,MAA8B,oBAAnB5F,EAAMssB,SACRtsB,EAAMssB,SAAS1mB,GAEH,QAAd,EAAA5F,EAAMssB,gBAAQ,QAAI,IAErBO,EAAc,SAACjnB,G,MACnB,MAA8B,oBAAnB5F,EAAMysB,SACRzsB,EAAMysB,SAAS7mB,GAEH,QAAd,EAAA5F,EAAMysB,gBAAQ,QAAI,IAErBK,EAAc,SAAClnB,G,MACnB,MAA8B,oBAAnB5F,EAAMusB,SACRvsB,EAAMusB,SAAS3mB,GAEH,QAAd,EAAA5F,EAAMusB,gBAAQ,QAAI,IAErBQ,EAAc,SAACnnB,G,MACnB,MAA8B,oBAAnB5F,EAAMwsB,SACRxsB,EAAMwsB,SAAS5mB,GAEH,QAAd,EAAA5F,EAAMwsB,gBAAQ,QAAI,IAE3B,MAAO,CACLjQ,cACAmQ,gBACAC,UACAC,cACAE,cACAC,cACAF,cACAG,SARK,SAQI1a,EAAiBnS,GACxB,IAAKusB,EAAc1uB,MACjB,MAAO,CAACsU,GAEV,IAAM2O,EAAS,GACTgM,EAAY,GAAGhlB,OAAOqK,GAa5B,OAZAnS,EAAOW,SAAQ,SAAA4Z,GACb,GAAI/Z,MAAMC,QAAQ8Z,GAAO,CACvB,IAAMwS,EAAMD,EAAUzzB,OAAO,EAAGkhB,EAAKpiB,QACrC2oB,EAAOroB,KAAKs0B,EAAI50B,OAAS40B,EAAM,UAC1B,CACL,IAAM,EAAMD,EAAUzzB,OAAO,EAAG,GAChCynB,EAAOroB,KAAK,EAAIN,OAAS,EAAI,GAAK,UAGlC20B,EAAU30B,QACZ20B,EAAUnsB,SAAQ,SAAAlB,GAAK,OAAIqhB,EAAOroB,KAAKgH,MAElCqhB,GAETkM,oBA5BK,WA6BH,OAAKT,EAAc1uB,MAGVgC,EAAMG,OAFN,CAACH,EAAMG,SAKlBK,UAGJvB,OAzF6B,WAyFvB,WACGuB,EAASwC,KAATxC,MACD4sB,EAAwB,OAAchf,IAAI5N,EAAMrB,UAChDkuB,EAAwB,OAAcxf,IAAIrN,EAAMrB,UAC/CktB,EAAyCrpB,KAAzCqpB,WAAYxZ,EAA6B7P,KAA7B6P,OAAgB1T,EAAa6D,KAArBxC,MAAQrB,SACnC,GAAIA,IAAa,OACf,4CAAa6D,KAAKuZ,cAEpB,IAAMjK,EAAStP,KAAKuZ,YACdpc,EAAmC6C,KAAK7C,OACxC8gB,EAASje,KAAKgqB,SAAS1a,EAAQnS,GAC/BmtB,EAAmBtqB,KAAKmqB,sBACxBI,EAAeD,EAAiBlrB,KAAI,SAACsY,EAAM9U,GAC/C,IAAM6b,EAAQR,EAAOrb,GACrB,GAAI6b,EAAO,CACgB,MAAzB,GAAI9gB,MAAMC,QAAQ8Z,GAChB,yCACW,EAAKkS,YAAYhnB,GAD5B,MAEW,EAAKknB,YAAYlnB,GAF5B,OAGYiN,GAHZ,KAKI6H,EAAKtY,KAAI,SAACorB,EAASC,GACjB,iEAEe,EAAKZ,YAAYY,GAFhC,MAGe,EAAKV,YAAYU,IACpBtB,GAAYqB,IAJxB,2BAKO/L,EAAMgM,WAXnB,mCAmBA,IAAM5f,EAAM,oDAAH,MACE,EAAKgf,YAAYjnB,GADnB,MAEE,EAAKmnB,YAAYnnB,IACpBumB,GAAYzR,IAHX,GAGmB+G,KAHnB,2BAGmBA,MAC5B,OAAI4K,EACF,kCACW,EAAKO,YAAYhnB,GAD5B,MAEW,EAAKknB,YAAYlnB,GAF5B,OAGYiN,GAHZ,GAGqBhF,KAHrB,2BAGqBA,MAEhBA,MAIP2M,EAAyB,gBAAqBxX,KAAKxC,MAAMrB,UAC/D,GAAI6D,KAAK/C,MAAO,CACd,IAAMytB,EAAiB,OAAH,wBAAO1qB,KAAK0R,QAAM,CAAEzU,MAAO+C,KAAK/C,MAAO4L,MAAO7I,KAAK/C,QACvE,kCAA8BytB,EAA9B,2BACG,EAAKf,QAAL,mCAC6B,EAAK9Z,QADlC,GAC2C0a,KAD3C,2BAC2CA,MAAmCA,MAGnF,OAAOvqB,KAAK2pB,QAAL,mCACS3pB,KAAK6P,QADd,GACuB0a,KADvB,2BACuBA,MADvB,qCAEGA,O,u7BC7JC,oCAAgB,CAC3BtwB,KAAM,cACN+C,MAAO,OAAF,QACHG,OAAQ,CAAC/E,KAAMuF,MAA0BgS,UAAU,GACnDgb,OAAQ,CACNvyB,KAAM,CAACuF,QAETitB,YAAa7pB,QACVwnB,IAELtY,MAV2B,SAUrBjT,GACJ,MAAgB,KAATQ,EAAP,EAAOA,MACDmL,EAAU,iBAAI,GACdkiB,EAAU,uBAAS,WACvB,OAAQ7tB,EAAMga,iBAAuC5X,KAAI,SAAA8B,GAAE,OAAI1D,EAAM8R,OAAOpO,EAAGxF,gBAE3EmZ,EAAS,uBAAS,WACtB,OAAOgW,EAAQ7vB,MAAM8L,QAAO,SAAA5F,GAAE,YAAWhH,IAAPgH,KAAkB9B,KAAI,SAAA8B,GAAE,OAAIA,EAAG2T,aAQnE,OANA,oBAAM,kBAAM7X,EAAM4tB,eAAa,SAAC5vB,GAChB,OAAVA,QAA4Bd,IAAVc,IACpB2N,EAAQ3N,MAAQA,KAEjB,CAACmO,WAAW,IACf,0BAAY,kBAAM0L,EAAO7Z,SAClB,CACL2N,UACAnL,QACAstB,UAAW,SAACloB,EAAO0M,GACjB,IAAMyb,EAAc,gBAAKzb,EAAOxI,QAAO,SAAA5F,GAAE,YAAWhH,IAAPgH,KAAkB9B,KAAI,SAAA8B,GAAE,OAAIA,EAAG2T,WAC5E,OAAIkW,EAAYz1B,OACP,QAELqT,EAAQ3N,MAAQ4H,EACX,SAEL+F,EAAQ3N,QAAU4H,EACb,UAEF,UAIb3G,OA3C2B,WA2CrB,aACE4uB,EAAU7qB,KAAKgX,iBAAiB5X,KAAI,SAAA8B,GAAE,OAAI,EAAK1D,MAAM8R,OAAOpO,EAAGxF,aAC/D4T,EAAS,GAAItP,KAAKsP,QAClB2O,EAAUje,KAAK7C,OAAoBiC,KAAI,SAAC5D,GAC5C,OAAO8T,EAAO9Y,OAAO,EAAGgF,MAEpBwvB,EAAgBhrB,KAAK7C,OAAoBiC,KAAI,SAAC5D,GAClD,OAAOqvB,EAAQr0B,OAAO,EAAGgF,MAE3B,6CAAkB,6BAAlB,yCAEU,oBACkB,MAAd,EAAKmN,QAHnB,oCAGc,EAAKA,QAHnB,SAKO3I,KAAK7C,OAAoBiC,KAAI,SAAC5D,EAAGoH,GAChC,qDAEI,EAAKkoB,UAAUloB,EAAOooB,EAAapoB,IAFvC,MAIS,EAAK+nB,OAAO/nB,IAJrB,UANR,mCAeIqb,EAAO7e,KAAI,SAAC5D,EAAGoH,GACb,6CAAmB,CACjB2L,QAAS3L,IAAU,EAAK+F,QAAU,QAAU,SAD9C,CAGGnN,OAnBT,sCAwBe,gCAxBf,2EA0Bc,YA1Bd,SA2BkBwE,KAAK2I,SAAW,EA3BlC,QA4BiB,WACH,EAAKA,QAAU,IACjB,EAAKA,QAAU,EAAKA,QAAU,KA9B1C,6IAmCc,YAnCd,SAoCkB3I,KAAK2I,SAAW3I,KAAK7C,OAAO7H,OAAS,EApCvD,QAqCiB,WACP,IAAMga,EAAS0b,EAAa,EAAKriB,SACjCtR,QAAQ+C,IAAIkV,EAAOlQ,KAAI,SAAA8B,GAAE,OAAIA,EAAGqR,eAAarZ,MAAK,SAAApE,IAC3CA,EAAKunB,MAAK,SAAAnb,GAAE,OAAIA,GAAOA,EAAgB5L,WAAW,EAAKqT,QAAU,EAAKxL,OAAO7H,OAAS,IACzF,EAAKqT,QAAU,EAAKA,QAAU,QAzC5C,0ECxDS,gCAAgB,CAC7B1O,KAAM,cACN+C,MAAO,OAAF,UACAurB,IAELtsB,OAL6B,WAM3B,4CACG+D,KAAKsP,YCPG,I,UAAA,6BAAgB,CAC7BrV,KAAM,UACN+C,MAAO,CACLG,OAAQ,CAAC/E,KAAM6J,OAAQ0N,UAAU,GACjCL,OAAQ,CAAClX,KAAM,CAACuF,MAAOpI,QAASoa,UAAU,IAE5CM,MAN6B,SAMvBjT,GACJ,IAAMiuB,EAAa,WACjB,IAAM9tB,EAASH,EAAMG,OACjBiB,EAAQ,GACNkR,EAAStS,EAAMsS,OACf4b,EAAa,GAAGjmB,OAAOqK,GAC7B,GAAInS,EAAQ,CACV,IAAMoF,EAAQpF,EAAOoF,MAAM,MAC3BA,EAAMzE,SAAQ,SAACO,GACTA,EAAK/I,QACP8I,EAAMxI,KAAN,uCAAuB,4BAAvB,CAAmDyI,KAErDD,EAAMxI,KAAKs1B,EAAW10B,OAAO,EAAG,OAMpC,OAHI00B,EAAW51B,SACb8I,EAAQA,EAAM6G,OAAOimB,IAEhB9sB,GAET,MAAO,CAAC6sB,eAEVhvB,OA5B6B,WA6B3B,IAAM6O,EAAU9K,KAAKirB,aACrB,6CAAkB,sBAAlB,CAAwCngB,QCnB/B,GAAiB,SAACvN,GAO7B,eAAkB,CAChBZ,UAAWY,EAAQZ,UAAWoB,UAAWR,EAAQQ,UACjDF,MAAON,EAAQM,MACfkQ,SAAU,KACVG,cAAe3Q,EAAQ2Q,cACvBF,SAAUzQ,EAAQyQ,SAClB9P,WAAY,KAAMf,QAAQ,KAI9B,GAAe,CACbR,UAAW,GACXoB,UAAW,CAAC,OAAS,QACrBF,MAAO,QACPqQ,cAAe,CACbmG,SAAS,EACTwC,QAAQ,KAIZ,GAAe,CACbla,UAAW,GACXoB,UAAW,CAAC,OAAS,QACrBF,MAAO,OACPqQ,cAAe,CACbmG,SAAS,EACTwC,QAAQ,KAGZ,GAAe,CACbla,UAAW,GACXoB,UAAW,OACXF,MAAO,UAET,GAAe,CACblB,UAAW,GACXoB,UAAW,OACXF,MAAO,QACPqQ,cAAe,CACbmG,SAAS,EACTwC,QAAQ,KAGZ,GAAe,CACbla,UAAW,GACXoB,UAAW,CAAC,QACZF,MAAO,CAAC,QACRqQ,cAAe,CACbmG,SAAS,EACTwC,QAAQ,KAGZ,GAAe,CACbla,UAAW,GACXoB,UAAW,CAAC,OAAS,QACrBF,MAAO,a,yFCxDIstB,GAAkD,CAC7DxgB,MAAO,KACPE,IAAK,KACLC,QAAS,KACTU,MAAO,KACPT,OAAQ,KACRG,OAAQ,KACR/N,OAAQ,KACRiO,IAAK,KACLC,MAAO,KACPE,KAAM,QACND,SAAU,QACVV,OAAQ,QACRI,KAAM,QACNC,SAAU,QAAKmgB,KACfjgB,QAAS,QACTT,MAAO,CACLsJ,KAAMqX,GAAA,KACNpC,GAAIqC,GAAA,KACJvC,KAAMwC,GAAA,KACNhqB,OAAQiqB,GAAA,KACR5a,KAAM6a,GAAA,MAER/f,MAAO,QACPD,OAAQ,MAIJ,SAAUigB,KACd9vB,QAAQ+vB,MAAM,+BACd,eAAkBR,IAClB/uB,EAAA,KAAOC,UAAUC,OAAS,SAACwO,EAAiB7N,GAC1C,OAAO,IAAI5F,SAAQ,SAACC,EAASC,GAC3B,QAAMq0B,QACJ3uB,EAAO6N,GACP5R,MAAK,SAAA8B,GACL1D,EAAQ0D,MACP6wB,OAAM,SAAAlzB,GACPpB,EAAOoB,UAIbyD,EAAA,KAAOI,sBAAsBF,OAAS,SAACK,EAAWC,G,UAC1CI,EAAa,GAUnB,OATAA,EAAM8e,KAAOlf,EAAMiY,OAAOhU,KAAK,KAC3B7D,EAAM8e,OACR9e,EAAM6e,aAAc,EACpB7e,EAAM+e,eAAiB,WAES,QAA9B,EAAgB,QAAhB,EAAAnf,EAAMwR,kBAAU,eAAEgG,oBAAY,eAAEC,WAA6B,QAAjB,EAAK,OAALzX,QAAK,IAALA,OAAK,EAALA,EAAOwR,kBAAU,eAAEnR,SACjED,EAAM8uB,OAAQ,EACd9uB,EAAM2S,UAAW,GAEZ3S,GAIT,OAAA8R,GAAA,MAAe,QAAO,CAAC,OAAW7M,OAAQ,OAAW0L,MAAM,GACzD,iBAAO,CAAC6O,UAAW,YACrB,OAAA1N,GAAA,MAAe,QAAO,CAAC,OAAW/N,OAAQ,OAAWkM,UAAU,GAC7D,iBAAO,CAAC7U,KAAM,SAAUokB,UAAW,YACrC,OAAA1N,GAAA,MAAe,QAAO,CAAC,OAAW5B,SAAS,GACzC,iBAAO,CAAC9U,KAAM,QAASokB,UAAW,YACpC,OAAA1N,GAAA,MAAe,QAAO,CAAC,OAAWid,WAAW,GAC3C,iBAAO,CAAC3zB,KAAM,eAChB,OAAA0W,GAAA,MAAe5C,MAAO,CAAC,OAAWA,QAAQ,GAC1C,OAAA4C,GAAA,MAAe,QAAU,CAAC,OAAWqR,OAAO,GAC5C,OAAArR,GAAA,MAAe,QAAWsc,KAAM,CAAC,OAAWlkB,KAAM,OAAWkG,KAAM,OAAWC,MAAO,OAAWF,WAC9F,GAAO,SAACiB,GAAD,MAAiB,CAAClT,KAAOkT,EAAWhW,KAAgB4zB,kBAC7D,OAAAld,GAAA,MAAe,QAASsc,KAAM,CAAC,OAAW3d,YAAY,GAAO,iBAAO,CAACrV,KAAM,YAC3E,OAAA0W,GAAA,MAAe,QAASsc,KAAM,CAAC,OAAW1d,gBAAgB,GAAO,iBAAO,CAACtV,KAAM,QAAS6zB,UAAU,MAClG,OAAAnd,GAAA,MAAe,QAAU,OAAWod,UAAU,GAE9C,eAAkB,CAChBvvB,UAAW,QAAOyuB,KAClBvtB,MAAO,OAAWsK,QAClB4F,UAAU,EACV7P,YAAY,EACZH,UAAW,SACXuK,UAAW,YAEb,eAAkB,CAChB3L,UAAW,QACXkB,MAAO,OAAWypB,OAClBvpB,UAAW,SACXG,YAAY,EACZ+P,UAAU,EACVF,SAAU,KACVC,SAAU,SAAApR,GACR,MAAO,CAACK,MAAOL,EAAMK,QAEvBkR,MAAM,IAER,OAAAW,GAAA,MAAe,QAASqd,KAAM,OAAW5e,cAAc,GAAM,SAAA3Q,GAC3D,MAAO,CAACW,QAAS,eAAeX,GAAQ6e,UAAU,MAEpD,OAAA3M,GAAA,MAAe,QAAMqd,KAAM,OAAW5e,cAAc,GAAO,SAAA3Q,GACzD,MAAO,CAACW,QAAS,eAAeX,OAElC,OAAAkS,GAAA,MAAe,QAAOsc,KAAM,OAAWnf,UAAU,GACjD,OAAA6C,GAAA,MAAe,QAASsd,UAAW,OAAW9e,QAAQ,GAAM,SAAA1Q,GAC1D,MAAO,CAACW,QAAS,eAAeX,GAAQ6e,UAAU,MAEpD,OAAA3M,GAAA,MAAe,QAAMsd,UAAW,OAAW9e,QAAQ,GAAO,SAAA1Q,GACxD,MAAO,CAACW,QAAS,eAAeX,OAElC,OAAAkS,GAAA,MAAS,QAAQ,SAAU,OAAW5C,OAAO,GAAO,WAClD,MAAO,CAACmgB,OAAO,M,kZC5HJ,gCAAgB,CAC7BpyB,KAAM,cACN+C,MAAO,CACLhC,MAAO,CACL5C,KAAM,CAAC7C,OAAQoI,MAAOsE,UAG1BhG,OAP6B,WAQ3B,OAAI+D,KAAKhF,MACAgF,KAAKhF,MAEP,oBCXI,gCAAgB,CAC7Bf,KAAM,cACN+C,MAAO,CACLhC,MAAO,CACL5C,KAAM2I,QAERmH,SAAUC,SAEZlM,OAR6B,WAS3B,IAAMe,EAAQ,CAAChC,MAAOgF,KAAKhF,MAAOkN,UAAU,GAC5C,wCAAiBlL,EAAjB,SCVW,gCAAgB,CAC7B/C,KAAM,kBACN+C,MAAO,CACLhC,MAAO2C,MACP2uB,WAAY,CAACl0B,KAAMuF,MAA+ByK,QAAS,iBAAO,MAEpEnM,OAN6B,WAMvB,WACJ,OAAK+D,KAAKhF,OAA+B,IAAtBgF,KAAKhF,MAAM1F,OAGvB0K,KAAKssB,WAAWxlB,QAAO,SAAA5F,GAAE,OAAI,EAAKlG,MAAMyZ,SAASvT,EAAG5F,QACxD8D,KAAI,SAAA8B,GAAE,OAAIA,EAAGjE,SAAO4D,KAAK,KAHnB,oBCRE,gCAAgB,CAC7B5G,KAAM,YACN+C,MAAO,CACLhC,MAAO,CAAC5C,KAAM,CAAC6J,OAAQlB,UAEzBiP,MAAO,CAAC,gBACRC,MAN6B,SAMvBjT,EAAOwL,GACX,MAAe,eAAaxL,EAAOwL,GAA5BvI,EAAP,EAAOA,KACDiT,EAAa,iBAAIlW,EAAMhC,OACvBuxB,EAAW,SAACvxB,GAChBkY,EAAWlY,MAAQA,EACnBwN,EAAIM,KAAK,eAAgB9N,IAO3B,OALA,oBAAM,kBAAMgC,EAAMhC,SAAO,SAACA,GACpBA,IAAUkY,EAAWlY,QACvBkY,EAAWlY,MAAQA,MAGhB,CACLiF,OAAMiT,aAAYqZ,aAGtBtwB,OAtB6B,SAsBtBuM,GACL,IAAMxL,EAAQ,OAAH,oCACTiD,KAAMuI,EAAIvI,MACPuI,EAAIkJ,QACJlJ,EAAI2J,QAAM,CACbnX,MAAOgF,KAAKkT,WACZ,iBAAkBlT,KAAKusB,WAEzB,yEAAoBvvB,EAAgBgD,KAAKqY,W,yBC7B9B,gCAAgB,CAC7Bpe,KAAM,WACN+C,MAAO,CACLhC,MAAO2C,OAETqS,MAAO,CAAC,gBACR/T,OAN6B,WAMvB,WACEe,EAAK,+BACNgD,KAAK0R,QAAM,CAAE8a,WAAYxsB,KAAKhF,MAAOqiB,SAAU,SAACriB,GACjD,EAAKotB,MAAM,eAAgBptB,MAG/B,wCAAqBgC,EAArB,S,sCChBSyvB,GAAO,SAAIluB,EAAQ+Q,GAE9B,IAAMod,EAAsC,GAM5C,OAJApd,EAAOxR,SAAQ,SAAAxC,GACboxB,EAAOpxB,GAAOiD,EAAIjD,MAGboxB,G,2wBCGT,I,GAAMC,GAAc,CAAC,OAAQ,MAAO,OAAQ,OAAQ,OAEvCC,GAAkB,CAC7B1xB,KAAM+G,OACNwZ,SAAU,CAACrjB,KAAM+P,QAASC,SAAS,GACnC6S,UAAW,CACT7iB,KAAM6J,OACNmG,QAAS,UAEXpN,MAAO,CAACiH,OAAQ1M,OAAQoI,QAEb,GAAgB,SAACX,EAAD,GAAkB,IAAT8L,EAAS,EAATA,KAC9B+jB,EAAW,iBAAI,IACfC,EAAa,iBAAI,MACjBzZ,EAAa,uBAAS,WAC1B,IAAM9U,EAAWhJ,OAAOmI,OAAO,GAAIV,GAqBnC,MApBmB,SAAfA,EAAM9B,KACRqD,EAAIwuB,SAAW,eACS,YAAf/vB,EAAM9B,MACfqD,EAAIyuB,MAAO,SACJzuB,EAAIwuB,UACF/vB,EAAM9B,OACfqD,EAAIwuB,SAAW/vB,EAAM+vB,UAElBxuB,EAAIqB,OACF5C,EAAMye,WACTld,EAAIqB,MAAQ,GAGXrB,EAAI0uB,cAA+B,YAAfjwB,EAAM9B,OAC7BqD,EAAI0uB,cAAe,GAEhB1uB,EAAI2uB,gBAAiC,YAAflwB,EAAM9B,OAC/BqD,EAAI2uB,gBAAiB,GAEvB3uB,EAAIkd,SAAWze,EAAMye,SACdld,KAsDT,OApDA,oBAAM,kBAAMsuB,EAAS7xB,SAAO,SAAAA,GAC1B,IAAIA,EAAMqhB,MAAK,SAAAnb,GAAE,OAAKA,EAAG2f,OAAzB,CAGA,IAAIsM,EAAc,KACdnwB,EAAMye,SACR0R,EAAcnyB,EAAMoE,KAAI,SAAA8B,GACtB,MAA2B,WAApBlE,EAAMie,UAAyB/Z,EAAG2f,IAAM4L,GAAKvrB,EAAIyrB,OAGtD3xB,EAAM1F,SACR63B,EAAkC,WAApBnwB,EAAMie,UAAyBjgB,EAAM,GAAG6lB,IAAM4L,GAAKzxB,EAAM,GAAI2xB,KAG/E7jB,EAAK,eAAgBqkB,MACpB,CAACva,MAAM,IACV,oBAAM,kBAAM5V,EAAMhC,SAAO,SAACA,G,QAClBoyB,EAAwC,QAAjC,EAAc,QAAd,EAAAP,EAAS7xB,aAAK,eAAEoE,KAAI,SAAA8B,GAAE,OAAIA,EAAG2f,cAAI,QAAI,GAC9C7jB,EAAMye,SACHzgB,GAAUA,EAAM1F,OAEU,WAApB0H,EAAMie,UACf4R,EAAS7xB,MAAT,GAAqBgC,EAAMhC,OAE3BA,EAAM8C,SAAQ,SAACiL,EAAGnG,GACQ,WAApB5F,EAAMie,UACHmS,EAAK3Y,SAAS1L,IACjB8jB,EAAS7xB,MAAMpF,KAAK,CAClBirB,IAAK9X,EACLskB,IAAK,QAAF,OAAUzqB,GACb3I,KAAM,QAAF,OAAU2I,KAGRwqB,EAAK3Y,SAAS1L,EAAE8X,MAC1BgM,EAAS7xB,MAAMpF,KAAKmT,MAdxB8jB,EAAS7xB,MAAQ,GAkBTA,EAEmB,WAApBgC,EAAMie,UACVmS,EAAK3Y,SAASzZ,KACjB6xB,EAAS7xB,MAAQ,CAAC,CAChB6lB,IAAK7lB,EACLqyB,IAAK,SACLpzB,KAAM,YAGAmzB,EAAK3Y,SAASzZ,EAAM6lB,OAC9BgM,EAAS7xB,MAAQ,CAACA,IAVlB6xB,EAAS7xB,MAAQ,KAYlB,CAACmO,WAAW,IACR,CACL0jB,WACAC,aACA9vB,MAAOqW,I,mIC/FI,oCAAgB,CAC7BpZ,KAAM,UACNqhB,YAAU,YACP,QAAOrhB,KADA,eAEP,QAAOqzB,QAAQrzB,KAAO,QAAOqzB,SAFtB,qBAGM7B,GAAA,MAHN,uBAG2B8B,GAAA,MAH3B,IAKVvwB,MAAO,OAAF,QACHwwB,KAAMvrB,QACH2qB,IAEL5c,MAAO,CAAC,SAAU,UAAW,gBAC7BC,MAZ6B,SAYvBjT,EAAOwL,GACX,MAAmB,GAAcxL,EAAOwL,GAAjCqkB,EAAP,EAAOA,SACDY,EAAiB,kBAAI,GACrBV,EAAW,uBAAS,WACxB,OAAQ/vB,EAAM9B,MACZ,IAAK,UACH,MAAO,UACT,IAAK,OACH,MAAO,eACT,QACE,MAAO,WAGPwyB,EAAcn4B,OAAOmI,OAAO,GAAI8K,EAAIe,MAAOvM,GACjD,EAAe,eAAaA,EAAOwL,GAA5BvI,EAAP,EAAOA,KACD6sB,EAAa,mBACnB,MAAO,CACL7sB,OACA8sB,WACAF,WACAa,cACAD,iBACAX,aACAzP,SAPK,SAOIiD,G,MAIP,IAHKtjB,EAAMye,UAAYoR,EAAS7xB,MAAM1F,OAAS,IAC7Cu3B,EAAS7xB,MAAQ,CAACslB,EAAEqN,OAElBrN,EAAEqN,KAAKC,QAAoC,KAAX,QAAf,EAAAtN,EAAEqN,KAAKhK,gBAAQ,eAAE9qB,MAAY,CAChD,IAAM80B,EAAOrN,EAAEuM,SAASrrB,MAAK,SAAAN,GAAE,OAAIA,EAAGmsB,MAAQ/M,EAAEqN,KAAKN,OACjDM,IACFA,EAAK9M,IAAMP,EAAEqN,KAAKhK,SAAS7uB,KAAK+rB,KAGpCrY,EAAIM,KAAK,SAAUwX,IAErBuN,UAnBK,SAmBKvN,GACRwM,EAAW9xB,MAAQslB,EAAEO,IACrB4M,EAAezyB,OAAQ,EACvBwN,EAAIM,KAAK,UAAWwX,IAEtBwN,cAxBK,WAyBHL,EAAezyB,OAAQ,KAI7BiB,OAzD6B,WAyDvB,I,IAAA,OACJ,GAAkB,YAAd+D,KAAK9E,KACP,kFAA6B8E,KAAK0tB,YAAlC,iEACc,CAACxlB,SAAU,EAAKwJ,OAAOxJ,WADrC,qCAEa,wBAFb,4HAKa,mBALb,uFAMa,mBANb,CAMgC,EAAKslB,aAIrC,IAAI1iB,EAAU,KAmCd,MAlCsB,iBAAlB9K,KAAK+sB,UACH/sB,KAAKyb,UAAqC,IAAzBzb,KAAK6sB,SAASv3B,UACjCwV,EAAU,gCAAH,MACQ,yBADR,0HAGU,mBAHV,2CAOkB,YAAlB9K,KAAK+sB,SACdjiB,EAAU,gCAAH,MACM,4BADN,CAGD9K,KAAK6sB,SAASv3B,QAAU0K,KAAK6sB,SAAS,GAAGhM,IAAzC,oCACc7gB,KAAK6sB,SAAS,GAAGhM,IAD/B,IAEa,GAFb,MAGe,6BAHf,4CAMe,mBANf,wFAaqB,SAAlB7gB,KAAK+sB,WACdjiB,EAAU,yBAAC,2CAAJ,SAEO9K,KAAK0R,OAAOxJ,SAFnB,KAGGlI,KAAKC,MAHR,qEAOT,wIAEkBD,KAAK0tB,YAFvB,UAGwB1tB,KAAK+sB,SACU,SAAf,EAAKF,SAJ7B,uCAIwB,EAAKA,SAJ7B,YAKwB7sB,KAAKqd,SAL7B,UAMyBrd,KAAK6tB,UAN9B,KAOoB7tB,KAAKC,OAPzB,2BAQO6K,EACmB,QAAnB,OAAKuN,QAAOjQ,eAAO,2BAT1B,2EAWsBpI,KAAKytB,eAX3B,OAYqB,WACN,wCAAoB,UAApB,QACwB,WACP7xB,QAAQmyB,IAAI,UACZ,EAAKD,kBAHtB,mEAbf,SAmBuB,WACR,EAAKA,kBApBpB,+DAsBe,UAtBf,MAuBiB,cAvBjB,IAwBgB,EAAKhB,YAxBrB,e,4OChEN,IAAM,GAAkD,CACtDvhB,KAAM,QACND,SAAU,QACVE,MAAO,QACPC,OAAQ,EACRC,MAAO,QACPd,OAAQ,EACRQ,IAAK,QACLP,IAAK,QACLG,KAAM,EACNC,SAAU,EACVN,MAAO,QACPxN,OAAQ,QACR+N,OAAQ,QAAO8iB,OACfjjB,OAAQ,QAAOkjB,OACf5iB,MAAO,QAAO6iB,MACdpjB,QAAS,QAAOqjB,QAChBhjB,QAAS,QACTT,MAAO,CACLsJ,KAAMqX,GAAA,KACNpC,GAAIqC,GAAA,KACJvC,KAAMwC,GAAA,KACNhqB,OAAQiqB,GAAA,KACR5a,KAAM6a,GAAA,OAKV,SAAS2C,GAAmBhwB,GAC1B,OAAOA,EAAMgB,KAAI,SAACf,GAChB,MAAoB,kBAATA,EACF,CAAC/C,IAAK+C,EAAMpB,MAAOoB,GAEnB,CACL/C,KAAM+C,EAAK/C,KAAO+C,EAAKrD,OAAOwD,WAC9BvB,MAAOoB,EAAKpB,OAASoB,EAAKwK,MAC1BwlB,YAAahwB,EAAKgwB,aAAehwB,EAAKwK,MACtCX,WAAY7J,EAAK6J,aAMzB,IAAMomB,GAAyB,SAAC5f,G,MAC9B,GAAwB,oBAAbA,EAAI9C,KAAqB,CAClC,IAAMzV,EAASuY,EAAI9C,OACnB,OAAIjO,MAAMC,QAAQzH,GACT,CAACm2B,WAAY8B,GAAmBj4B,GAAS8F,OAAQ,SAACoC,GAAD,OAAUA,EAAKpB,SAErE9G,EAAO+C,MACT/C,EAAO+C,MAAK,SAAApE,GACV4Z,EAAI1R,MAAMsvB,WAAa8B,GAAmBt5B,MAGvC,CAACmH,OAAQ,SAACoC,GAAD,OAAUA,EAAKpB,SAC1B,GAAwB,WAApB,GAAOyR,EAAI9C,OAAqB8C,EAAI9C,KAAK,QAIlD,OAHA8C,EAAI9C,KAAK,SAAQ,SAAA9W,GACf4Z,EAAI1R,MAAMsvB,WAAa8B,GAAmBt5B,MAErC,CAACmH,OAAQ,SAACoC,GAAD,OAAUA,EAAKpB,QAEjC,IAAMqvB,GAAsB,QAAT,EAAA5d,EAAI1R,aAAK,eAAEsvB,aAAc8B,GAAmB1f,EAAI9C,MAAQ,IAC3E,MAAO,CAAC0gB,aAAYrwB,OAAQ,SAACoC,GAAD,OAAUA,EAAKpB,SAGvC,SAAUsxB,KACd3yB,QAAQ+vB,MAAM,wBACd,eAAmB,IACnBvvB,EAAA,KAAOC,UAAUE,QAAU,SAACuO,EAAiB7N,GAC3C,OAAO,IAAI5F,SAAQ,SAACC,EAASC,GAC3B,QAAMq0B,QAAQ,CACZ9gB,UACA7N,QACAspB,SAAU,WACRhvB,KAEFssB,KAAM,WACJvsB,OAAQ4C,UAKhBkC,EAAA,KAAOI,sBAAsBD,QAAU,SAACI,EAAsBC,G,UACtDI,EAAa,GAcnB,OAbIJ,EAAMiY,OAAOvf,QACf0H,EAAM8e,KAAOlf,EAAMiY,OAAOhU,KAAK,KAC/B7D,EAAM+e,eAAiB,SACdnf,EAAMyxB,cACfrxB,EAAM8e,KAAOlf,EAAMyxB,aAEjBrxB,EAAM8e,OACR9e,EAAM6e,aAAc,KAEY,QAA9B,EAAgB,QAAhB,EAAAjf,EAAMwR,kBAAU,eAAEgG,oBAAY,eAAEC,WAA6B,QAAjB,EAAK,OAALzX,QAAK,IAALA,OAAK,EAALA,EAAOwR,kBAAU,eAAEnR,SACjED,EAAM8uB,OAAQ,EACd9uB,EAAM2S,UAAW,GAEZ3S,GAET,OAAA8R,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,UACXF,MAAO,CAAC,OAAW2wB,KAAM,OAAWC,WAEtC,OAAA3f,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,UACXF,MAAO,OAAWoO,SAClB+B,SAAUsgB,KAEZ,OAAAxf,GAAA,MAAgB,CACdnS,UAAW,GACXoB,UAAW,UACXF,MAAO,OAAW6wB,OAEpB,OAAA5f,GAAA,MAAgB,eAAqB,QAAMid,UAAW,CAAC,OAAWA,WAAW,GAC7E,eAAkB,CAChBpvB,UAAW,GACXkB,MAAO,OAAW4wB,QAClB1wB,UAAW,UACXG,YAAY,EACZ8P,SAAU,SAAAI,GACR,MAAO,CAACqN,SAAUrN,EAAWhQ,MAAOlD,KAAM,cAG9C,OAAA4T,GAAA,MAAgB,eAAqB,GACnC,CAAC,OAAWmR,OACZ,GAAO,SAAC7R,GAAD,MAAiB,CAAClT,KAAOkT,EAAWhW,KAAgB4zB,kBAC7D,eAAkB,CAChBrvB,UAAW,QACXuB,YAAY,EACZH,UAAW,UACXF,MAAO,CAAC,OAAW8wB,cACnB5gB,UAAU,IAEZ,eAAkB,CAChBpR,UAAW,EAAW6e,YACtBtd,YAAY,EACZH,UAAW,UACXF,MAAO,CAAC,OAAWqiB,WACnBnS,UAAU,IAEZ,eAAkB,CAChBpR,UAAW,GACXkB,MAAO,OAAW2wB,KAClBzwB,UAAW,UACXG,YAAY,EACZ8P,SAAU,SAAAI,GACR,MAAO,CAACqN,SAAUrN,EAAWhQ,UAGjC,OAAA0Q,GAAA,MAAgB,eAAqB,GAAc,CAAC,OAAWrB,YAAY,GAC3E,OAAAqB,GAAA,MAAgB,eAAqB,IAAa,CAAC,OAAW7M,SAAS,GACvE,OAAA6M,GAAA,MAAgB,eAAqB,QAAM8f,UAAW,CAAC,OAAWzO,OAAO,GACzE,OAAArR,GAAA,MAAgB,eAAqB,GAAa,CAAC,OAAW5H,KAAM,OAAWkG,KAAM,OAAWC,MAAO,OAAWF,WAAW,GAAO,SAACiB,GAAD,MAAiB,CAAClT,KAAOkT,EAAWhW,KAAgB4zB,kBACxL,OAAAld,GAAA,MAAgB,eAAqB,GAAa,CAAC,OAAWmR,OAAO,GAAO,SAAC7R,GAAD,MAAiB,CAAClT,KAAOkT,EAAWhW,KAAgB4zB,kBAChI,OAAAld,GAAA,MAAgB,eAAqB,SAAc,CAAC,OAAW5B,OAAQ,OAAWD,QAAS,OAAWlM,SAAS,GAC/G,eAAkB,CAChBpE,UAAW,eAAqB,SAChCkB,MAAO,OAAWquB,SAClBne,UAAU,EACV7P,YAAY,EACZH,UAAW,UACXuK,UAAW,YAEb,eAAkB,CAChB3L,UAAW,eAAqB,SAChCkB,MAAO,OAAWsK,QAClB4F,UAAU,EACV7P,YAAY,EACZH,UAAW,UACXuK,UAAW,YAEb,OAAAwG,GAAA,MAAgB,eAAqB,QAAO,OAAWnB,KAAK,GAAO,SAACe,EAAKvS,GACvE,MAAO,CACLA,eAGJ,OAAA2S,GAAA,MAAgB,eAAqB,GAAS,OAAWxB,OAAQ,MAAM,SAAA1Q,G,MACrE,MAAO,CACLiyB,0BAA0B,EAC1B3zB,KAAM0B,EAAMwB,MAAQ,WAAwB,QAAX,EAAAxB,EAAMI,aAAK,eAAE9B,KAC9CqC,QAAS,eAAeX,OAG5B,eAAkB,CAChBD,UAAW,eAAqB,GAChCkB,MAAO,OAAWypB,OAClBvpB,UAAW,UACXkQ,UAAU,EACV/P,YAAY,EACZ6P,SAAU,KACVC,SAAU,SAAApR,GACR,MAAO,CAACK,MAAOL,EAAMK,QAEvBkR,MAAM,IAGR,OAAAW,GAAA,MAAgB,eAAqB,SAAW,OAAWggB,UAAU,GAAO,SAAAlyB,GAC1E,MAAO,CAACW,QAAS,eAAeX,OAElC,OAAAkS,GAAA,MAAgB,eAAqB,GAAgB,OAAWvB,cAAc,GAAM,SAAA3Q,GAClF,MAAO,CAACW,QAAS,eAAeX,GAAQ6e,UAAU,MAEpD,OAAA3M,GAAA,MAAgB,eAAqB,GAAa,OAAWvB,cAAc,GAAO,SAAA3Q,GAChF,MAAO,CAACW,QAAS,eAAeX,OAElC,OAAAkS,GAAA,MAAgB,eAAqB,SAAO,OAAW4f,MACvD,OAAA5f,GAAA,MAAgB,eAAqB,IAAW,OAAW7C,UAAU,EAAOqiB,IAC5E,OAAAxf,GAAA,MAAS,eAAqB,SAAS,UAAW,OAAW5C,OAAO,GAAO,WACzE,MAAO,CAACmgB,OAAO,M,UCxPnB,GAAW0C,MAAQ,QAEnB,GAAWzW,QAAU,SAACC,GACpBA,EAAI5b,UAAU,cAAe,IAC7B4b,EAAI5b,UAAU,mBAAoB,GAAWC,QAG/C,GAAWR,OAASA,EAAA,KAgCpB,GAAWkc,QAAU,SAACC,GACpBA,EAAI5b,UAAU,EAAK1C,KAAM,GACzBse,EAAI5b,UAAU,EAAS1C,KAAM,GAC7Bse,EAAI5b,UAAU,EAAc1C,KAAM,GAClCse,EAAI5b,UAAU,EAAW1C,KAAM,GAC/Bse,EAAI5b,UAAU,GAAW1C,KAAM,IAC/Bse,EAAI5b,UAAU,OAAK1C,KAAM,SAGZ,W,gNCtDA,oCAAgB,CAC7BA,KAAM,OACN+C,MAAO,OAAF,UACA,QAELiT,MAL6B,SAKvBjT,EAAOwL,GACX,wBAAW,eAAWxL,EAAOwL,KAE/BvM,OAR6B,WAQvB,eACEqR,EAAU,eAAmBtN,KAAK7D,UAClC6yB,EAAS,eAAkBhvB,KAAK7D,UACtC,6CACe,eADf,2EAGyC6D,KAAKsI,UAApB,EAAKI,UAH/B,eAGyC1I,KAAKsI,WAH9C,mBAG0B,EAAKI,SAH/B,oBAI4B1I,KAAKkI,UAJjC,cAK2BlI,KAAKzC,SALhC,WAMwByC,KAAKC,MAN7B,YAOwB,mBAPxB,kBAQ8B,OAR9B,8CAUsCD,KAAKsI,UAAlB,EAAKG,QAV9B,eAUsCzI,KAAKsI,WAV3C,mBAUyB,EAAKG,OAV9B,oBAW2BzI,KAAKkI,UAXhC,YAYuB,qBAZvB,WAauBlI,KAAKC,MAb5B,kBAc6B,SAd7B,YAeuB,iBAfvB,iB,uGChBJ,8DAIagvB,EAAe,SAACjyB,EAAYwL,GACvC,IAAMyU,EAAW,kCACXzf,EAAyB,oBAAO,YAAoBtD,GACpD8Q,EAAY,oBAAO,YAAQ9Q,GAC3Bg1B,EAAiB,oBAAO,iBAAah1B,GACvCg1B,GACFA,EAAUhS,WAAWD,GAEvB,IAAMhd,EAAO,uBAAS,W,UACpB,OAAwB,QAAjB,EAAW,QAAX,EAAI,OAAJ+K,QAAI,IAAJA,OAAI,EAAJA,EAAMhQ,aAAK,eAAEiF,YAAI,QAAgB,QAAZ,EAAK,OAALzC,QAAK,IAALA,OAAK,EAALA,EAAOR,aAAK,eAAEiD,QAEtCrD,EAAQI,EAAMJ,OAAS4L,EAAIe,MAAM3M,MACjCsT,EAAW,uBAAS,WACxB,OAAO1S,EAAM0S,UAAYtT,EAAMsT,YAE3BhI,EAAW,uBAAS,W,QACxB,OAAwF,QAAhF,EAAAlL,EAAMkL,UAAYM,EAAIe,MAAMrB,WAAuB,QAAX,EAAI,OAAJ8C,QAAI,IAAJA,OAAI,EAAJA,EAAMhQ,aAAK,eAAEkN,YAAiB,OAAL1K,QAAK,IAALA,OAAK,EAALA,EAAO8T,gBAAQ,YAE1F,MAAO,CACL9T,QAAOZ,QAAOsT,WAAUhI,WAAU8C,OAAM/K,OAAMivB,e,kCCvBlD,kDAEaviB,EAAoB,SAA2BC,EAAalR,GACvE,MAAsB,kBAAXkR,EACFA,EACsB,kBAAblR,EACTkR,EAAOlR,GACe,oBAAbA,EACTA,EAASkR,QADX,GAIIuiB,EAAa,SAACnyB,GACzB,IAAMO,EAAU,uBAAS,WACvB,OAAIP,EAAMO,QACDP,EAAMO,QAAQ6B,KAAI,SAAAwN,GACvB,IAAMwiB,EAAU75B,OAAOmI,OAAO,GAAIkP,GAGlC,OAFAwiB,EAAGvmB,MAAQ8D,EAAkBC,EAAQ5P,EAAM0e,eAC3C0T,EAAGp0B,MAAQ2R,EAAkBC,EAAQ5P,EAAMwQ,eACpC4hB,KAGF,QAGX,MAAO,CAAC7xB,a,kCCxBV,oEAAO,IAAM8xB,EAAqB,kBACrBC,EAAmC,iC,ynCCIhD,IAAMC,EAAQ,GAEDC,EAAiB,IAEjBC,EAAY,SAACrtB,GACxB,OAAImtB,EAAMntB,GACDmtB,EAAMntB,GAENA,EAAKG,MAAMitB,IAIhB,SAAU3nB,EAAM/B,EAAcwJ,GAClC,OAAO,eAAKxJ,EAAM1G,KAAI,SAAA8B,GACpB,GAAkB,kBAAPA,EACT,OAAOwuB,EAAgBxuB,EAAIoO,GAE3B,IAAM1S,EAAQ+yB,EAAczuB,EAAIoO,GAChC,OAAO1S,EAAQ,CAACA,GAAS,OAKzB,SAAU+yB,EAAcjhB,EAAsBY,GAClD,IAAM1S,EAAQrH,OAAOqM,OAAO0N,GAAQ9N,MAAK,SAAAN,GAAE,OAAIA,EAAG8kB,KAAOtX,EAAIsX,MAC7D,OAAOppB,GAASA,EAAM+V,UAGlB,SAAU+S,EAAgB5f,EAAiB6f,GAC/C,OAAO7f,EAAM1G,KAAI,SAAA8B,GACf,IAAM0uB,EAASH,EAAUvuB,GAEzB,OADA0uB,EAAOp5B,OAAP,MAAAo5B,EAAM,CAAQA,EAAOt6B,OAASqwB,EAAKrwB,OAAQqwB,EAAKrwB,QAA1C,SAAqDqwB,KACpDiK,EAAO/uB,KAAK2uB,MAIjB,SAAUpK,EAAWtf,EAAiBuf,GAC1C,OAAIvf,EACKA,EAAM1G,KAAI,SAAAgD,GAAI,OAAIA,EAAOotB,EAAiBnK,KAE1C,CAACA,GAIN,SAAUF,EAASrf,EAAiB+pB,GACxC,OAAO/pB,EAAM1G,KAAI,SAAAgD,GAAI,OAAIqtB,EAAUrtB,GAAMpG,MAAM,EAAG6zB,GAAIhvB,KAAK2uB,MAGvD,SAAUM,EAAoBlzB,EAAwBynB,GAC1D,OAAOA,EAAShI,MAAK,SAAAnb,GAAE,OAAI6uB,EAAmBnzB,EAAOsE,MAGjD,SAAU8uB,EAAY5tB,GAC1B,MAAuB,kBAATA,IAAsBA,EAAKqS,SAAS,MAAQrS,EAAKqS,SAAS,MAG1E,SAASsb,EAAmBE,EAAyBtP,GACnD,GAAIqP,EAAYrP,GACd,OAAOuP,EAAUT,EAAU9O,GAAU8O,EAAUQ,EAAOtd,YAEtD,GAAIgO,EAAQ1X,WAAW,KAAM,CAC3B,IAAM+c,EAAKrF,EAAQwP,OAAO,GAC1B,OAAOF,EAAOjK,KAAOA,EAErB,OAAOiK,EAAOtd,YAAcgO,EAK5B,SAAU+O,EAAgBttB,EAAckN,GAC5C,GAAI0gB,EAAY5tB,GAAO,CACrB,GAAIA,EAAK6G,WAAW,KAClB,MAAM,IAAIrQ,MAAM,mBAElB,IAAMw3B,EAAKX,EAAUrtB,GACrB,OAAO7M,OAAOoM,KAAK2N,GAAQxI,QAAO,SAAA5F,GAAE,OAAIgvB,EAAUE,EAAIX,EAAUvuB,OAEhE,GAAIkB,EAAK6G,WAAW,KAAM,CACxB,IAAM+c,EAAK5jB,EAAK+tB,OAAO,GACvB,OAAO56B,OAAOoM,KAAK2N,GAAQxI,QAAO,SAAAhQ,GAAC,OAAIwY,EAAOxY,GAAGkvB,KAAOA,KAE1D,OAAI1W,EAAOlN,GACF,CAACA,GAEH,GAIX,SAAS8tB,EAAUD,EAAkB7tB,GACnC,OAAI6tB,EAAO36B,OACL26B,EAAO,KAAO7tB,EAAK,IAAqB,MAAd6tB,EAAO,IAAgB7tB,EAAK,GACjD8tB,EAAUD,EAAOj0B,MAAM,GAAIoG,EAAKpG,MAAM,IAEpB,IAAlBi0B,EAAO36B,QAA+B,MAAd26B,EAAO,IAAc7tB,EAAK9M,OAAS,EAEzC,IAAlB26B,EAAO36B,QAAgC,IAAhB8M,EAAK9M,S,mBCpGzC0B,EAAOD,QAAUs5B,Q,yDCAjB,W,8OCCE,yBAAc,G,yBCAhB,MAAM/2B,EAAS,GAGTg3B,EAA2B,IAAgBh3B,EAAQ,CAAC,CAAC,SAAS,KAErD,QCGFi3B,EAAe,SAAfA,EAAgBC,GAC3B,IAAMC,EAAoB,GAS1B,OARAD,EAAO1yB,SAAQ,SAAA4yB,GACbD,EAAM76B,KAAK,CACTowB,GAAI0K,EAAMtuB,KACVnI,KAAMy2B,EAAMC,KAAK12B,KACjBmI,KAAMsuB,EAAMtuB,KACZwuB,SAAUL,EAAaG,EAAME,UAAY,SAGtCH,GCjBH,SAAU,EAAOI,EAAUC,EAAY3e,EAAY4e,EAAYC,EAAWC,GAC9E,IAAMC,EAAsB,8BAAkB,YAAY,GACpDC,EAAwB,8BAAkB,cAC1CC,EAAyB,8BAAkB,eAEjD,OAAQ,wBAAW,GAAO,gCAAoB,cAAW,KAAM,wBAAYP,EAAKJ,OAAO,SAACpyB,EAAM/C,GAC5F,OAAQ,yBAAc,gCAAoB,cAAW,CAAEA,IAAKA,GAAO,CAChE+C,EAAKuyB,UAAYvyB,EAAKuyB,SAASt7B,QAC3B,yBAAc,yBAAa67B,EAAuB,CACjD71B,IAAK+C,EAAK+D,KACVnF,MAAOoB,EAAKpE,MACX,CACDmO,QAAS,sBAAS,iBAAM,CACtB,6BAAiB,6BAAiByoB,EAAK5zB,OAAS,IAAK,GACrD,yBAAai0B,EAAqB,CAChCT,MAAOpyB,EAAKuyB,UACX,KAAM,EAAG,CAAC,cAEfnQ,EAAG,GACF,KAAM,CAAC,YACT,yBAAc,yBAAa2Q,EAAwB,CAClD91B,IAAK+C,EAAK+D,KACV4V,QAAS,SAACqZ,GAAD,OAAkBR,EAAKhB,GAAGxxB,EAAK+D,QACvC,CACDgG,QAAS,sBAAS,iBAAM,CACtB,6BAAiB,6BAAiB/J,EAAKpE,MAAO,OAEhDwmB,EAAG,GACF,KAAM,CAAC,cACb,OACD,KC5BW,mCAAgB,CAC7BxmB,KAAM,UACN+C,MAAO,CACLyzB,MAAO9yB,MACPV,MAAO,CAACgF,OAAQ1M,SAElB0a,MAN6B,WAO3B,IAAMqhB,EAAS,iBACf,MAAO,CACLzB,GADK,SACFztB,GACD,OAAOkvB,EAAO17B,KAAKwM,QCT7B,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,Q,2HCFA,eAACouB,GACd,OAAO,6BAAgB,CACrBv2B,KAAM,SACNgW,MAFqB,WAGnB,IAAMqhB,EAAS,iBACTC,EAAW,iBAAI,IACfd,EAAQF,EAAaC,GAC3B,MAAO,CACLe,WACAd,QACAZ,GAHK,SAGFztB,GACD,OAAOkvB,EAAO17B,KAAKwM,MAIzBnG,OAdqB,WAcf,aACJ,kFAEkB+D,KAAKuxB,SAFvB,KAGa,UAHb,IAKQvxB,KAAKywB,MAAMrxB,KAAI,SAACf,GACd,OAAIA,EAAKuyB,SAASt7B,OAChB,0EAEa+I,EAAK+D,KAFlB,MAGe/D,EAAKpE,MAHpB,6DAKiBoE,EAAKuyB,SALtB,MAMiBvyB,EAAK+D,MANtB,UAWA,2EAEa/D,EAAK+D,KAFlB,QAGiB,WACP,EAAKytB,GAAGxxB,EAAK+D,QAJvB,2BAMO/D,EAAKpE,aAxBxB,uC,mGCpBJ,yBAAc,GCAhB,MAAM,EAAS,GAGT,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QCHA,GAAC,CACdmI,KAAM,qBACNovB,SAAU,sCACV70B,UAAW,EACXg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,kBAER22B,SAAU,CACR,CACFxuB,KAAM,sCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,kBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,sCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,kBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,qCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,kBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,oCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,kBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,oCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,kBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,oCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,kBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,oCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,kBACPx3B,KAAM,SAER22B,SAAU,IAIZ,CACExuB,KAAM,2BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,kBACPx3B,KAAM,MAER22B,SAAU,MAKT,CACDxuB,KAAM,2BACNovB,SAAU,mCACV70B,UAAW,EACXg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,yBAER22B,SAAU,CACR,CACFxuB,KAAM,mCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,yBACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,2CACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,yBACPx3B,KAAM,SAER22B,SAAU,IAIZ,CACExuB,KAAM,0CACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,yBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,mCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,yBACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,uCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,yBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,kCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,yBACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,uCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,yBACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,qCACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,yBACPx3B,KAAM,MAER22B,SAAU,MAKT,CACDxuB,KAAM,gBACNovB,SAAU,wBACV70B,UAAW,EACXg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,WAER22B,SAAU,CACR,CACFxuB,KAAM,wBACNzF,UAAW,kBAAM,sFACjBg0B,KAAM,CACJc,KAAM,CAAC,WACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,+BACNzF,UAAW,kBAAM,sFACjBg0B,KAAM,CACJc,KAAM,CAAC,WACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,wBACNzF,UAAW,kBAAM,sFACjBg0B,KAAM,CACJc,KAAM,CAAC,WACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,iCACNzF,UAAW,kBAAM,sFACjBg0B,KAAM,CACJc,KAAM,CAAC,WACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,yBACNzF,UAAW,kBAAM,sFACjBg0B,KAAM,CACJc,KAAM,CAAC,WACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,uBACNzF,UAAW,kBAAM,sFACjBg0B,KAAM,CACJc,KAAM,CAAC,WACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,0BACNzF,UAAW,kBAAM,sFACjBg0B,KAAM,CACJc,KAAM,CAAC,WACPx3B,KAAM,MAER22B,SAAU,MAKT,CACDxuB,KAAM,kBACNovB,SAAU,6BACV70B,UAAW,EACXg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,OAER22B,SAAU,CACR,CACFxuB,KAAM,6BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,OACPx3B,KAAM,OAER22B,SAAU,IAIZ,CACExuB,KAAM,yBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,OACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,4BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,OACPx3B,KAAM,MAER22B,SAAU,MAKT,CACDxuB,KAAM,aACNovB,SAAU,mBACV70B,UAAW,EACXg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,MAER22B,SAAU,CACR,CACFxuB,KAAM,mBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,oBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,qBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,mBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,6BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,mBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,oBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,qBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,sBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,MAKT,CACDxuB,KAAM,eACNovB,SAAU,4BACV70B,UAAW,EACXg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,MAER22B,SAAU,CACR,CACFxuB,KAAM,4BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,6BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,6BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,qBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,8BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,SAER22B,SAAU,IAIZ,CACExuB,KAAM,8BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,2BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,QAER22B,SAAU,IAIZ,CACExuB,KAAM,wBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,OAER22B,SAAU,MAKT,CACDxuB,KAAM,eACNovB,SAAU,0BACV70B,UAAW,EACXg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,MAER22B,SAAU,CACR,CACFxuB,KAAM,0BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,OAER22B,SAAU,IAIZ,CACExuB,KAAM,sBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,2BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,OAER22B,SAAU,IAIZ,CACExuB,KAAM,qBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,uBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,+BACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,SAER22B,SAAU,IAIZ,CACExuB,KAAM,sBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,IAIZ,CACExuB,KAAM,uBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,CAAC,MACPx3B,KAAM,MAER22B,SAAU,OClnBG,GAAC,CACdxuB,KAAM,eACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,MAER22B,SAAU,IAGT,CACDxuB,KAAM,uBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,QAER22B,SAAU,IAGT,CACDxuB,KAAM,uBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,SAER22B,SAAU,IAGT,CACDxuB,KAAM,oBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,QAER22B,SAAU,IAGT,CACDxuB,KAAM,qBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,QAER22B,SAAU,IAGT,CACDxuB,KAAM,mBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,QAER22B,SAAU,IAGT,CACDxuB,KAAM,cACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,MAER22B,SAAU,KCnEG,GAAC,CACdxuB,KAAM,oBACNzF,UAAW,kBAAM,iDACjBg0B,KAAM,CACJc,KAAM,GACNx3B,KAAM,MAER22B,SAAU,KCHG,iBAAa,CAC1Bc,QAAS,iBACTlB,OAAQ,CAAC,CACPpuB,KAAM,IACNovB,SAAUG,EAAU,GAAGvvB,MACtB,CACDA,KAAM,OACNovB,SAAUG,EAAU,GAAGvvB,KACvBkZ,WAAY,CACVlT,QAAS,EACTwpB,IAAK,EAAUD,IAEjBf,SAAUe,GACT,CACDvvB,KAAM,QACNnI,KAAM,OACNqhB,WAAY,CACVlT,QAAS,EACTwpB,IAAK,EAAU,IAEjBJ,SAAU,EAAW,GAAGpvB,KACxBwuB,SAAU,GACT,CACDxuB,KAAM,cACNnI,KAAM,aACNqhB,WAAY,CACVlT,QAAS,EACTwpB,IAAK,EAAUtW,IAEjBkW,SAAU,mBACVZ,SAAUtV,MCnCRuW,G,8BAAa,CAAEhc,MAAO,CAAC,OAAS,UAEhC,SAAU,EAAOgb,EAAUC,EAAY3e,EAAY4e,EAAYC,EAAWC,GAC9E,IAAMa,EAAyB,8BAAkB,eAC3CC,EAAwB,8BAAkB,cAC1CC,EAA6B,8BAAkB,mBAC/CC,EAA4B,8BAAkB,kBAC9CC,EAA8B,8BAAkB,oBAChDC,EAAsB,8BAAkB,YACxCC,EAA+B,8BAAkB,qBAEvD,OAAQ,yBAAc,yBAAaA,EAA8B,CAAE3X,OAAQoW,EAAKwB,OAAS,CACvFjqB,QAAS,sBAAS,iBAAM,CACrByoB,EAAKv0B,QACD,yBAAc,yBAAaw1B,EAAwB,CAAEx2B,IAAK,MAC1D,yBAAc,yBAAa62B,EAAqB,CAC/C72B,IAAK,EACLwa,MAAO,uDACPwc,MAAO,SACN,CACDlqB,QAAS,sBAAS,iBAAM,CACtB,yBAAa4pB,EAA4B,KAAM,CAC7C5pB,QAAS,sBAAS,iBAAM,CACtB,yBAAa2pB,OAEftR,EAAG,IAEL,yBAAa0R,EAAqB,KAAM,CACtC/pB,QAAS,sBAAS,iBAAM,CACtB,yBAAa6pB,EAA2B,CAAEzhB,MAAO,SAAW,CAC1DpI,QAAS,sBAAS,iBAAM,CACtB,yBAAa0pB,EAAwB,CAAE73B,KAAM,YAE/CwmB,EAAG,IAEL,yBAAayR,EAA6B,CAAEpc,MAAO,YAAc,CAC/D1N,QAAS,sBAAS,iBAAM,CACtB,gCAAoB,MAAOypB,EAAY,CACrC,yBAAaC,SAGjBrR,EAAG,QAGPA,EAAG,QAGPA,EAAG,SAGXA,EAAG,GACF,EAAG,CAAC,W,yBCnDH,EAAe,SAAAjlB,GAAC,OAAK,yBAAa,mBAAmBA,EAAEA,IAAI,0BAAcA,GACzE,EAAa,CAAEsa,MAAO,kBACtByc,EAA2B,GAAa,kBAAmB,gCAAoB,IAAK,CACxFzc,MAAO,eACPte,KAAM,KACL,CACY,gCAAoB,MAAO,CAAEse,MAAO,QAAU,qBACzD,MACE0c,EAA0B,6BAAiB,QAC3CC,EAA0B,6BAAiB,UAC3CC,EAA0B,6BAAiB,QAC3CC,EAA0B,6BAAiB,UAC3CC,EAA0B,6BAAiB,YAC3CC,EAA2B,GAAa,kBAAmB,gCAAoB,MAAO,CAC1FC,KAAM,OACNC,OAAQ,MACRC,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,IAChBnd,MAAO,CAAC,cAAc,MAAM,YAAY,QACxCod,QAAS,YACTziB,MAAO,MACP0iB,MAAO,8BACN,CACY,gCAAoB,OAAQ,CAAE34B,EAAG,6DACjC,gCAAoB,WAAY,CAAE44B,OAAQ,mBAC1C,gCAAoB,OAAQ,CACvCC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,QAEJ,MAEE,SAAU,EAAO1C,EAAUC,EAAY3e,EAAY4e,EAAYC,EAAWC,GAC9E,IAAMG,EAAyB,8BAAkB,eAC3CoC,EAAoB,8BAAkB,UAE5C,OAAQ,yBAAc,gCAAoB,MAAO,EAAY,CAC3DjB,EACA,yBAAaiB,EAAmB,CAC9B,aAAczC,EAAO0C,UACrB3d,MAAO,UACP5a,KAAM,cACL,CACDkN,QAAS,sBAAS,iBAAM,CACtB,yBAAagpB,EAAwB,CACnC91B,IAAK,MACL0c,QAAS8Y,EAAO,KAAOA,EAAO,GAAK,SAACO,GAAD,OAAkBR,EAAK6C,QAAQ99B,KAAK,WACtE,CACDwS,QAAS,sBAAS,iBAAM,CACtBoqB,MAEF/R,EAAG,IAEL,yBAAa2Q,EAAwB,CACnC91B,IAAK,OACL0c,QAAS8Y,EAAO,KAAOA,EAAO,GAAK,SAACO,GAAD,OAAkBN,EAAOlB,GAAG,YAC9D,CACDznB,QAAS,sBAAS,iBAAM,CACtBqqB,MAEFhS,EAAG,IAEL,yBAAa2Q,EAAwB,CACnC91B,IAAK,aACL0c,QAAS8Y,EAAO,KAAOA,EAAO,GAAK,SAACO,GAAD,OAAkBN,EAAOlB,GAAG,kBAC9D,CACDznB,QAAS,sBAAS,iBAAM,CACtBsqB,MAEFjS,EAAG,IAEL,yBAAa2Q,EAAwB,CACnC91B,IAAK,YACL0c,QAAS8Y,EAAO,KAAOA,EAAO,GAAK,SAACO,GAAD,OAAkBN,EAAOlB,GAAG,qBAC9D,CACDznB,QAAS,sBAAS,iBAAM,CACtBuqB,MAEFlS,EAAG,IAEL,yBAAa2Q,EAAwB,CAAEpZ,QAAS+Y,EAAO4C,UAAY,CACjEvrB,QAAS,sBAAS,iBAAM,CACtBwqB,EACAC,MAEFpS,EAAG,GACF,EAAG,CAAC,gBAETA,EAAG,GACF,EAAG,CAAC,iBC1FI,OACbxmB,KAAM,YACNgW,MAFa,WAGX,IAAMygB,EAAQ,iBACR+C,EAAY,uBAAS,WACzB,MAAmB,mBAAf/C,EAAMtuB,KACD,YAELsuB,EAAMtuB,KACDsuB,EAAMtuB,KAAKG,MAAM,KAAKuE,QAAO,SAAA5F,GAAE,OAAIA,EAAG5L,OAAS,KAAG,GAEpD,SAEHg8B,EAAS,iBACf,MAAO,CACLmC,YACAE,SAFK,WAGH73B,OAAO83B,KAAK,gDAEd/D,GALK,SAKFztB,GACDkvB,EAAO17B,KAAK,CACVwM,a,UClBV,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,QCJE,+BAAgB,CAC7BnI,KAAM,WACNqhB,WAAY,CACVuY,UAAA,GAEF5jB,MAL6B,WAM3B,IAAM3T,EAAS,kBAAI,GAInB,OAHoD,IAAhDR,OAAOg4B,SAASC,SAASta,QAAQ,aACnCnd,EAAOtB,OAAQ,GAEV,CACLq3B,MAAA,IAAO/1B,a,UCTf,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,Q,wBCLT,EAAa,CAAEwZ,MAAO,oBACtB,EAAa,CAAC,SACd,EAAa,CAAExa,IAAK,GAME,gCAAiB,CAC3C2U,MAD2C,SACrC+jB,GAGN,IAAMC,EAAW,kBAAI,GAEfvP,EAAS,WACbuP,EAASj5B,OAASi5B,EAASj5B,OAG/B,OAAO,SAAC61B,EAAUC,GAChB,IAAMoD,EAAoB,8BAAkB,UAE5C,OAAQ,yBAAc,yBAAaA,EAAmB,CAAEpe,MAAO,gBAAkB,CAC/E1N,QAAS,sBAAS,iBAAM,CACtB,wBAAYyoB,EAAKxY,OAAQ,WACzB,gCAAoB,MAAO,EAAY,CACrC,gCAAoB,IAAK,CACvBpb,MAAOg3B,EAASj5B,MAAQ,OAAS,OACjCgd,QAAS0M,GACR,CACAuP,EAASj5B,OACL,yBAAc,yBAAa,mBAAOm5B,EAAA,MAAwB,CAAE74B,IAAK,MACjE,yBAAc,yBAAa,mBAAO84B,EAAA,MAAkB,CAAE94B,IAAK,MAC/D,EAAG,KAEP24B,EAASj5B,OACL,yBAAc,gCAAoB,MAAO,EAAY,CACpD,wBAAY61B,EAAKxY,OAAQ,WAE3B,gCAAoB,IAAI,OAE9BoI,EAAG,Q,UCtCP,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,YAAY,qBAExD,UCNT,GAAa,CAAC,SAEd,SAAU,GAAOoQ,EAAUC,EAAY3e,EAAY4e,EAAYC,EAAWC,GAC9E,OAAQ,yBAAc,gCAAoB,MAAO,KAAM,CACrD,gCAAoB,WAAY,CAC9B7a,IAAK,QACLP,MAAO,4BAAgBgb,EAAKwD,eAC5Br5B,MAAO61B,EAAK71B,OACX,KAAM,GAAI,M,oGCJXs5B,GAAQ,SAACx/B,GACb,OAAK,CAAC,IAAK,KAAM2kB,QAAQ3kB,EAAK,MACzB,CAAC,IAAK,KAAM2kB,QAAQ3kB,EAAKA,EAAKQ,OAAS,KACxCR,EAAK,KAAOA,EAAKA,EAAKQ,OAAS,GAE1BR,EAAKyO,UAAU,EAAGzO,EAAKQ,OAAS,GAElCR,GAGH,GAAW,SAACA,EAAc2F,GAC9B,IAAI85B,EAAWz/B,EACf,IAAKy/B,IAAaA,EAASj/B,OACzB,MAAO,GAGT,OADAi/B,EAAWD,GAAMC,EAASC,QAClB/5B,EAAEmT,QACR,IAAK,MACH,OAAO,KAAY2mB,EAAU,CAC3BE,OAAQ,OACRC,eAAe,IAEnB,IAAK,OACH,OAAO,OAAAC,GAAA,gBAAWJ,EAAU,CAC1BK,YAAa,IAEjB,IAAK,KACH,OAAO,OAAAD,GAAA,gBAAWJ,EAAU,CAC1BK,YAAa,IAEjB,IAAK,OACH,OAAO,OAAAC,GAAA,gBAAKN,EAAU,CACpBK,YAAa,IAEjB,IAAK,MACH,OAAO,OAAAC,GAAA,gBAAKN,EAAU,CACpBK,YAAa,MAIN,MCrCP/2B,I,oBAAQ,CACZg3B,KAAM,YACNC,WAAY,kBACZC,KAAM,sBACNC,OAAQ,gBACRC,MAAO,oBACPC,WAAY,2BACZC,OAAQ,gBACRC,MAAO,mBACPC,KAAM,gBAGO,gCAAgB,CAC7Bp7B,KAAM,aACN+C,MAAO,CACLs4B,SAAU,CAACl9B,KAAM+P,QAASC,SAAS,GACnChM,OAAQ,CACNhE,KAAM7C,QAER2a,SAAU,CAAC9X,KAAM+P,QAASC,SAAS,GACnCmtB,SAAU,CACRn9B,KAAM6f,UAKR8a,OAAQ9wB,OAIRurB,KAAM,CAACp1B,KAAM+P,QAASC,SAAS,GAK/BlN,KAAM+G,OAINqwB,MAAO,CAACl6B,KAAM6J,OAAQmG,QAAS,cAI/BpN,MAAOiH,OAIPuO,MAAOvO,QAET+N,MAAO,CAAC,gBACRC,MAtC6B,SAsCvBjT,EAtCuB,GAsCT,IAANwM,EAAM,EAANA,MAENgsB,EAAc,kBAAM33B,GAAMb,EAAM9B,OAAS8B,EAAM9B,MAAQ,uBAMvDu6B,EAAS,wBAA0C,MACnDC,EAAQ,iBAAI,MAEZ3P,EAAW,WACf,GAAI/oB,EAAMhC,MACR,OAAIgC,EAAMs4B,SACD,GAASt4B,EAAMhC,MAAO,CAAC4S,OAAQ5Q,EAAM9B,MAAQ,SAE/C8B,EAAMhC,MAAMw5B,OAErB,GAAIhrB,EAAMpB,QAAS,CACjB,IAAM0C,EAAUtB,EAAMpB,UAAU,GAAGwoB,SACnC,GAAuB,kBAAZ9lB,EACT,OAAOA,EAAQ0pB,OAGnB,MAAO,IAEHn5B,EAAS,WACb,IAAIe,EAAS,CACX6D,KAAM,CAACjD,EAAMwT,OAAS,OAAQxT,EAAM+1B,QAAU,SAE5C/1B,EAAMZ,SACRA,EAAS7G,OAAOmI,OAAO,GAAItB,EAAQY,EAAMZ,SAE3C,IAAMsG,EAAOqjB,IACP4P,EAAqC,CACzCC,UAAW,CAACC,IAAK,gBACjBC,gBAAgB,EAChBC,aAAa,EACbC,cAAc,EACd96B,KAAM,CACJ+6B,YAAY,EACZh8B,KAAMu7B,KAER3c,UAAW7b,EAAMkT,SACjBgmB,QAAS,EACT5D,MAAOt1B,EAAMs1B,MACbt3B,MAAO0H,GAET+yB,EAAOz6B,MAAQ,KAAWm7B,aAAaT,EAAM16B,MAA8BzF,OAAOmI,OAAOi4B,EAAev5B,IACpGA,EAAO6D,MACTw1B,EAAOz6B,MAAMo7B,QAAQh6B,EAAO6D,KAAK,GAAI7D,EAAO6D,KAAK,IAEnDw1B,EAAOz6B,MAAMq7B,SAAS3zB,GACtB+yB,EAAOz6B,MAAMs7B,WAEf,wBAAU,WACRj7B,OAEF,IAAMi7B,EAAU,WACd,wBAAWp9B,MAAK,WACdu8B,EAAOz6B,MAAMs7B,cAGjB,MAAO,CACLZ,QACAY,UACAjC,cAAe,CACb9lB,QAAS,Y,UCvHnB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UCNT,GAAa,CAAEuH,MAAO,WAMA,gCAAiB,CAC3C7F,MAD2C,SACrC+jB,G,UAEAxqB,EAAQ,wBAER3Q,EAA6B,QAAtB,EAAiB,QAAjB,EAAa,QAAb,EAAA2Q,EAAMpB,eAAO,oBAAboB,UAAiB,eAAG,UAAE,eAAEonB,SAEvC,OAAO,SAACC,EAAUC,GAChB,OAAQ,yBAAc,gCAAoB,MAAO,GAAY,CAC3D,yBAAa,GAAY,CACvB91B,MAAO,mBAAOnC,GACdk6B,OAAQ,QACP,KAAM,EAAG,CAAC,gB,UChBjB,MAAM,GAAc,GAEL,UCSTxa,GAAM,uBAAU,GACtBA,GAAInc,OAAOm6B,YAAc,aAGzBhe,GAAIie,IAAI,QACRje,GAAIie,IAAI,GACRje,GAAIie,IAAI,QACRje,GAAIie,IAAIC,MACRle,GAAIie,IAAI,QACRje,GAAI5b,UAAU,cAAe,IAC7B4b,GAAI5b,UAAU,gBAAiB,IAC/B4b,GAAI5b,UAAU,aAAc,IAC5B4b,GAAIme,MAAM,S,mCC5BV,8CAAO,IAAMC,EACTC,MAAQ96B,QAAU+6B,GAAU5e,SAAS,cAATA,K,6oBCC1B,SAAU6e,EAAeC,EAAyCC,GACtE,GAAIr5B,MAAMC,QAAQo5B,GAChB,OAAOA,EAAO53B,KAAI,SAAA9D,GAAG,OAAIw7B,EAAeC,EAAaz7B,MAChD,GAAsB,kBAAX07B,EAIhB,OAHID,QAAuC78B,IAAxB68B,EAAYC,KAC7BD,EAAYC,GAAU,MAEjBD,GAAeA,EAAYC,GAC7B,GAAsB,WAAlB,EAAOA,GAAqB,CACrC,IAAMh8B,EAAQ,GASd,OARAzF,OAAOoM,KAAKq1B,GAAQl5B,SAAQ,SAAAxC,GAC1B,IAAM27B,EAAgBD,EAAO17B,GAE3BN,EAAMM,GADqB,kBAAlB27B,EACe,OAAXF,QAAW,IAAXA,OAAW,EAAXA,EAAcE,GAEdH,EAAeC,EAAaE,MAGtCj8B,EAEP,OAAO+7B,EAKL,SAAUG,EAAeH,EAAyCC,EACzCG,GAC7B,GAAsB,kBAAXH,EAAqB,CAC9B,IAAMhhB,EAAW+gB,EAAYC,GACxB,eAAQG,EAAanhB,KACxB+gB,EAAYC,GAAUG,QAEfx5B,MAAMC,QAAQo5B,GACvBA,EAAOl5B,SAAQ,SAACxC,EAAKsH,GACnBm0B,EAAYz7B,GAAO67B,EAAcA,EAAYv0B,QAAS1I,KAE/C88B,GACTzhC,OAAOoM,KAAKq1B,GAAQl5B,SAAQ,SAAAxC,GAC1B,IAAM27B,EAAgBD,EAAO17B,GACA,kBAAlB27B,EACTF,EAAYE,GAAiBE,EAAY77B,GAEzC47B,EAAeH,EAAaE,EAAeE,EAAY77B,OCxCxD,IAAM,EAAgB,SAACy7B,EAAyCn6B,EAAwBuf,EAAiBrT,GAC9G,IAAM9N,EAAQ,mBAAMmhB,GAAc,mBAAMA,GAAcA,EACtD,GAAIvf,EAAMmP,eAAe5O,OAGvB,OAFA2L,EAAK,eAAgB9N,QACrB8N,EAAK,SAAU9N,GAGZ4B,EAAM+V,UAGA/V,EAAMw6B,UACfx6B,EAAMw6B,UAAUf,SAASU,EAAan6B,EAAO5B,GAE7Ck8B,EAAeH,EAAan6B,EAAMuP,aAAahI,UAAYvH,EAAM3C,KAAMe,IALvE8N,EAAK,eAAgB9N,GACrB8N,EAAK,SAAU9N,K,slBCeb,SAAUq8B,EAAuB37B,EAAkB0N,GACvD,IAAMkuB,EAAe,eAAU57B,GAC3BwuB,EAAM9gB,EAOV,OANAkuB,EAAax5B,SAAQ,SAAAsE,GACd8nB,EAAI9nB,KACP8nB,EAAI9nB,GAAQ,IAEd8nB,EAAMA,EAAI9nB,MAEL,IAAIgH,EAAc1N,GAGrB,SAAU67B,EAAcnuB,EAAcgF,GAC1C,OAAIA,EAAWopB,QACqB,oBAAvBppB,EAAWopB,QACbppB,EAAWopB,QAAQpuB,IAElBgF,EAAWopB,QAChBp4B,KAAI,SAAAq4B,GAAS,OAAIC,EAAetuB,EAAcquB,MAC9Cpb,MAAK,SAAAnb,GAAE,OAAKA,KAGVkN,EAAWkG,SAAkC,OAAvBlG,EAAWkG,cAA2Cpa,IAAvBkU,EAAWkG,QAIrE,SAAUqjB,EAAcroB,GAC5B,MAAsB,WAAlB,EAAOA,GACF/Z,OAAOoM,KAAK2N,GAChBxI,QAAO,SAAAxL,GAAG,OAAIgU,EAAOhU,MACrB8D,KAAI,SAAA9D,GACH,IAAMsB,EAAQ0S,EAAOhU,GAIrB,OAHKsB,EAAMopB,KACTppB,EAAMopB,GAAK,IAAK4R,MAElB,eACE5R,GAAIppB,EAAMopB,GACVtqB,SAAUJ,GACPgU,EAAOhU,OAIRgU,EAA6BxI,QAAO,SAAA5F,GAAE,OAAW,OAAPA,QAAsBhH,IAAPgH,KAIrE,IAAM22B,EAAkB,CACtBl7B,UAAW,OACXqR,SAAU,SAACyS,GAAD,MAAQ,KAGdqX,EAAe,GAEf,SAAUC,EAAiBv6B,EACA4Q,GAK/B,IAAMhW,EAAOgW,EAAWhW,KAClB8C,EAAesC,EAAM0S,WAAoC,IAAxB9B,EAAW8B,SAAqC,OAAK8nB,KAApB,OAAKrpB,QACvEhS,EAAiCa,EAAM8d,WAAW2c,OAAO/8B,EAAMsC,EAAMrB,SAAU/D,EAAMgW,EAAWhQ,QACjG,OAAqB65B,OAAO/8B,EAAMsC,EAAMrB,SAAU/D,EAAMgW,EAAWhQ,QAAUy5B,EAClF,GAAIl7B,EAAUA,YAAc,OAAO,CACjC,IAAMu7B,EAAU9/B,EAAO8C,EAAOsC,EAAMrB,SAAWiS,EAAWhQ,MACrD05B,EAAarjB,SAASyjB,KACzBt8B,QAAQmM,KAAR,YAAkB3P,GAAlB,OAAyBgW,EAAWhQ,MAAQ,OAAS,GAArD,gBAA+DZ,EAAMrB,UAArE,OAAyF,YAATjB,EAAqB,KAAO,KAA5G,OACA48B,EAAaliC,KAAKsiC,IAGtB,OAAOv7B,EAIH,SAAU+6B,EAAe18B,EAAYy8B,GACzC,IAAKz8B,EACH,OAAO,EAET,IAAMoO,EAAepO,EAAMy8B,EAAU/7B,UAC/By8B,EAAeV,EAAUz8B,MAC/B,GAAqB,OAAjBoO,QAA0ClP,IAAjBkP,EAA4B,CACvD,OAAQquB,EAAUW,UAChB,IAAK,KACH,OAAOD,EAAa1jB,SAASrL,GAC/B,IAAK,QACH,OAAQ+uB,EAAa1jB,SAASrL,GAElC,OAAO,EAEP,OAAQquB,EAAUW,UAChB,IAAK,IACH,OAAOD,EAAa35B,aAAe4K,EAAa5K,WAClD,IAAK,IACH,OAAOkW,WAAWtL,GAAgBsL,WAAWyjB,GAC/C,IAAK,IACH,OAAOzjB,WAAWtL,GAAgBsL,WAAWyjB,GAC/C,IAAK,KACH,OAAOzjB,WAAWtL,IAAiBsL,WAAWyjB,GAChD,IAAK,KACH,OAAOzjB,WAAWtL,IAAiBsL,WAAWyjB,GAChD,IAAK,KACH,OAAOA,EAAa1jB,SAASrL,GAC/B,IAAK,QACH,OAAQ+uB,EAAa1jB,SAASrL,GAGpC,OAAO,EAGH,SAAUivB,EAAYnmB,EACA1U,EACAZ,EACAwM,EACAxG,EAAeuL,EAAerF,G,MACpD9N,EAAQ,KAEVA,GADgB,QAAd,EAAA4B,EAAMlB,gBAAQ,eAAE+Y,SAAS,MACnB4iB,EAAuBz6B,EAAMlB,SAASy0B,OAAO,EAAGvzB,EAAMlB,SAAS48B,YAAY,MAAOlvB,GAElFA,EAENxM,EAAMxE,OAAS,OAAW7C,SACxBqH,EAAMI,MACRJ,EAAMI,MAAMA,MAAQQ,EAAMR,MAE1BJ,EAAMI,MAAQ,CAACA,MAAOQ,EAAMR,OAE9BJ,EAAMI,MAAMopB,QAAU5oB,EAAM4oB,SAE9B,IAAMmS,EAAWC,EAAYpvB,EAAc5L,EAAO0U,EAAYtV,GACxDxE,EAAOwE,EAAM67B,OAAS77B,EAAMxE,KAC5BuE,EAAYC,EAAMkP,UAAO5R,EACb,kBAAT9B,EAAoB2/B,EAAiBv6B,EAAO,CACjDpF,OACA8X,SAAUtT,EAAMsT,SAChB9R,MAAOxB,EAAMwB,QACV,eAAuBhG,GAAOwE,EAAMsT,UAErClT,EAAa,CACjBmR,OACAvR,MAAO27B,EACPn2B,KAAMs2B,EAAexmB,EAAYtV,GACjCsL,SAAUqwB,EAASrwB,UAAY1K,EAAM0K,UAAY1K,EAAM8T,QACvDlD,WAAYxR,EACZoV,UAAW5I,EACX,iBAAkB,SAACL,GACjB,EAAc/N,EAAOu9B,EAAUxvB,EAAGD,IAEpCxN,IAAK,SAAF,OAAWsB,EAAMlB,SAAjB,YAA6BkH,GAChCA,SAKF,OAHKjG,IAAaA,EAAUsR,WAC1BjR,EAAMhC,MAAQ,EAAcA,EAAOu9B,EAAU57B,IAE/C,gCAAsBK,EAAtB,MAII,SAAU07B,EAAexmB,EAAsBtV,GACnD,OAAIsV,EACKA,EAAWjN,OAAOrI,EAAMlB,UAE3BkB,EAAMlB,SACDkB,EAAMlB,SAAS6G,MAAM,KAEvB,GAIJ,IAAM,EAAb,WA4DE,WAAY6L,EACA5Q,EACA0U,EAAsB9I,GAAiB,UA7D5C,KAAA4c,GAAa,KACb,KAAA5X,WAA8B,KAC9B,KAAAlG,UAAW,EACX,KAAA0D,KAAgE,KAChE,KAAA3O,MAAa,KACb,KAAAmB,OAAQ,EACR,KAAAhG,KAA2E,KAE3E,KAAAugC,eAA6E,KAE7E,KAAAxsB,aAGH,KACG,KAAAysB,WAA0B,KAC1B,KAAA1V,MAAkB,KAClB,KAAA2V,UAAqB,KACrB,KAAAtqB,SAAU,EACV,KAAAwI,aAAqB,KACrB,KAAA7G,UAAW,EACX,KAAAsT,aAA0B,KAC1B,KAAA3O,OAAoB,KAEpB,KAAAvF,OAAsB,KACtB,KAAAyK,MAAmC,KACnC,KAAA+e,iBAA6B,KAC7B,KAAA1wB,QAAc,KACd,KAAA2wB,WAAgD,KAChD,KAAAtV,SAAoB,EACpB,KAAAT,kBAAwB,KACxB,KAAA1R,SAAU,EACV,KAAAzJ,MAAqD,KACrD,KAAA5N,KAAgB,KAChB,KAAAkpB,OAA2C,KAC3C,KAAA9F,SAAsC,KACtC,KAAAjb,KAAkB,KAClB,KAAA42B,UAAyD,KACzD,KAAArmB,UAAqB,KACrB,KAAA+Q,SAAqB,KACrB,KAAA1mB,MAAc,KACd,KAAAi8B,aAAmC,KACnC,KAAAtpB,UAAW,EAGX,KAAA7C,MAA6B,KAC7B,KAAAuK,YAAqC,KACrC,KAAA6hB,gBAA4B,KAC5B,KAAAC,iBAAgC,KAChC,KAAA37B,MAA0B,KAC1B,KAAA47B,YAA2D,KAC3D,KAAA9mB,OAAQ,EACR,KAAAC,SAAgE,KAEhE,KAAAvX,MAAW,KACX,KAAAsZ,SAAU,EACV,KAAAmkB,MAA6C,KAC7C,KAAA3sB,KAAgB,KAChB,KAAAmC,UAAY,EAKjBjO,KAAK5B,MAAQgQ,EAAWhQ,MACxB4B,KAAKoO,WAAaA,EAClBpO,KAAKkI,UAAW,EAChBlI,KAAKuO,SAAU,EACfvO,KAAK4L,KAAOwC,EAAWxC,MAAQ,KAC/B5L,KAAKgmB,GAAK5X,EAAW4X,GACrBhmB,KAAKo3B,UAAYhpB,EAAWgpB,UAC5Bp3B,KAAK8L,KAAOsC,EAAWtC,KACvB9L,KAAKxC,MAAQA,EACbwC,KAAK/C,MAAQmR,EAAWnR,MACxB+C,KAAK5H,KAAOgW,EAAWhW,KACvB4H,KAAKy4B,MAAQrqB,EAAWqqB,MACxBz4B,KAAK0V,OAAStH,EAAWsH,OACzB1V,KAAKkQ,cAAmChW,IAAxBkU,EAAW8B,UAAgC9B,EAAW8B,SACtElQ,KAAK/F,KAAOmU,EAAW1S,SACvBsE,KAAKoC,KAAOs2B,EAAexmB,EAAY9D,GACvCpO,KAAK2S,UAAY+lB,EAAexmB,EAAY9D,GAAYvN,KAAK,KAC7Db,KAAKmM,aAAe,eAAkBiC,EAAW1S,UACjDsE,KAAKhD,MAAQzH,OAAOmI,OAAO,GAAI0Q,EAAWpR,OAC1CgD,KAAKsU,QAAUijB,EAAcnuB,EAAcgF,GAC3CpO,KAAKsS,OAAQ,EACbtS,KAAK+W,aAAe3I,EAAW2I,aAC/B/W,KAAK2P,SAAWvB,EAAWuB,SAC3B3P,KAAKkiB,IAAM9T,EAAW8T,IACtBliB,KAAKmiB,IAAM/T,EAAW+T,IACtBniB,KAAKsP,OAAS+pB,EAAYjrB,EAAWkB,QACrCtP,KAAKwjB,aAAe,GACpBxjB,KAAKquB,YAAcjgB,EAAWigB,YAC9BruB,KAAK6U,OAAS,GACd7U,KAAK84B,kBAAmB,EACxB94B,KAAKoI,QAAUgG,EAAWhG,QAC1BpI,KAAK+4B,WAAa,aAGlB/4B,KAAKyjB,SAAU,EACfzjB,KAAKhF,MAAQoO,EACbpJ,KAAKqX,YAAc,KAnGvB,kCAsGS,WACL,OAAO,EAAkBrX,KAAKoO,WAAYpO,KAAK2P,YAvGnD,4BA2GS,WAAc,WAEb2pB,EAAmB,SAAC/gC,GACxB,MAAO,CAACA,QAAO6J,KAAM,EAAKuQ,UAAW/V,MAAO,IAGxC28B,EAAU,SAAChhC,GAAkB,I,gBACP,EADO,mBAAR8nB,EAAQ,iCAARA,EAAQ,kBACjC,GAAe,QAAX,IAAK3K,cAAM,eAAE6jB,QACK,QAApB,EAAW,QAAX,IAAK7jB,cAAM,eAAE6jB,eAAO,6BAAG,EAAK/7B,MAAMgV,QAASja,GAAvB,OAAiC8nB,SAChD,GAAc,QAAV,IAAKrjB,aAAK,eAAEogB,OAAQ,OACV,QAAnB,EAAU,QAAV,IAAKpgB,aAAK,eAAEu8B,eAAO,6BAAGhhC,GAAH,OAAa8nB,IAElC,IACIhK,EADE3K,EAAQ,EAAK2G,SAGjBgE,EADE,qBAAQ3K,GACLA,EAAM2K,GAEN3K,EAEH2K,IACEA,EAAG0D,QACL1D,EAAG0D,MAAM,CAACyf,eAAe,KACX,IAAVjhC,GACF8d,EAAGojB,eAAe,CAACC,SAAU,YAGjC,EAAKl8B,MAAMgV,QAAQC,QAAQknB,EAAiBrV,WAAYgV,EAAiB/gC,MAIvEqhC,EAAY,SAACrhC,GAAkB,I,gBACP,EADO,mBAAR8nB,EAAQ,iCAARA,EAAQ,kBACnC,GAAe,QAAX,IAAK3K,cAAM,eAAEkkB,UACO,QAAtB,EAAW,QAAX,IAAKlkB,cAAM,eAAEkkB,iBAAS,6BAAG,EAAKp8B,MAAMgV,QAASja,GAAvB,OAAiC8nB,SAClD,GAAc,QAAV,IAAKrjB,aAAK,eAAE48B,UAAW,OACX,QAArB,EAAU,QAAV,IAAK58B,aAAK,eAAE48B,iBAAS,6BAAGrhC,GAAH,OAAa8nB,IAEpC,EAAK7iB,MAAMgV,QAAQC,QAAQknB,EAAiBE,aAAcP,EAAiB/gC,KAGvEuhC,EAAU,SAACvhC,GAAkB,I,gBACP,EADO,mBAAR8nB,EAAQ,iCAARA,EAAQ,kBACjC,GAAe,QAAX,IAAK3K,cAAM,eAAEokB,QACK,QAApB,EAAW,QAAX,IAAKpkB,cAAM,eAAEokB,eAAO,6BAAG,EAAKt8B,MAAMgV,QAASja,GAAvB,OAAiC8nB,SAChD,GAAc,QAAV,IAAKrjB,aAAK,eAAE88B,QAAS,OACX,QAAnB,EAAU,QAAV,IAAK98B,aAAK,eAAE88B,eAAO,6BAAGvhC,GAAH,OAAa8nB,IAElC,EAAK7iB,MAAMgV,QAAQC,QAAQknB,EAAiBI,WAAYT,EAAiB/gC,KAGrE6kB,EAAS,SAAC7kB,GAAkB,I,gBACP,EADO,mBAAR8nB,EAAQ,iCAARA,EAAQ,kBAChC,GAAe,QAAX,IAAK3K,cAAM,eAAE0H,OACI,QAAnB,EAAW,QAAX,IAAK1H,cAAM,eAAE0H,cAAM,6BAAG,EAAK5f,MAAMgV,QAASja,GAAvB,OAAiC8nB,SAC/C,GAAc,QAAV,IAAKrjB,aAAK,eAAEogB,OAAQ,OACX,QAAlB,EAAU,QAAV,IAAKpgB,aAAK,eAAEogB,cAAM,6BAAG7kB,GAAH,OAAa8nB,IAE7B,EAAK/N,MACP,EAAKC,SAAS,QAEd,EAAKA,WAEP,EAAK/U,MAAMgV,QAAQC,QAAQknB,EAAiBpV,UAAW+U,EAAiB/gC,KAGpEyhC,EAAc,CAClB5c,SAAQmc,UAASK,YAAWE,WAE9B,GAAI95B,KAAK0V,OAAQ,CACf,IAAM/T,EAAOpM,OAAOoM,KAAKq4B,GACzBzkC,OAAOoM,KAAK3B,KAAK0V,QAAQ5O,QAAO,SAAA5F,GAAE,OAAKS,EAAK8S,SAASvT,MAAKpD,SAAQ,SAAAm8B,GAChED,EAAYC,GAAY,WAAY,6BAAR5Z,EAAQ,yBAARA,EAAQ,iBAClC,IAAK3K,QAAOukB,GAAZ,SAAsB,EAAKz8B,MAAMgV,SAAjC,OAA6C6N,QAInD,OAAO2Z,IApLX,0BAuLS,WAA+D,IAAlD97B,EAAkD,wDAA9B/B,EAA8B,uDAAT,UACrD/D,EAAO4H,KAAKy4B,OAASz4B,KAAK5H,KAChC,MAAoB,kBAATA,EACF2/B,EAAiB/3B,KAAKxC,MAAO,CAClCpF,OACA8X,SAAUlQ,KAAKkQ,SACf9R,MAAO4B,KAAK5B,QAGI,oBAAThG,GAAuB,qBAAQA,GACjC,CACLuE,UAAWvE,EACX+D,SAAUA,EACV/D,KAAM,GACN2V,UAAU,EACVE,UAAW/P,EACXgQ,cAAe,KACf5F,UAAW,QACX6F,MAAM,EACNhR,OAAQ,KACR6Q,SAAU,WACR,MAAO,KAIN,eAAuB5V,EAAM8F,OAhNxC,KAsNM,SAAUs6B,EAAYpvB,EACA5L,EACA0U,EACA9D,GAC1B,IAAMuE,EAAY+lB,EAAexmB,EAAY9D,GAAYvN,KAAK,KACxDq5B,EAA+B18B,EAAM8R,OAAOqD,GAClD,GAAIunB,EACF,OAAOA,EAEP,IAAMt9B,EAAQ,IAAI,EAAgBwR,EAAY5Q,EAAO0U,EAAY9I,GACjE,OAAO,sBAASxM,GAIpB,IA0DY+8B,EA1DNN,EAAc,SAAC/pB,GAYnB,OAXIA,IACE3R,MAAMC,QAAQ0R,GAChBA,EAAOxR,SAAQ,SAAClB,EAAOgG,GACrB0M,EAAO1M,GAASu3B,EAAWv9B,MAG7BrH,OAAOoM,KAAK2N,GAAQxR,SAAQ,SAAAxC,GAC1BgU,EAAOhU,GAAO6+B,EAAW7qB,EAAOhU,QAI/BgU,GAGH6qB,EAAa,SAACv9B,GAMlB,OAAOA,GAGH,EAAoB,SAACA,EAAwB+S,G,QAC3C7C,EAA4B,eAAMlQ,EAAMkQ,OAa9C,OAZI6C,IAAa7C,EAAMuP,MAAK,SAAAtP,GAAI,OAAIA,EAAK4C,aACvC7C,EAAMlX,KAAK,CAAC+Z,UAAU,EAAM3V,QAAS,GAAF,OAAgB,QAAX,EAAA4C,EAAMK,aAAK,QAAI,MAApB,UAEjCL,EAAMgR,SAAWd,EAAMuP,MAAK,SAAAtP,GAAI,OAAIA,EAAKa,SAAWhR,EAAMgR,WAC5Dd,EAAMlX,KAAK,CAACgY,OAAQhR,EAAMgR,OAAQ5T,QAAS,GAAF,OAAgB,QAAX,EAAA4C,EAAMK,aAAK,QAAI,KAApB,WAEvC,eAAUL,EAAMslB,MAClBpV,EAAMlX,KAAK,CAACssB,IAAKtlB,EAAMslB,MAErB,eAAUtlB,EAAMulB,MAClBrV,EAAMlX,KAAK,CAACusB,IAAKvlB,EAAMulB,MAElB,IAAMrV,IAGF,EAAgB,SAAC9R,EAAY4B,EAAwBD,GAChE,OAAa,OAATA,QAAS,IAATA,OAAS,EAATA,EAAWQ,QACNnC,EAEL4B,EAAMw6B,UACDx6B,EAAMw6B,UAAUrR,SAAS/qB,EAAO4B,GAEhCk6B,EAAe97B,EAAO4B,EAAMuP,aAAahI,UAAYvH,EAAM3C,OAIzD,EAAuB,SAACkC,GAAD,OAAwB,OAAc8O,SAAS9O,IAEtE,EAAqB,SAACA,GAAD,OAAwB,OAAcsP,OAAOtP,IAElE,EAAoB,SAACA,GAAD,OAAwB,OAAcuP,MAAMvP,KAE7E,SAAYw9B,GACV,6BACA,iCACA,6BACA,2BACA,+BACA,+BACA,0BAPF,CAAYA,MAAgB,M","file":"js/app.4804cac4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-018cc3ed\":\"0a068285\",\"chunk-0432f72c\":\"1e707fa4\",\"chunk-09bc72d6\":\"036fae74\",\"chunk-18021c0a\":\"589e3eb7\",\"chunk-1913bc3c\":\"4ae4b04d\",\"chunk-21ed0324\":\"dfbc58d8\",\"chunk-2adc7d6e\":\"65fbec7d\",\"chunk-2d0a4829\":\"f1c40677\",\"chunk-2d0a4c4a\":\"5edc32af\",\"chunk-2d0aa204\":\"cceccfd9\",\"chunk-2d0b1d76\":\"7d95b7e2\",\"chunk-2d0b325d\":\"8626565f\",\"chunk-2d0b7257\":\"955f552b\",\"chunk-2d0b99d8\":\"2abb1c2d\",\"chunk-2d0baaaf\":\"bc040ed8\",\"chunk-2d0bdd2a\":\"99e441a9\",\"chunk-2d0be65d\":\"8479a9d5\",\"chunk-2d0c1ccb\":\"84435252\",\"chunk-2d0c7cc4\":\"6be3de2d\",\"chunk-2d0c950d\":\"671b07cf\",\"chunk-2d0cbc5a\":\"b8c1b263\",\"chunk-2d0ced9c\":\"bbe264ed\",\"chunk-2d0cf4c8\":\"3d627268\",\"chunk-2d0d2aca\":\"524dcdcf\",\"chunk-2d0d43ba\":\"29e46013\",\"chunk-2d0d5c4d\":\"a1dec5d6\",\"chunk-2d0db448\":\"9b0abc32\",\"chunk-2d0ddc5d\":\"54cc1bc0\",\"chunk-2d0de357\":\"2664fe12\",\"chunk-2d0e1c4d\":\"572c0be9\",\"chunk-2d0e2745\":\"addf8ba5\",\"chunk-2d0e6cd1\":\"1704f57a\",\"chunk-2d0e8891\":\"e95bba0b\",\"chunk-2d0e99c1\":\"eac0f37a\",\"chunk-2d2105cd\":\"c191eede\",\"chunk-2d210fcb\":\"af3ac2dd\",\"chunk-2d2133b3\":\"b2d32bf3\",\"chunk-2d213a5b\":\"e68201ed\",\"chunk-2d21ab16\":\"48ccef8a\",\"chunk-2d2244e3\":\"7e03182d\",\"chunk-2d22dd56\":\"fa713747\",\"chunk-2d230130\":\"be146cea\",\"chunk-2d23798f\":\"a585d03a\",\"chunk-38ed41aa\":\"52ea03a1\",\"chunk-5526c9fd\":\"f6a143d5\",\"chunk-5706c823\":\"fdf625e0\",\"chunk-573e7836\":\"064b8cc6\",\"chunk-042d325c\":\"bd477757\",\"chunk-2d0f0841\":\"f6864295\",\"chunk-2d21f48d\":\"c22f88cc\",\"chunk-2e9086b3\":\"b72d133b\",\"chunk-4bf17d6d\":\"854616be\",\"chunk-79fb6eb1\":\"09155937\",\"chunk-7d9c670a\":\"95dd9e83\",\"chunk-5f03e286\":\"74def014\",\"chunk-731f2096\":\"ea07be2d\",\"chunk-918ffd24\":\"eba2c396\",\"chunk-d17ad714\":\"23fb300f\",\"chunk-df3d5f9e\":\"b48a5d5b\",\"chunk-e653bfd0\":\"c5c70179\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-018cc3ed\":1,\"chunk-0432f72c\":1,\"chunk-09bc72d6\":1,\"chunk-1913bc3c\":1,\"chunk-21ed0324\":1,\"chunk-38ed41aa\":1,\"chunk-5526c9fd\":1,\"chunk-5706c823\":1,\"chunk-573e7836\":1,\"chunk-042d325c\":1,\"chunk-4bf17d6d\":1,\"chunk-79fb6eb1\":1,\"chunk-7d9c670a\":1,\"chunk-5f03e286\":1,\"chunk-731f2096\":1,\"chunk-d17ad714\":1,\"chunk-df3d5f9e\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-018cc3ed\":\"32ae2d9a\",\"chunk-0432f72c\":\"0fb02bf0\",\"chunk-09bc72d6\":\"32ae2d9a\",\"chunk-18021c0a\":\"31d6cfe0\",\"chunk-1913bc3c\":\"32ae2d9a\",\"chunk-21ed0324\":\"5dedbf3d\",\"chunk-2adc7d6e\":\"31d6cfe0\",\"chunk-2d0a4829\":\"31d6cfe0\",\"chunk-2d0a4c4a\":\"31d6cfe0\",\"chunk-2d0aa204\":\"31d6cfe0\",\"chunk-2d0b1d76\":\"31d6cfe0\",\"chunk-2d0b325d\":\"31d6cfe0\",\"chunk-2d0b7257\":\"31d6cfe0\",\"chunk-2d0b99d8\":\"31d6cfe0\",\"chunk-2d0baaaf\":\"31d6cfe0\",\"chunk-2d0bdd2a\":\"31d6cfe0\",\"chunk-2d0be65d\":\"31d6cfe0\",\"chunk-2d0c1ccb\":\"31d6cfe0\",\"chunk-2d0c7cc4\":\"31d6cfe0\",\"chunk-2d0c950d\":\"31d6cfe0\",\"chunk-2d0cbc5a\":\"31d6cfe0\",\"chunk-2d0ced9c\":\"31d6cfe0\",\"chunk-2d0cf4c8\":\"31d6cfe0\",\"chunk-2d0d2aca\":\"31d6cfe0\",\"chunk-2d0d43ba\":\"31d6cfe0\",\"chunk-2d0d5c4d\":\"31d6cfe0\",\"chunk-2d0db448\":\"31d6cfe0\",\"chunk-2d0ddc5d\":\"31d6cfe0\",\"chunk-2d0de357\":\"31d6cfe0\",\"chunk-2d0e1c4d\":\"31d6cfe0\",\"chunk-2d0e2745\":\"31d6cfe0\",\"chunk-2d0e6cd1\":\"31d6cfe0\",\"chunk-2d0e8891\":\"31d6cfe0\",\"chunk-2d0e99c1\":\"31d6cfe0\",\"chunk-2d2105cd\":\"31d6cfe0\",\"chunk-2d210fcb\":\"31d6cfe0\",\"chunk-2d2133b3\":\"31d6cfe0\",\"chunk-2d213a5b\":\"31d6cfe0\",\"chunk-2d21ab16\":\"31d6cfe0\",\"chunk-2d2244e3\":\"31d6cfe0\",\"chunk-2d22dd56\":\"31d6cfe0\",\"chunk-2d230130\":\"31d6cfe0\",\"chunk-2d23798f\":\"31d6cfe0\",\"chunk-38ed41aa\":\"32ae2d9a\",\"chunk-5526c9fd\":\"32ae2d9a\",\"chunk-5706c823\":\"32ae2d9a\",\"chunk-573e7836\":\"f8b0ef91\",\"chunk-042d325c\":\"32ae2d9a\",\"chunk-2d0f0841\":\"31d6cfe0\",\"chunk-2d21f48d\":\"31d6cfe0\",\"chunk-2e9086b3\":\"31d6cfe0\",\"chunk-4bf17d6d\":\"32ae2d9a\",\"chunk-79fb6eb1\":\"32ae2d9a\",\"chunk-7d9c670a\":\"32ae2d9a\",\"chunk-5f03e286\":\"32ae2d9a\",\"chunk-731f2096\":\"32ae2d9a\",\"chunk-918ffd24\":\"31d6cfe0\",\"chunk-d17ad714\":\"32ae2d9a\",\"chunk-df3d5f9e\":\"32ae2d9a\",\"chunk-e653bfd0\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./code-editor.vue?vue&type=style&index=0&id=78464bfe&lang=less\"","export default {\n  render() {\n    return <span/>;\n  }\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./code-container.vue?vue&type=style&index=0&id=4ff43cb0&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./demo-wrapper.vue?vue&type=style&index=0&id=1ce8335e&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./banner.vue?vue&type=style&index=0&id=4425128a&lang=less&scoped=true\"","import {Component} from 'vue';\nimport {CommonFormProps, Platform, PropsTransformer, SchemaFormComponentOptions} from '../../types';\nimport {FieldDefinition} from './internal/utils';\nimport {ComponentStore, globalComponentStore} from './utils/register';\n\n\nexport const getConfirmFunction = (platform: Platform) => {\n  return platform === 'mobile' ? config.confirmFn.mobile : config.confirmFn.desktop;\n};\n\nconst formItemPropTransform = {\n  mobile: null,\n  desktop: null\n};\n\nexport const config = {\n  defaultEmptyText: 'N/A',\n  confirmFn: {\n    mobile: null,\n    desktop: null\n  },\n  formItemPropTransform,\n  getFormItemProps: (component: Component, field: FieldDefinition, platform: Platform) => {\n    if (platform === 'desktop') {\n      return formItemPropTransform.desktop(component, field);\n    }\n    return formItemPropTransform.mobile(component, field);\n  }\n};\n\nexport const getDefaultEmptyText = () => {\n  return config.defaultEmptyText;\n};\n\n\nexport const propsTransformer: PropsTransformer = {\n  mobile: {\n    formProps: (props: CommonFormProps) => {\n      return props;\n    }\n  },\n  desktop: {\n    formProps: (props: CommonFormProps) => {\n      delete props.title;\n      if (props.inline) {\n        props.layout = 'inline';\n      }\n      delete props.inline;\n      return props;\n    }\n  }\n};\n\nexport const transformFormProps = (props: CommonFormProps, platform: Platform) => {\n  const formPropsTransformer = platform === 'desktop' ? propsTransformer.desktop.formProps : propsTransformer.mobile.formProps;\n  return formPropsTransformer(props);\n};\n\nexport const registerComponent = (\n  options: SchemaFormComponentOptions,\n  store?: ComponentStore) => {\n  const baseOptions = Object.assign({}, options);\n  if (Array.isArray(options.types)) {\n    options.types.forEach(types => {\n      registerComponent(Object.assign(baseOptions, {types}), store);\n    });\n  } else if (Array.isArray(options.platforms)) {\n    options.platforms.forEach(platforms => {\n      registerComponent(Object.assign(baseOptions, {platforms}), store);\n    });\n  } else {\n    const finalStore: ComponentStore = store || globalComponentStore;\n    finalStore.addComponent(options);\n    if (options.layout && !options.forDisplay) {\n      registerComponent(Object.assign({}, options, {forDisplay: true}));\n    }\n  }\n};\n","export function isSame(first: any[], second: any[], ignoreOrder = true): boolean {\n  if (ignoreOrder) {\n    return !(first.find(role => !second.includes(role))\n      || second.find(role => !first.includes(role)));\n  } else if (first.length === second.length) {\n    for (const i in first) {\n      if (first[i] !== second[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\nexport const flat = (array) => {\n  const result = [];\n  array.forEach(item => {\n    result.push(...item);\n  });\n  return result;\n};\n\n","const isType = <T>(type: string) => (obj: unknown): obj is T =>\n    obj != null && Object.prototype.toString.call(obj) === `[object ${type}]`;\n// FIXME: isFn, isArr is incorrect\nexport const isFn = isType<(...args: any[]) => any>('Function');\nexport const isArr = Array.isArray || isType<unknown[]>('Array');\nexport const isPlainObj = isType<any>('Object');\nexport const isStr = isType<string>('String');\nexport const isBool = isType<boolean>('Boolean');\nexport const isNum = isType<number>('Number');\nexport const isObj = (val: unknown): boolean => typeof val === 'object';\nexport const isRegExp = isType<RegExp>('RegExp');\n","import {isArr, isObj, isStr} from '../types';\n\ntype EachArrayIterator<T> = (currentValue: T, key: number) => void | boolean;\ntype EachStringIterator = (currentValue: string, key: number) => void | boolean;\ntype EachObjectIterator<T> = (\n    currentValue: T[keyof T],\n    key: string\n) => void | boolean;\ntype MemoArrayIterator<T, U> = (\n    previousValue: U,\n    currentValue: T,\n    key: number\n) => U;\ntype MemoStringIterator<T> = (\n    previousValue: T,\n    currentValue: string,\n    key: number\n) => T;\ntype MemoObjectIterator<T, U> = (\n    previousValue: U,\n    currentValue: T[keyof T],\n    key: string\n) => U;\n\nexport const toArr = (val: any): any[] => (isArr(val) ? val : val ? [val] : []);\n\nexport function each(\n    val: string,\n    iterator: EachStringIterator,\n    revert?: boolean\n): void;\nexport function each<T>(\n    val: T[],\n    iterator: EachArrayIterator<T>,\n    revert?: boolean\n): void;\nexport function each<T extends any>(\n    val: T,\n    iterator: EachObjectIterator<T>,\n    revert?: boolean\n): void;\nexport function each(val: any, iterator: any, revert?: boolean): any {\n  if (isArr(val) || isStr(val)) {\n    if (revert) {\n      for (let i: number = val.length - 1; i >= 0; i--) {\n        if (iterator(val[i], i) === false) {\n          return;\n        }\n      }\n    } else {\n      for (let i = 0, length = val.length; i < length; i++) {\n        if (iterator(val[i], i) === false) {\n          return;\n        }\n      }\n    }\n  } else if (isObj(val)) {\n    let key: string;\n    for (key in val) {\n      if (Object.hasOwnProperty.call(val, key)) {\n        if (iterator(val[key], key) === false) {\n          return;\n        }\n      }\n    }\n  }\n}\n\nexport function map(\n    val: string,\n    iterator: EachStringIterator,\n    revert?: boolean\n): string[];\nexport function map<T>(\n    val: T[],\n    iterator: EachArrayIterator<T>,\n    revert?: boolean\n): T[];\nexport function map<T extends any>(\n    val: T,\n    iterator: EachObjectIterator<T>,\n    revert?: boolean\n): any;\nexport function map(val: any, iterator: any, revert?: boolean): any {\n  const res = isArr(val) || isStr(val) ? [] : {};\n  each(\n      val,\n      (item, key) => {\n        const value = iterator(item, key);\n        if (isArr(res)) {\n          (res as any).push(value);\n        } else {\n          res[key] = value;\n        }\n      },\n      revert\n  );\n  return res;\n}\n\nexport function reduce<T, U>(\n    val: T[],\n    iterator: MemoArrayIterator<T, U>,\n    accumulator?: U,\n    revert?: boolean\n): U;\nexport function reduce<T>(\n    val: string,\n    iterator: MemoStringIterator<T>,\n    accumulator?: T,\n    revert?: boolean\n): T;\nexport function reduce<T extends any, U>(\n    val: T,\n    iterator: MemoObjectIterator<T, U>,\n    accumulator?: U,\n    revert?: boolean\n): U;\nexport function reduce(\n    val: any,\n    iterator: any,\n    accumulator?: any,\n    revert?: boolean\n): any {\n  let result = accumulator;\n  each(\n      val,\n      (item, key) => {\n        result = iterator(result, item, key);\n      },\n      revert\n  );\n  return result;\n}\n\nexport function every(\n    val: string,\n    iterator: EachStringIterator,\n    revert?: boolean\n): boolean;\nexport function every<T>(\n    val: T[],\n    iterator: EachArrayIterator<T>,\n    revert?: boolean\n): boolean;\nexport function every<T extends any>(\n    val: T,\n    iterator: EachObjectIterator<T>,\n    revert?: boolean\n): boolean;\nexport function every(val: any, iterator: any, revert?: boolean): boolean {\n  let res = true;\n  each(\n      val,\n      (item, key) => {\n        if (!iterator(item, key)) {\n          res = false;\n          return false;\n        }\n      },\n      revert\n  );\n  return res;\n}\n\nexport function some(\n    val: string,\n    iterator: EachStringIterator,\n    revert?: boolean\n): boolean;\nexport function some<T>(\n    val: T[],\n    iterator: EachArrayIterator<T>,\n    revert?: boolean\n): boolean;\nexport function some<T extends any>(\n    val: T,\n    iterator: EachObjectIterator<T>,\n    revert?: boolean\n): boolean;\nexport function some(val: any, iterator: any, revert?: boolean): boolean {\n  let res = false;\n  each(\n      val,\n      (item, key) => {\n        if (iterator(item, key)) {\n          res = true;\n          return false;\n        }\n      },\n      revert\n  );\n  return res;\n}\n\nexport function findIndex(\n    val: string,\n    iterator: EachStringIterator,\n    revert?: boolean\n): number;\nexport function findIndex<T>(\n    val: T[],\n    iterator: EachArrayIterator<T>,\n    revert?: boolean\n): number;\nexport function findIndex<T extends any>(\n    val: T,\n    iterator: EachObjectIterator<T>,\n    revert?: boolean\n): keyof T;\nexport function findIndex(\n    val: any,\n    iterator: any,\n    revert?: boolean\n): string | number {\n  let res: number | string = -1;\n  each(\n      val,\n      (item, key) => {\n        if (iterator(item, key)) {\n          res = key;\n          return false;\n        }\n      },\n      revert\n  );\n  return res;\n}\n\nexport function find(\n    val: string,\n    iterator: EachStringIterator,\n    revert?: boolean\n): any;\nexport function find<T>(\n    val: T[],\n    iterator: EachArrayIterator<T>,\n    revert?: boolean\n): T;\nexport function find<T extends any>(\n    val: T,\n    iterator: EachObjectIterator<T>,\n    revert?: boolean\n): T[keyof T];\nexport function find(val: any, iterator: any, revert?: boolean): any {\n  let res: any;\n  each(\n      val,\n      (item, key) => {\n        if (iterator(item, key)) {\n          res = item;\n          return false;\n        }\n      },\n      revert\n  );\n  return res;\n}\n\nexport function includes(\n    val: string[],\n    searchElement: string,\n    revert?: boolean\n): boolean;\nexport function includes<T>(\n    val: T[],\n    searchElement: T,\n    revert?: boolean\n): boolean {\n  return some(val, item => item === searchElement, revert);\n}\n","/**\n * A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\n * recently used items while discarding least recently used items when its limit\n * is reached.\n *\n * Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\n * See README.md for details.\n *\n * Illustration of the design:\n *\n *       entry             entry             entry             entry\n *       ______            ______            ______            ______\n *      | head |.newer => |      |.newer => |      |.newer => | tail |\n *      |  A   |          |  B   |          |  C   |          |  D   |\n *      |______| <= older.|______| <= older.|______| <= older.|______|\n *\n *  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\n */\n/* eslint-disable */\n\nconst NEWER = Symbol('newer');\nconst OLDER = Symbol('older');\n\nexport function LRUMap(this: any, limit: number | any, entries?: any) {\n  let copyEntries = entries;\n  let copyLimit = limit;\n  if (typeof copyLimit !== 'number') {\n    // called as (entries)\n    copyEntries = copyLimit;\n    copyLimit = 0;\n  }\n\n  this.size = 0;\n  this.limit = copyLimit;\n  this.oldest = this.newest = undefined;\n  this._keymap = new Map();\n\n  if (copyEntries) {\n    this.assign(copyEntries);\n    if (copyLimit < 1) {\n      this.limit = this.size;\n    }\n  }\n}\n\nfunction Entry(this: any, key: any, value: any) {\n  this.key = key;\n  this.value = value;\n  this[NEWER] = undefined;\n  this[OLDER] = undefined;\n}\n\nLRUMap.prototype._markEntryAsUsed = function(entry: any) {\n  if (entry === this.newest) {\n    // Already the most recenlty used entry, so no need to update the list\n    return;\n  }\n  // HEAD--------------TAIL\n  //   <.older   .newer>\n  //  <--- add direction --\n  //   A  B  C  <D>  E\n  if (entry[NEWER]) {\n    if (entry === this.oldest) {\n      this.oldest = entry[NEWER];\n    }\n    entry[NEWER][OLDER] = entry[OLDER]; // C <-- E.\n  }\n  if (entry[OLDER]) {\n    entry[OLDER][NEWER] = entry[NEWER]; // C. --> E\n  }\n  entry[NEWER] = undefined; // D --x\n  entry[OLDER] = this.newest; // D. --> E\n  if (this.newest) {\n    this.newest[NEWER] = entry; // E. <-- D\n  }\n  this.newest = entry;\n};\n\nLRUMap.prototype.assign = function(entries: any) {\n  let entry: any;\n  let limit = this.limit || Number.MAX_VALUE;\n  this._keymap.clear();\n  const it = entries[Symbol.iterator]();\n  for (let itv = it.next(); !itv.done; itv = it.next()) {\n    const e = new Entry(itv.value[0], itv.value[1]);\n    this._keymap.set(e.key, e);\n    if (!entry) {\n      this.oldest = e;\n    } else {\n      entry[NEWER] = e;\n      e[OLDER] = entry;\n    }\n    entry = e;\n    if (limit-- === 0) {\n      throw new Error('overflow');\n    }\n  }\n  this.newest = entry;\n  this.size = this._keymap.size;\n};\n\nLRUMap.prototype.get = function(key: any) {\n  // First, find our cache entry\n  const entry = this._keymap.get(key);\n  if (!entry) {\n    return;\n  } // Not cached. Sorry.\n  // As <key> was found in the cache, register it as being requested recently\n  this._markEntryAsUsed(entry);\n  return entry.value;\n};\n\nLRUMap.prototype.set = function(key: any, value: any) {\n  let entry = this._keymap.get(key);\n\n  if (entry) {\n    // update existing\n    entry.value = value;\n    this._markEntryAsUsed(entry);\n    return this;\n  }\n\n  // new entry\n  this._keymap.set(key, (entry = new Entry(key, value)));\n\n  if (this.newest) {\n    // link previous tail to the new tail (entry)\n    this.newest[NEWER] = entry;\n    entry[OLDER] = this.newest;\n  } else {\n    // we're first in -- yay\n    this.oldest = entry;\n  }\n\n  // add new entry to the end of the linked list -- it's now the freshest entry.\n  this.newest = entry;\n  ++this.size;\n  if (this.size > this.limit) {\n    // we hit the limit -- remove the head\n    this.shift();\n  }\n\n  return this;\n};\n\nLRUMap.prototype.shift = function() {\n  // todo: handle special case when limit == 1\n  const entry = this.oldest;\n  if (entry) {\n    if (this.oldest[NEWER]) {\n      // advance the list\n      this.oldest = this.oldest[NEWER];\n      this.oldest[OLDER] = undefined;\n    } else {\n      // the cache is exhausted\n      this.oldest = undefined;\n      this.newest = undefined;\n    }\n    // Remove last strong reference to <entry> and remove links from the purged\n    // entry being returned:\n    entry[NEWER] = entry[OLDER] = undefined;\n    this._keymap.delete(entry.key);\n    --this.size;\n    return [entry.key, entry.value];\n  }\n};\n\n// ----------------------------------------------------------------------------\n// Following code is optional and can be removed without breaking the core\n// functionality.\n\nLRUMap.prototype.find = function(key: any) {\n  const e = this._keymap.get(key);\n  return e ? e.value : undefined;\n};\n\nLRUMap.prototype.has = function(key: any) {\n  return this._keymap.has(key);\n};\n\nLRUMap.prototype.delete = function(key: any) {\n  const entry = this._keymap.get(key);\n  if (!entry) {\n    return;\n  }\n  this._keymap.delete(entry.key);\n  if (entry[NEWER] && entry[OLDER]) {\n    // relink the older entry with the newer entry\n    entry[OLDER][NEWER] = entry[NEWER];\n    entry[NEWER][OLDER] = entry[OLDER];\n  } else if (entry[NEWER]) {\n    // remove the link to us\n    entry[NEWER][OLDER] = undefined;\n    // link the newer entry to head\n    this.oldest = entry[NEWER];\n  } else if (entry[OLDER]) {\n    // remove the link to us\n    entry[OLDER][NEWER] = undefined;\n    // link the newer entry to head\n    this.newest = entry[OLDER];\n  } else {\n    // if(entry[OLDER] === undefined && entry.newer === undefined) {\n    this.oldest = this.newest = undefined;\n  }\n\n  this.size--;\n  return entry.value;\n};\n\nLRUMap.prototype.clear = function() {\n  // Not clearing links should be safe, as we don't expose live links to user\n  this.oldest = this.newest = undefined;\n  this.size = 0;\n  this._keymap.clear();\n};\n\nfunction EntryIterator(this: any, oldestEntry: any) {\n  this.entry = oldestEntry;\n}\n\nEntryIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nEntryIterator.prototype.next = function() {\n  const ent = this.entry;\n  if (ent) {\n    this.entry = ent[NEWER];\n    return {done: false, value: [ent.key, ent.value]};\n  } else {\n    return {done: true, value: undefined};\n  }\n};\n\nfunction KeyIterator(this: any, oldestEntry) {\n  this.entry = oldestEntry;\n}\n\nKeyIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nKeyIterator.prototype.next = function() {\n  const ent = this.entry;\n  if (ent) {\n    this.entry = ent[NEWER];\n    return {done: false, value: ent.key};\n  } else {\n    return {done: true, value: undefined};\n  }\n};\n\nfunction ValueIterator(this: any, oldestEntry) {\n  this.entry = oldestEntry;\n}\n\nValueIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nValueIterator.prototype.next = function() {\n  const ent = this.entry;\n  if (ent) {\n    this.entry = ent[NEWER];\n    return {done: false, value: ent.value};\n  } else {\n    return {done: true, value: undefined};\n  }\n};\n\nLRUMap.prototype.keys = function() {\n  return new KeyIterator(this.oldest);\n};\n\nLRUMap.prototype.values = function() {\n  return new ValueIterator(this.oldest);\n};\n\nLRUMap.prototype.entries = function() {\n  return this;\n};\n\nLRUMap.prototype[Symbol.iterator] = function() {\n  return new EntryIterator(this.oldest);\n};\n\nLRUMap.prototype.forEach = function(fun: (value: any, key: any, ctx: object) => void, thisObj: any) {\n  let copyThisObj = thisObj;\n  if (typeof copyThisObj !== 'object') {\n    copyThisObj = this;\n  }\n  let entry = this.oldest;\n  while (entry) {\n    fun.call(copyThisObj, entry.value, entry.key, this);\n    entry = entry[NEWER];\n  }\n};\n\n/** Returns a JSON (array) representation */\nLRUMap.prototype.toJSON = function() {\n  const s = new Array(this.size);\n  let i = 0;\n  let entry = this.oldest;\n  while (entry) {\n    s[i++] = {key: entry.key, value: entry.value};\n    entry = entry[NEWER];\n  }\n  return s;\n};\n\n/** Returns a String representation */\nLRUMap.prototype.toString = function() {\n  let s = '';\n  let entry = this.oldest;\n  while (entry) {\n    s += String(entry.key) + ':' + entry.value;\n    entry = entry[NEWER];\n    if (entry) {\n      s += ' < ';\n    }\n  }\n  return s;\n};\n","import {ArrayPath, Path, PathNode} from '../../../../types';\nimport {isArr, isNum, isObj, isPlainObj, isStr} from '../types';\nimport {each, every, map} from './array';\nimport {LRUMap} from './lru';\n\ninterface ITokenizerHandlers {\n  destructArrayEnd(): void;\n\n  destructArrayStart(): void;\n\n  destructKey(str: string, isColon?: boolean): void;\n\n  destructObjectEnd(): void;\n\n  destructObjectStart(): void;\n\n  name(str: string): void;\n}\n\ntype Destruct =\n    | {\n  [key: string]: string\n}\n    | Path;\n\ntype Getter = (obj: any, path: Path, value?: any) => any;\n\ntype Setter = (\n    obj: any,\n    path: Path,\n    value?: any,\n    getSchema?: (path: string[] | number[]) => any\n) => any;\n\ntype HasIn = (obj: any, path: Path) => boolean;\n\nfunction whitespace(c: string) {\n  return c === ' ' || c === '\\n' || c === '\\t' || c === '\\f' || c === '\\r';\n}\n\nfunction toString(val: Path | null) {\n  if (!val) {\n    return '';\n  }\n  if (isArr(val)) {\n    return (val as string[]).join('.');\n  }\n  return isStr(val) ? val : '';\n}\n\nconst PathCache = new LRUMap(1000);\n\nexport function getPathSegments(path: Path): ArrayPath {\n  if (isArr(path)) {\n    return path as string[];\n  }\n  if (isStr(path) && path) {\n    const cached = PathCache.get(path);\n    if (cached) {\n      return cached;\n    }\n    const pathArr = (path as string).split('.');\n    const parts = [];\n\n    for (let i = 0; i < pathArr.length; i++) {\n      let p = pathArr[i];\n\n      while (p[p.length - 1] === '\\\\' && pathArr[i + 1] !== undefined) {\n        p = p.slice(0, -1) + '.';\n        p += pathArr[++i];\n      }\n\n      parts.push(p);\n    }\n    PathCache.set(path, parts);\n    return parts;\n  }\n  if (isNum(path)) {\n    return [path as number];\n  }\n  return [];\n}\n\nclass DestructTokenizer {\n  private EOF: boolean;\n  private declareNameEnd: number;\n  private declareNameStart: number;\n  private destructKey: string;\n  private destructKeyStart: number;\n  private handlers: ITokenizerHandlers;\n  private index: number;\n  private nbraceCount: number;\n  private nbracketCount: number;\n  private state: (char: string, prev?: string) => void;\n  private text: string;\n\n  constructor(text: string, handlers: ITokenizerHandlers) {\n    this.text = text;\n    this.index = 0;\n    this.handlers = handlers;\n    this.state = this.processNameStart;\n    this.declareNameStart = 0;\n    this.declareNameEnd = 0;\n    this.nbraceCount = 0;\n    this.nbracketCount = 0;\n  }\n\n  public parse() {\n    let char = '';\n    let prev = '';\n    const l = this.text.length;\n    for (; this.index < l; this.index++) {\n      char = this.text.charAt(this.index);\n      this.EOF = l - 1 === this.index;\n      this.state(char, prev);\n      prev = char;\n    }\n  }\n\n  private getName() {\n    return this.text.substring(this.declareNameStart, this.declareNameEnd);\n  }\n\n  private processDestructKey(char: string, prev: string) {\n    if (char === '}') {\n      this.nbraceCount--;\n\n      if (this.nbraceCount || this.nbracketCount) {\n        this.state = this.processDestructStart;\n      }\n      if (!whitespace(prev)) {\n        this.destructKey = this.text.substring(\n            this.destructKeyStart,\n            this.index\n        );\n      }\n\n      this.handlers.destructKey(this.destructKey);\n      this.handlers.destructObjectEnd();\n      if (!this.nbraceCount && !this.nbracketCount) {\n        this.index = this.text.length;\n      }\n    } else if (char === ']') {\n      this.nbracketCount--;\n\n      if (this.nbraceCount || this.nbracketCount) {\n        this.state = this.processDestructStart;\n      }\n      if (!whitespace(prev)) {\n        this.destructKey = this.text.substring(\n            this.destructKeyStart,\n            this.index\n        );\n      }\n      this.handlers.destructKey(this.destructKey);\n      this.handlers.destructArrayEnd();\n      if (!this.nbraceCount && !this.nbracketCount) {\n        this.index = this.text.length;\n      }\n    } else if (whitespace(char) || char === ':' || char === ',') {\n      if (!whitespace(prev)) {\n        this.destructKey = this.text.substring(\n            this.destructKeyStart,\n            this.index\n        );\n      }\n      if (!whitespace(char)) {\n        this.state = this.processDestructStart;\n        this.handlers.destructKey(this.destructKey, char === ':');\n      }\n    }\n  }\n\n  private processDestructStart(char) {\n    if (char === '{') {\n      this.nbraceCount++;\n      this.handlers.destructObjectStart();\n    } else if (char === '[') {\n      this.nbracketCount++;\n      this.handlers.destructArrayStart();\n    } else if (!whitespace(char)) {\n      this.state = this.processDestructKey;\n      this.destructKeyStart = this.index;\n      this.index--;\n    }\n  }\n\n  private processName(char: string, prev: string) {\n    if (whitespace(char)) {\n      this.declareNameEnd = this.index;\n      this.handlers.name(this.getName());\n    } else if (this.EOF) {\n      this.declareNameEnd = this.index + 1;\n      this.handlers.name(this.getName());\n    }\n  }\n\n  private processNameStart(char: string) {\n    if (char === '{' || char === '[') {\n      this.state = this.processDestructStart;\n      this.index--;\n    } else if (!whitespace(char)) {\n      this.declareNameStart = this.index;\n      this.state = this.processName;\n    }\n  }\n}\n\nconst parseDestruct = (str: PathNode) => {\n  if (!isStr(str)) {\n    return str;\n  }\n\n  let destruct: Destruct;\n  const stack = [];\n  let token = '';\n  let realKey = '';\n  let lastDestruct: Destruct;\n  let root: Destruct;\n\n  new DestructTokenizer(str as string, {\n    name(key: string) {\n      root = key;\n    },\n    destructKey(key, readyReplace) {\n      if (!key) {\n        return;\n      }\n      token = key;\n      if (readyReplace) {\n        realKey = key;\n        lastDestruct = destruct;\n        return;\n      }\n      if (isArr(destruct)) {\n        (destruct as string[]).push(key);\n      } else if (isPlainObj(destruct)) {\n        destruct[realKey && lastDestruct === destruct ? realKey : key] = key;\n      }\n      realKey = '';\n      lastDestruct = destruct;\n    },\n    destructArrayStart() {\n      if (!destruct) {\n        root = [];\n        destruct = root;\n      } else {\n        destruct = [];\n      }\n      const tail = stack[stack.length - 1];\n      if (isPlainObj(tail)) {\n        tail[token] = destruct;\n      } else if (Array.isArray(tail)) {\n        (tail as any[]).push(destruct);\n      }\n      stack.push(destruct);\n    },\n    destructObjectStart() {\n      if (!destruct) {\n        root = {};\n        destruct = root;\n      } else {\n        destruct = {};\n      }\n      const tail = stack[stack.length - 1];\n      if (isPlainObj(tail)) {\n        tail[token] = destruct;\n      } else if (Array.isArray(tail)) {\n        (tail as any[]).push(destruct);\n      }\n      stack.push(destruct);\n    },\n    destructArrayEnd() {\n      stack.pop();\n      destruct = stack[stack.length - 1];\n    },\n    destructObjectEnd() {\n      stack.pop();\n      destruct = stack[stack.length - 1];\n    }\n  }).parse();\n  return root;\n};\n\nconst traverse = (obj: any, callback: any) => {\n  const internalTraverse = (internalObj: any, path: string[]) => {\n    if (isStr(internalObj)) {\n      return callback(internalObj, internalObj);\n    }\n    each(internalObj, (item: any, key: string) => {\n      const newPath = path.concat(key);\n      if (isArr(item) || isPlainObj(item)) {\n        internalTraverse(item, newPath);\n      } else {\n        callback(newPath, item);\n      }\n    });\n  };\n\n  return internalTraverse(obj, []);\n};\n\nconst mapReduce = (obj: any, callback: any) => {\n  const internalTraverse = (internalObj: any, path: string[]) => {\n    return map(internalObj, (item: any, key: string) => {\n      const newPath = path.concat(key);\n      if (isArr(item) || isPlainObj(item)) {\n        return internalTraverse(item, newPath);\n      } else {\n        return callback(\n            newPath,\n            newPath.slice(0, newPath.length - 1).concat(item)\n        );\n      }\n    });\n  };\n\n  return internalTraverse(obj, []);\n};\n\nconst parseDestructPath = (path: Path): any => {\n  const newPath = getPathSegments(path);\n  const lastKey = newPath[newPath.length - 1];\n  const startPath = newPath.slice(0, newPath.length - 1);\n  const destruct = parseDestruct(lastKey);\n  return {\n    path: newPath,\n    lastKey,\n    startPath,\n    destruct\n  };\n};\n\nconst parsePaths = (path: Path): any => {\n  const result = [];\n  const parsed = parseDestructPath(path);\n  if (isStr(parsed.destruct)) {\n    return path;\n  } else if (parsed.destruct) {\n    traverse(parsed.destruct, (internalPath, key) => {\n      result.push({\n        path: parsed.startPath.concat(internalPath),\n        startPath: parsed.startPath,\n        endPath: internalPath,\n        key\n      });\n    });\n    return result;\n  } else {\n    return path;\n  }\n};\n\nconst resolveGetIn = (get: Getter) => {\n  const cache = new Map();\n  return (obj: any, path: Path, value?: any): any => {\n    let ast = null;\n\n    if (!cache.get(path)) {\n      ast = parseDestructPath(path);\n      cache.set(path, ast);\n    } else {\n      ast = cache.get(path);\n    }\n    if (!isArr(ast.destruct) && !isPlainObj(ast.destruct)) {\n      return get(obj, path, value);\n    }\n    return mapReduce(ast.destruct, (mapPath, key) => {\n      return get(obj, ast.startPath.concat(key[key.length - 1]));\n    });\n  };\n};\n\nconst resolveUpdateIn = (update: Setter, internalGetIn: Getter) => {\n  const cache = new Map();\n  return (\n      obj: any,\n      path: Path,\n      value?: any,\n      getSchema?: (path: string[] | number[]) => any\n  ) => {\n    let paths: any[] = [];\n    if (!cache.get(path)) {\n      paths = parsePaths(path);\n      cache.set(path, paths);\n    } else {\n      paths = cache.get(path);\n    }\n    if (!isArr(paths)) {\n      return update(obj, path, value, getSchema);\n    }\n    if (paths && paths.length) {\n      each(paths, ({key, startPath, endPath}: any) => {\n        update(\n            obj,\n            startPath.concat(key),\n            internalGetIn(value, endPath),\n            getSchema\n        );\n      });\n    }\n    return obj;\n  };\n};\n\nconst resolveExistIn = (has: HasIn) => {\n  const cache = new Map();\n  return (obj: any, path: Path) => {\n    let paths: any = [];\n    if (!cache.get(path)) {\n      paths = parsePaths(path);\n      cache.set(path, paths);\n    } else {\n      paths = cache.get(path);\n    }\n    if (!isArr(paths)) {\n      return has(obj, path);\n    }\n    if (paths && paths.length) {\n      return every(paths, ({startPath, key}: any) => {\n        return has(obj, startPath.concat(key));\n      });\n    }\n\n    return false;\n  };\n};\n\nfunction _getIn(obj: any, path: Path, value: any) {\n  if (!isObj(obj) || !path) {\n    return obj;\n  }\n\n  const copyPath = toString(path);\n\n  if (copyPath in obj) {\n    return obj[copyPath as string];\n  }\n  let copyObj = obj;\n  const pathArr = getPathSegments(copyPath);\n\n  for (let i = 0; i < pathArr.length; i++) {\n    if (!Object.prototype.propertyIsEnumerable.call(copyObj, pathArr[i])) {\n      return value;\n    }\n\n    copyObj = copyObj[pathArr[i]];\n\n    if (copyObj === undefined || copyObj === null) {\n      // `obj` is either `undefined` or `null` so we want to stop the loop, and\n      // if this is not the last bit of the path, and\n      // if it did't return `undefined`\n      // it would return `null` if `obj` is `null`\n      // but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n      if (i !== pathArr.length - 1) {\n        return value;\n      }\n\n      break;\n    }\n  }\n\n  return copyObj;\n}\n\nfunction _setIn(\n    obj: any,\n    path: Path,\n    value: any,\n    getSchema?: (path: string[] | number[]) => any\n) {\n  let copyObj = obj;\n  if (!isObj(copyObj) || !path) {\n    return;\n  }\n\n  const copyPath = toString(path);\n\n  if (copyPath in copyObj) {\n    copyObj[copyPath as string] = value;\n    return;\n  }\n\n  const pathArr = getPathSegments(copyPath);\n\n  for (let i = 0; i < pathArr.length; i++) {\n    const p = pathArr[i];\n    if (!isObj(copyObj[p])) {\n      if (copyObj[p] === undefined && value === undefined) {\n        return;\n      }\n      if (/^\\d+$/.test(pathArr[i + 1 + ''])) {\n        if (getSchema) {\n          const schema = getSchema(pathArr.slice(0, i) as string[]);\n\n          if (!schema || schema.type === 'array') {\n            copyObj[p] = [];\n          } else {\n            copyObj[p] = {};\n          }\n        } else {\n          copyObj[p] = [];\n        }\n      } else {\n        copyObj[p] = {};\n      }\n    }\n\n    if (i === pathArr.length - 1) {\n      copyObj[p] = value;\n    }\n\n    copyObj = copyObj[p];\n  }\n}\n\nfunction _deleteIn(obj: any, path: Path) {\n  let copyObj = obj;\n  if (!isObj(copyObj) || !path) {\n    return;\n  }\n\n  const copyPath = toString(path);\n\n  if (copyPath in copyObj) {\n    delete copyObj[copyPath as string];\n    return;\n  }\n\n  const pathArr = getPathSegments(copyPath);\n\n  for (let i = 0; i < pathArr.length; i++) {\n    const p = pathArr[i];\n\n    if (i === pathArr.length - 1) {\n      if (isArr(copyObj)) {\n        copyObj.splice(p as number, 1);\n      } else {\n        delete copyObj[p];\n      }\n      return;\n    }\n\n    copyObj = copyObj[p];\n\n    if (!isObj(copyObj)) {\n      return;\n    }\n  }\n}\n\nfunction _existIn(obj: any, path: Path) {\n  if (!isObj(obj) || !path) {\n    return false;\n  }\n\n  const copyPath = toString(path);\n\n  if (copyPath in obj) {\n    return true;\n  }\n  let copyObj = obj;\n  const pathArr = getPathSegments(copyPath);\n\n  for (let i = 0; i < pathArr.length; i++) {\n    if (isObj(copyObj)) {\n      if (!(pathArr[i] in copyObj)) {\n        return false;\n      }\n\n      copyObj = copyObj[pathArr[i]];\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport const getIn = resolveGetIn(_getIn);\nexport const setIn = resolveUpdateIn(_setIn, getIn);\nexport const deleteIn = resolveUpdateIn(_deleteIn, getIn);\nexport const existIn = resolveExistIn(_existIn);\nexport {parseDestructPath, parseDestruct, parsePaths};\n","import {isArr, isFn} from '../types';\n\nconst isArray = isArr;\nconst keyList = Object.keys;\nconst hasProp = Object.prototype.hasOwnProperty;\n\ntype Filter = (\n    comparies: {\n      a: any;\n      b: any\n    },\n    key: string) => boolean;\n\n/* eslint-disable */\nfunction equal(a: any, b: any, filter: Filter) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) {\n    return true;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    const arrA = isArray(a);\n    const arrB = isArray(b);\n    let i: number;\n    let length: number;\n    let key: string | number;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length !== b.length) {\n        return false;\n      }\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i], filter)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    if (arrA !== arrB) {\n      return false;\n    }\n\n    const dateA = a instanceof Date;\n    const dateB = b instanceof Date;\n    if (dateA !== dateB) {\n      return false;\n    }\n    if (dateA && dateB) {\n      return a.getTime() === b.getTime();\n    }\n\n    const regexpA = a instanceof RegExp;\n    const regexpB = b instanceof RegExp;\n    if (regexpA !== regexpB) {\n      return false;\n    }\n    if (regexpA && regexpB) {\n      return a.toString() === b.toString();\n    }\n    const urlA = a instanceof URL;\n    const urlB = b instanceof URL;\n    if (urlA && urlB) {\n      return a.href === b.href;\n    }\n    const keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length) {\n      return false;\n    }\n\n    for (i = length; i-- !== 0;) {\n      if (!hasProp.call(b, keys[i])) {\n        return false;\n      }\n    }\n    // end fast-deep-equal\n\n    // Custom handling for React\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      } else {\n        if (isFn(filter)) {\n          if (filter({a: a[key], b: b[key]}, key)) {\n            if (!equal(a[key], b[key], filter)) {\n              return false;\n            }\n          }\n        } else {\n          // all other properties should be traversed as usual\n          if (!equal(a[key], b[key], filter)) {\n            return false;\n          }\n        }\n      }\n    }\n\n    // fast-deep-equal index.js 2.0.1\n    return true;\n  }\n\n  if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n\n  return a !== a && b !== b;\n}\n\n// end fast-deep-equal\n\nexport const isEqual = function exportedEqual(a: any, b: any, filter?: Filter) {\n  try {\n    return equal(a, b, filter);\n  } catch (error: any) {\n    if (\n        (error.message?.match(/stack|recursion/i)) ||\n        error.number === -2146828260\n    ) {\n      console.warn(\n          'Warning: compare does not handle circular references.',\n          error.name,\n          error.message\n      );\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","import {isFn} from '../types';\nimport {each} from './array';\n\ntype Subscriber<N> = (notification: N) => void;\n\ntype Filter<P, S> = (payload: P, subscription: S) => any;\n\nconst noop = () => undefined;\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface IBroadcast extends Broadcast<any, any, any> {\n}\n\nexport class Broadcast<P, S, N> {\n  private buffer = [];\n  private entries = [];\n  private length: number;\n\n  public flushBuffer({subscriber, subscription}) {\n    each(this.buffer, ({payload, filter}) => {\n      if (isFn(filter)) {\n        const notification = filter(payload, subscription);\n        if (notification !== undefined) {\n          subscriber(notification);\n        }\n      } else {\n        subscriber(payload, subscription);\n      }\n    });\n  }\n\n  public notify(payload: P, filter?: Filter<P, S>) {\n    if (this.length === 0) {\n      this.buffer.push({payload, filter});\n      return;\n    }\n    each(this.entries, ({subscriber, subscription}) => {\n      if (isFn(filter)) {\n        const notification = filter(payload, subscription);\n        if (notification !== undefined) {\n          subscriber(notification);\n        }\n      } else {\n        subscriber(payload, subscription);\n      }\n    });\n    this.buffer.length = 0;\n  }\n\n  public subscribe(subscriber: Subscriber<N>, subscription?: any) {\n    if (!isFn(subscriber)) {\n      return noop;\n    }\n    const index = this.entries.length;\n    this.entries.push({\n      subscriber,\n      subscription\n    });\n    this.flushBuffer(this.entries[index]);\n    return () => {\n      this.entries.splice(index, 1);\n    };\n  }\n\n  public unsubscribe() {\n    this.entries.length = 0;\n    this.buffer.length = 0;\n  }\n}\n","const has = Object.prototype.hasOwnProperty;\n\nconst toString = Object.prototype.toString;\n\nexport function isEmpty(val: any): boolean {\n  // Null and Undefined...\n  if (val == null) {\n    return true;\n  }\n\n  // Booleans...\n  if (typeof val === 'boolean') {\n    return false;\n  }\n\n  // Numbers...\n  if (typeof val === 'number') {\n    return false;\n  }\n\n  // Strings...\n  if (typeof val === 'string') {\n    return val.length === 0;\n  }\n\n  // Functions...\n  if (typeof val === 'function') {\n    return val.length === 0;\n  }\n\n  // Arrays...\n  if (Array.isArray(val)) {\n    if (val.length === 0) {\n      return true;\n    }\n    for (let i = 0; i < val.length; i++) {\n      if (\n          val[i] !== undefined &&\n          val[i] !== null &&\n          val[i] !== '' &&\n          val[i] !== 0\n      ) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // Errors...\n  if (val instanceof Error) {\n    return val.message === '';\n  }\n\n  // Objects...\n  if (val.toString === toString) {\n    switch (val.toString()) {\n        // Maps, Sets, Files and Errors...\n      case '[object File]':\n      case '[object Map]':\n      case '[object Set]': {\n        return val.size === 0;\n      }\n\n        // Plain objects...\n      case '[object Object]': {\n        for (const key in val) {\n          if (has.call(val, key)) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n    }\n  }\n\n  // Anything else...\n  return false;\n}\n","import {ArrayPath, ISchema, Path} from '../../../../types';\nimport {PATH_SEPARATOR} from '../../utils/path';\nimport {isFn} from '../types';\nimport {getIn, setIn} from './accessor';\nimport {each, toArr} from './array';\nimport {isEmpty} from './isEmpty';\n\nconst numberRE = /^\\d+$/;\nconst VIRTUAL_BOXES = {};\n\ninterface IRuleDescription {\n  message?: string;\n  pattern?: RegExp | string;\n  required?: boolean;\n  validator?: RuleHandler;\n}\n\ninterface IPathInfo {\n  name: string;\n  path: string[];\n  schemaPath: string[];\n}\n\ntype RuleHandler = (\n    value: any,\n    rule: IRuleDescription,\n    values: any,\n    name: string\n) => string | null;\n\nexport const getSchemaNodeFromPath = (schema: ISchema, path: Path) => {\n  let res = schema;\n  let suc = 0;\n  const copyPath = toArr(path);\n  for (let i = 0; i < copyPath.length; i++) {\n    const key = copyPath[i];\n    if (res && !isEmpty(res.properties)) {\n      res = res.properties[key];\n      suc++;\n    } else if (res && !isEmpty(res.items) && numberRE.test(key as string)) {\n      res = res.items;\n      suc++;\n    }\n  }\n  return suc === copyPath.length ? res : undefined;\n};\n\nexport const schemaIs = (schema: ISchema, type: string) => {\n  return schema?.type === type;\n};\n\nexport const isVirtualBox = (name: string) => {\n  return !!VIRTUAL_BOXES[name];\n};\n\nexport const registerVirtualboxFlag = (name: string) => {\n  VIRTUAL_BOXES[name] = true;\n};\n\nconst isVirtualBoxSchema = (schema: ISchema) => {\n  return isVirtualBox(schema.type) || isVirtualBox(schema['x-component']);\n};\n\nconst schemaTraverse = (\n    schema: ISchema,\n    callback: any,\n    path: ArrayPath = [],\n    schemaPath = []\n) => {\n  if (schema) {\n    if (isVirtualBoxSchema(schema)) {\n      path = path.slice(0, path.length - 1);\n    }\n    callback(schema, {path, schemaPath});\n    if (schemaIs(schema, 'object') || schema.properties) {\n      each(schema.properties, (subSchema, key) => {\n        schemaTraverse(\n            subSchema,\n            callback,\n            path.concat(key),\n            schemaPath.concat(key)\n        );\n      });\n    } else if (schemaIs(schema, 'array') || schema.items) {\n      if (schema.items) {\n        callback(\n            schema.items,\n            key => {\n              schemaTraverse(\n                  schema.items,\n                  callback,\n                  path.concat(key),\n                  schemaPath.concat(key)\n              );\n            },\n            path\n        );\n      }\n    }\n  }\n};\n\nexport const calculateSchemaInitialValues = (\n    schema: ISchema,\n    initialValues: any,\n    callback?: (pathInfo: IPathInfo, schema: ISchema, value: any) => void\n) => {\n  initialValues = initialValues || schema.default || {};\n  schemaTraverse(schema, (subSchema, $path, parentPath) => {\n    const defaultValue = subSchema.default;\n    if (isFn($path) && parentPath) {\n      each(toArr(getIn(initialValues, parentPath)), (value, index) => {\n        $path(index);\n      });\n    } else if ($path) {\n      const isVirtualBoxInstance = isVirtualBoxSchema(subSchema);\n      const name = isVirtualBoxInstance\n          ? $path.schemaPath.join(PATH_SEPARATOR)\n          : $path.path.join(PATH_SEPARATOR);\n      const path = isVirtualBoxInstance ? $path.schemaPath : $path.path;\n      const schemaPath = $path.schemaPath;\n      const initialValue = getIn(initialValues, name);\n      const value = !isEmpty(initialValue) ? initialValue : defaultValue;\n      if (!isEmpty(value)) {\n        setIn(initialValues, name, value);\n      }\n      if (callback && isFn(callback)) {\n        const newPath = {\n          name,\n          path,\n          schemaPath\n        };\n        callback(newPath, subSchema, value);\n      }\n    }\n  });\n  return initialValues;\n};\n","import {computed, PropType, ref, watch} from 'vue';\nimport {Platform} from '../../../types';\nimport {useBaseInput} from '../mixins/base-input';\n\nexport const baseUrlProps = {\n  disabled: {type: Boolean, default: false},\n  protocols: {\n    type: Array, default: () => {\n      return ['http', 'https'];\n    }\n  },\n  value: String,\n  platform: String as PropType<Platform>,\n  valueProp: {\n    type: String,\n    default: 'value'\n  }\n};\n\nexport const useBaseUrl = (props, ctx) => {\n  const {size} = useBaseInput(props, ctx);\n  const domain = ref('');\n  const protocol = ref('https');\n  const current = computed(() => {\n    return (protocol.value ? protocol.value + '://' : '') + (domain.value ? domain.value : '');\n  });\n  const options = props.protocols.map(imte => ({\n    value: imte,\n    label: imte + '://'\n  }));\n  watch(() => current.value, (value) => {\n    ctx.emit('update:value', value);\n    ctx.emit('change', value);\n  });\n  watch(() => props.value, (v) => {\n    if (typeof v === 'string') {\n      if (v !== current.value) {\n        const protocolTmp = props.protocols.find(p => v.startsWith(p + '://'));\n        if (protocolTmp) {\n          protocol.value = protocolTmp;\n        }\n        domain.value = v.replace(protocolTmp + '://', '');\n      }\n    } else {\n      protocol.value = null;\n      domain.value = null;\n    }\n  }, {immediate: true});\n  return {\n    protocol, domain, options, currentValue: current, size\n  };\n};\n","import {useBaseInput} from '../';\n\nexport const createComponentProxy = (InputComponent: any) => {\n  return (props, ctx) => {\n    const {size} = useBaseInput(props, ctx);\n    return <InputComponent {...{size: size.value, ...props, ...ctx.attrs}}\n                           v-slots={ctx.slots}/>;\n  };\n};\n\n\nexport const getPropByPath = function getPropByPath(obj, path, strict?) {\n  let tempObj = obj;\n  let copyPath = path;\n  copyPath = copyPath.replace(/\\[(\\w+)]/g, '.$1');\n  copyPath = copyPath.replace(/^\\./, '');\n\n  const keyArr = copyPath.split('.');\n  let i = 0;\n  for (const len = keyArr.length; i < len - 1; ++i) {\n    if (!tempObj && !strict) {\n      break;\n    }\n    const key = keyArr[i];\n    if (key in tempObj) {\n      tempObj = tempObj[key];\n    } else {\n      if (strict) {\n        throw new Error('please transfer a valid prop path to form item!');\n      }\n      break;\n    }\n  }\n  return {\n    o: tempObj,\n    k: keyArr[i],\n    v: tempObj ? tempObj[keyArr[i]] : null\n  };\n};\n\nexport const noop = function noop(...args: any[]) {\n  // do nothing\n};\n","import {ILibComponents, Platform, SchemaFormComponent, SchemaFormComponentOptions} from '../../../types';\nimport {FieldDefinition} from '../internal/utils';\n\nexport const ASchemaForm = 'ASchemaForm';\n\nexport enum Mode {\n  Edit = 'edit',\n  Display = 'display'\n}\n\nexport enum FieldTypes {\n  Grid = 'grid',\n  File = 'file',\n  Checkbox = 'checkbox',\n  Picture = 'picture',\n  Button = 'button',\n  Cascader = 'cascader',\n  Transfer = 'transfer',\n  Rate = 'rate',\n  Upload = 'upload',\n  DateRange = 'daterange',\n  Url = 'url',\n  String = 'string',\n  Datetime = 'datetime',\n  Year = 'year',\n  Month = 'month',\n  Time = 'time',\n  Select = 'select',\n  Date = 'date',\n  DateTimeRange = 'datetimerange',\n  Integer = 'integer',\n  Number = 'number',\n  Double = 'double',\n  Boolean = 'boolean',\n  ExpandSelect = 'expand-select',\n  Range = 'range',\n  Empty = 'empty',\n  Text = 'text',\n  Object = 'object',\n  Password = 'password',\n  TimeRange = 'timerange',\n  AutoComplete = 'autocomplete',\n}\n\nexport const DESKTOP = 'desktop';\nexport const MOBILE = 'mobile';\n\n\nexport function swap(array, x, y) {\n  array.splice(x, 1, ...array.splice(y, 1, array[x]));\n}\n\nexport const registerMobileLib = (map: Record<keyof ILibComponents, any>) => {\n  Object.keys(map).forEach(key => {\n    LibComponents[key].mobile = map[key];\n  });\n};\n\nexport const registerDesktopLib = (map: Record<keyof ILibComponents, any>) => {\n  Object.keys(map).forEach(key => {\n    if (!LibComponents[key]) {\n      throw new Error(`没有${key}`);\n    }\n    LibComponents[key].desktop = map[key];\n  });\n};\n\n\nexport const LibComponents: ILibComponents = {\n  icons: {\n    desktop: null,\n    mobile: null\n  },\n  alert: {\n    desktop: null,\n    mobile: null\n  },\n  button: {\n    desktop: null,\n    mobile: null\n  },\n  col: {\n    desktop: null,\n    mobile: null\n  },\n  content: {\n    desktop: null,\n    mobile: null\n  },\n  footer: {\n    desktop: null,\n    mobile: null\n  },\n  form: {\n    desktop: null,\n    mobile: null\n  },\n  formItem: {\n    desktop: null,\n    mobile: null\n  },\n  header: {\n    desktop: null,\n    mobile: null\n  },\n  layout: {\n    desktop: null,\n    mobile: null\n  },\n  popover: {\n    desktop: null,\n    mobile: null\n  },\n  row: {\n    desktop: null,\n    mobile: null\n  },\n  sider: {\n    desktop: null,\n    mobile: null\n  },\n  checkbox: {\n    desktop: null,\n    mobile: null\n  },\n  card: {\n    desktop: null,\n    mobile: null\n  },\n  empty: {\n    desktop: null,\n    mobile: null\n  },\n  select: {\n    desktop: null,\n    mobile: null\n  },\n  input: {\n    desktop: null,\n    mobile: null\n  }\n};\n\nexport const resolveOptions = (field: FieldDefinition) => {\n  if (field.enum) {\n    if (field.props.options) {\n      return field.props.options;\n    }\n    if (typeof field.enum === 'function') {\n      const result = field.enum();\n      if (Array.isArray(result)) {\n        return result;\n      } else if (result.then) {\n        result.then(data => {\n          field.props.options = data;\n        });\n        return [];\n      }\n    } else if (typeof field.enum === 'object' && field.enum['then']) {\n      field.enum['then'](data => {\n        field.props.options = data;\n      });\n      return [];\n    }\n    return field.enum;\n  }\n  if (field.props?.options) {\n    if (typeof field.props.options === 'function') {\n      return field.props.options() || [];\n    } else if (typeof field.props.options === 'object') {\n      return field.props.options || [];\n    }\n  } else {\n    return [];\n  }\n};\n\nexport const getDefaultValue = (field: FieldDefinition) => {\n  if (!field.slot && field.getComponent().getDefaultValue !== undefined) {\n    return field.getComponent().getDefaultValue(field);\n  }\n  if (isNotNull(field.default)) {\n    return field.default;\n  }\n  if (field.type === FieldTypes.Transfer) {\n    return [];\n  } else if (field.type === FieldTypes.Range) {\n    return [0, 0];\n  } else if (typeof field.destructPath.destruct !== 'string') {\n    return null;\n  } else if (field.type === FieldTypes.Object) {\n    if (field.array) {\n      return [{}];\n    } else {\n      return {};\n    }\n  } else {\n    return field.array ? [] : null;\n  }\n};\n\n\nexport const getFormComponent = (platform: Platform) => {\n  return LibComponents.form[platform];\n};\n\nexport const getRowComponent = (platform: Platform) => {\n  return LibComponents.row[platform];\n};\n\nexport const getColComponent = (platform: Platform) => {\n  return LibComponents.col[platform];\n};\n\nexport const getLayoutComponent = (platform: Platform) => {\n  return LibComponents.layout[platform];\n};\n\nexport const getSiderComponent = (platform: Platform) => {\n  return LibComponents.sider[platform];\n};\n\nexport const getContentComponent = (platform: Platform) => {\n  return LibComponents.content[platform];\n};\n\nexport const getButtonComponent = (platform: Platform) => {\n  return LibComponents.button[platform];\n};\n\nexport const getAlertComponent = (platform: Platform) => {\n  return LibComponents.alert[platform];\n};\n\nexport const getOptionProperty = function getOptionProperty(option: any, property: string | ((option: any) => any)): any {\n  if (typeof option === 'string') {\n    return option;\n  } else if (typeof property === 'string') {\n    return option[property];\n  } else if (typeof property === 'function') {\n    return property(option);\n  }\n};\n\nexport function addRule(rules: any, field: FieldDefinition, rule: any) {\n  const type = field.type;\n  let validateType = 'string';\n  if (field.array) {\n    validateType = 'array';\n  } else if (type === 'number') {\n    validateType = 'number';\n  } else if (type === FieldTypes.Integer) {\n    validateType = 'number';\n  } else if (type === FieldTypes.Double) {\n    validateType = 'number';\n  } else if (type === FieldTypes.Object) {\n    validateType = 'object';\n  } else if (type === FieldTypes.Date || type === FieldTypes.Datetime || type === FieldTypes.Year || type === FieldTypes.Month) {\n    validateType = 'date';\n  } else if (type === FieldTypes.Select || type === FieldTypes.ExpandSelect) {\n    const options = resolveOptions(field);\n    if (options.length) {\n      validateType = typeof getOptionProperty(options[0], field.props && field.props.valueProperty || 'value');\n    }\n  } else if (type === FieldTypes.DateRange || type === FieldTypes.DateTimeRange) {\n    validateType = 'array';\n  }\n  rule.type = validateType;\n  if (type === FieldTypes.Url) {\n    rule.format = 'url';\n  }\n  rules.push(rule);\n}\n\nexport const isNull = (value: any) => {\n  return value === undefined || value === null;\n};\n\nexport const isNotNull = (value: any) => {\n  return !isNull(value);\n};\n\n\nexport const fixComponentDefinition = (value: SchemaFormComponentOptions | SchemaFormComponentOptions[],\n                                       forDisplay: boolean): SchemaFormComponent => {\n  let options = null;\n  if (Array.isArray(value)) {\n    options = value.find(it => it.forDisplay === forDisplay);\n  } else {\n    options = value;\n  }\n  const forArray = options.forArray !== undefined ? options.forArray : null;\n  const getProps = options.getProps || (() => ({}));\n  return {\n    component: options.component,\n    platform: options.platforms as Platform,\n    type: options.types as string,\n    forArray,\n    forInput: options.forInput ?? true,\n    layoutOptions: options.layoutOptions,\n    valueProp: options.valueProp || 'value',\n    wrap: options.wrap,\n    layout: options.layout,\n    getProps: (definition: FieldDefinition) => {\n      const props: any = getProps(definition, options.platforms) || {};\n      if (definition.title && options.platforms === MOBILE && !props.labelNumber) {\n        props.labelNumber = typeof definition.title === 'string' ? (definition.title.length > 7 ? 7 : definition.title.length) : 7;\n      }\n      if (definition.props) {\n        Object.assign(props, definition.props);\n      }\n      return props;\n    }\n  };\n};\n","import {Component} from '@vue/runtime-core';\nimport {\n  DisplayComponentOptions,\n  FieldDefinition,\n  Platform,\n  SchemaFormComponent,\n  SchemaFormComponentOptions\n} from '../../../types';\nimport {registerComponent} from '../config';\nimport {DESKTOP, fixComponentDefinition, MOBILE, Mode} from './utils';\n\nexport class ComponentStore {\n\n  public display: { [key in 'desktop' | 'mobile']: any } = {\n    desktop: {},\n    mobile: {}\n  };\n  public edit = {\n    desktop: {},\n    mobile: {}\n  };\n\n  public addComponent(options: SchemaFormComponentOptions) {\n    const forArray = options.forArray !== undefined ? options.forArray : null;\n    const mode = options.forDisplay ? this.display : this.edit;\n    const typeDef = mode[options.platforms as string];\n    if (!typeDef[options.types]) {\n      typeDef[options.types] = {};\n    }\n    const def: SchemaFormComponent = fixComponentDefinition(options, options.forDisplay);\n    if (forArray) {\n      typeDef[options.types][1] = def;\n    } else if (forArray === false) {\n      typeDef[options.types][2] = def;\n    } else {\n      typeDef[options.types][0] = def;\n    }\n  }\n\n  public search(mode: Mode, platform: Platform, type: string, array?: boolean) {\n    const typeDef = (mode === Mode.Display ? this.display : this.edit)[platform][type];\n    if (!typeDef) {\n      return;\n    }\n    if (array) {\n      return typeDef[1] || typeDef[0] || typeDef[2];\n    } else {\n      return typeDef[2] || typeDef[0];\n    }\n  }\n}\n\nexport const globalComponentStore = new ComponentStore();\n\nexport const registerDisplay = ({\n                                  component,\n                                  platforms,\n                                  types,\n                                  forArray = null,\n                                  getProps = () => ({}),\n                                  layout = false\n                                }: DisplayComponentOptions) => {\n  registerComponent({\n    component, platforms, types, forArray, getProps, forDisplay: true, layout\n  });\n};\n\n/**\n * 注册表单组件\n * @param {string | object} component 组件对象或组件名称\n * @param {Platform | Platform[]} platforms 支持的平台 desktop,mobile\n * @param {string | string[]} types 组件的类型\n * @param {boolean | null} forArray 是否为数组类型的数据组件（可选）,为null表示同时支持数组和非数组的数据格式\n * @param {(definition: FieldDefinition, platform: Platform) => object} getProps 组件属性转换器（可选）\n */\nexport const register = (component: string | Component,\n                         platforms: Platform | Platform[],\n                         types: string | string[],\n                         forArray: boolean = null,\n                         getProps: ((definition: FieldDefinition, platform: Platform) => {[key: string]: unknown}) = () => ({})) => {\n  registerComponent({\n    component, platforms, types, forArray, getProps, forDisplay: false, layout: false\n  });\n};\n\nexport const registerDesktop = (\n  component: string | Component,\n  types: string | string[],\n  forArray: boolean = null,\n  getProps: ((definition: FieldDefinition, platform: Platform) => { [key: string]: unknown }) = null) => {\n  register(component, DESKTOP, types, forArray, getProps);\n};\n\nexport const registerMobile = (\n  component: string | Component,\n  types: string | string[],\n  forArray: boolean = null,\n  getProps: ((definition: FieldDefinition, platform: Platform) => { [key: string]: unknown }) = null) => {\n  register(component, MOBILE, types, forArray, getProps);\n};\n\nexport const registerResponsiveComponent = (\n  component: string | Component,\n  types: string | string[],\n  forArray: boolean = null,\n  getProps: ((definition: FieldDefinition, platform: Platform) => { [key: string]: unknown }) = null) => {\n  register(component, [MOBILE, DESKTOP], types, forArray, getProps);\n};\n","module.exports = Vue;","import {PlusOutlined} from '@ant-design/icons-vue';\nimport classNames from 'classnames';\nimport {computed, ComputedRef, defineComponent, inject, PropType, VNode} from 'vue';\nimport {BaseArrayComponentProps, SchemaFormStore} from '../../../types';\nimport {FieldDefinition} from '../internal/utils';\nimport {SchemaFormStoreKey} from '../utils/key';\nimport {\n  getButtonComponent,\n  getColComponent,\n  getContentComponent,\n  getLayoutComponent,\n  getRowComponent,\n  getSiderComponent,\n  LibComponents,\n  MOBILE\n} from '../utils/utils';\nimport './style/array-wrapper.less';\n\nexport const baseArrayComponentProps: BaseArrayComponentProps = {\n  maxLength: {type: Number, default: 0},\n  showRemoveBtn: {type: Boolean, default: true},\n  showAddBtn: {type: Boolean, default: true},\n  disabled: {type: Boolean, default: false},\n  fields: {type: [Array, Object]},\n  addBtnText: {type: String},\n  addBtnProps: {type: Object},\n  deleteBtnProps: {type: Object}\n};\n\nexport default defineComponent({\n  name: 'ArrayWrapper',\n  inheritAttrs: false,\n  props: {\n    field: {type: Object as PropType<FieldDefinition>, required: true},\n    cellSpan: {type: Number, default: 24},\n    gutter: {type: Number, default: 20},\n    subForm: {type: Boolean, default: false},\n    clsPrefix: {type: String, default: 'schema-form-array-wrapper'},\n    ...baseArrayComponentProps\n  },\nemits: ['add', 'remove'],\n  setup(props, {slots, emit}) {\n    const field: ComputedRef<FieldDefinition> = computed(() => {\n      return props.field as FieldDefinition;\n    });\n    const store: SchemaFormStore = inject(SchemaFormStoreKey);\n    const editable = computed(() => {\n      return store.editable && field.value.editable;\n    });\n    const renderAddButton = () => {\n      if (!editable.value || !props.showAddBtn || (props.maxLength > 0 && slots.default\n          && (props.fields as VNode[]).length >= props.maxLength)) {\n        return null;\n      }\n      const ColComponent: any = getColComponent(store.platform);\n      const ButtonComponent: any = getButtonComponent(store.platform);\n      const buttonStyle: any = {};\n      if ((props.addBtnProps as any)?.block) {\n        buttonStyle.width = '100%';\n      }\n      const addButtonProps: any = Object.assign({\n        icon: <PlusOutlined/>\n      }, props.addBtnProps);\n      addButtonProps.disabled = disabled.value || addButtonProps.disabled;\n      if (!addButtonProps.icon) {\n        const ButtonIcon = LibComponents.icons[store.platform].plus;\n        addButtonProps.icon = <ButtonIcon/>;\n      }\n      const button = <ButtonComponent onClick={onAddClick}\n                                      style={buttonStyle}\n                                      {...addButtonProps}>{props.addBtnText || '添加'}</ButtonComponent>;\n      if (props.subForm) {\n        return <div style={{margin: '10px 15px'}}>{button}</div>;\n      }\n      return <ColComponent span={props.cellSpan}>{button}</ColComponent>;\n    };\n    const onAddClick = () => {\n      emit('add');\n    };\n    const renderFields = () => {\n      const ColComponent: any = getColComponent(store.platform);\n      const LayoutComponent = getLayoutComponent(store.platform);\n      const ASideComponent = getSiderComponent(store.platform);\n      const ContentComponent = getContentComponent(store.platform);\n      if (store.platform === MOBILE) {\n        return (props.fields as VNode[]).map((it, index) => {\n          return <div style={{position: 'relative'}}>{\n            [renderDeleteBtn(index), it]\n          }</div>;\n        });\n      }\n      const fields = props.fields || [];\n      if (Array.isArray(fields)) {\n        return fields.map((it, index) => {\n          return (\n              <ColComponent span={props.cellSpan}>\n                <LayoutComponent>\n                  <ContentComponent style={{\n                    overflow: 'hidden'\n                  }}>{it}</ContentComponent>\n                  <ASideComponent\n                      width={props.deleteBtnProps?.['width'] ?? 'auto'}>{renderDeleteBtn(index)}</ASideComponent>\n                </LayoutComponent>\n              </ColComponent>\n          );\n        });\n      }\n      return undefined;\n    };\n    const disabled = computed(() => {\n      return props.disabled || store.disabled || store.loading;\n    });\n    const renderDeleteBtn = (index: any) => {\n      const DeleteIcon = LibComponents.icons[store.platform].delete;\n      if (!editable.value || !props.showRemoveBtn) {\n        return null;\n      }\n      const delBtnClass = classNames(props.clsPrefix + '-del-btn', {\n        [props.clsPrefix + '-del-btn-disabled']: disabled.value\n      });\n      return <div class={props.clsPrefix + '-del-btn-wrapper'}>\n        <a class={delBtnClass}\n           onClick={() => {\n             if (!disabled.value) {\n               emit('remove', index);\n             }\n           }}>\n          <DeleteIcon/>\n          <span>删除</span>\n        </a>\n      </div>;\n    };\n    return {\n      renderFields,\n      renderAddButton,\n      store\n    };\n  },\n  render() {\n    const {store} = this;\n    const RowComponent: any = getRowComponent(store.platform);\n    const content = [\n      this.renderFields(),\n      this.renderAddButton()\n    ];\n    if (this.subForm) {\n      return <div class={this.clsPrefix}>{content}</div>;\n    }\n\n    if (this.$attrs.platform === 'mobile') {\n      return content;\n    } else {\n      return <RowComponent gutter={this.gutter}\n                           class={this.clsPrefix}\n                           type=\"flex\">\n        {content}\n      </RowComponent>;\n    }\n  }\n});\n","import {VNode} from 'vue';\nimport {FieldDefinition} from './internal/utils';\nimport {FieldTypes, LibComponents} from './utils/utils';\n\nfunction resolveWrap(field: FieldDefinition) {\n  if (field.getComponent(true).wrap === false) {\n    return false;\n  }\n  return typeof field.getComponent(true).wrap !== 'object' || (field.getComponent().wrap as any).mobile !== false;\n}\n\n/**\n * 兼容性处理，如果需要引入新的组件库，需要修改代码进行迟滞\n *\n * @author 吴昊\n * @since 0.1.19\n */\n\nexport function createSimpleMobileFieldComponent(title: string | VNode,\n                                                 inputComponent: any,\n                                                 field: FieldDefinition) {\n  if (field.type === FieldTypes.Object) {\n    return inputComponent;\n  }\n  const props: any = {title};\n  const FormItem: any = LibComponents.formItem['mobile'];\n  const slots = {\n    extra: () => inputComponent\n  };\n  return resolveWrap(field) ? <FormItem {...props} v-slots={slots}/> : inputComponent;\n}\n","import AsyncValidator from 'async-validator';\nimport _ from 'lodash';\nimport {\n  computed,\n  defineComponent,\n  inject,\n  isProxy,\n  isRef,\n  onBeforeUnmount,\n  PropType,\n  ref,\n  toRaw,\n  unref,\n  VNode,\n  watch\n} from 'vue';\nimport {SchemaFormComponent, SchemaFormField, SchemaFormStore} from '../../../types';\nimport ArrayWrapper from '../common/array-wrapper';\nimport {createSimpleMobileFieldComponent} from '../compatible';\nimport {config, getConfirmFunction} from '../config';\nimport Empty from '../empty';\nimport {isEqual} from '../uform/utils';\nimport {flat} from '../utils/array';\nimport {SchemaFormFieldOperationStoreKey, SchemaFormStoreKey} from '../utils/key';\nimport {\n  addRule,\n  DESKTOP,\n  FieldTypes,\n  getColComponent,\n  getDefaultValue,\n  isNotNull,\n  isNull,\n  LibComponents,\n  MOBILE,\n  swap\n} from '../utils/utils';\nimport {\n  FieldDefinition,\n  getComponentType,\n  getFormItemComponent,\n  getRealFields,\n  renderField,\n  SchemaFormEvents\n} from './utils';\n\n\nexport default defineComponent({\n  name: 'VSchemaFormField',\n  inheritAttrs: false,\n  props: {\n    definition: Object,\n    formValue: [Object, Array],\n    wrap: {\n      type: Boolean,\n      default: true\n    },\n    value: {\n      type: [Object, String, Boolean, Number, Array]\n    },\n    content: {\n      type: [Object, String]\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    index: Number,\n    path: Array,\n    schemaPath: Array,\n    field: {\n      type: Object as PropType<FieldDefinition>,\n      required: true\n    },\n    pathPrefix: {type: Array as PropType<string[]>}\n  },\n  emits: ['change', 'update:value'],\n  setup($props, {emit}) {\n    const store: SchemaFormStore = inject(SchemaFormStoreKey);\n    const arrayRef = ref<VNode>(null);\n    const inputRef = ref<any>(null);\n    const currentValue = ref($props.value || null);\n    const field = computed(() => $props.field as FieldDefinition);\n    watch(() => currentValue.value, (val) => {\n      field.value.value = val;\n      if (store.editable && field.value.editable) {\n        emit(`update:value`, val);\n        emit('change', val);\n        if (!field.value.valid) {\n          validate();\n        }\n      }\n      store.context.trigger(SchemaFormEvents.fieldChange, {\n        path: field.value.plainPath,\n        value: val,\n        field: field.value\n      });\n    }, {deep: true});\n    const setCurrentValue = (value) => {\n      const component = getComponent();\n      if ((!component || component.forInput) && !isEqual(currentValue.value, value)) {\n        currentValue.value = value;\n      }\n    };\n    const fieldOperations: any = inject(SchemaFormFieldOperationStoreKey);\n    watch(() => field.value, localField => {\n      fieldOperations.addField(localField);\n    }, {immediate: true});\n    watch(() => $props.value, value => {\n      if (!isEqual(currentValue.value, value)) {\n        setCurrentValue(value);\n      }\n    }, {deep: true});\n    const renderFormField = (localField: SchemaFormField,\n                             localValue: { [p: string]: any } | Array<{ [p: string]: any }>,\n                             index: number, wrap: boolean) => {\n      return renderField($props.pathPrefix as string[], store, localField, localValue, index, wrap, emit);\n    };\n    const editable = computed(() => store.editable && field.value.editable);\n    const getComponent = () => {\n      if (field.value.slot) {\n        return undefined;\n      }\n      return field.value.getComponent(!editable.value, store.platform);\n    };\n    const inputProps = computed(() => {\n      const {definition, path, schemaPath} = $props;\n      const {platform} = store;\n      const renderComponent = getComponent();\n      const localProps: any = renderComponent === undefined ? {} : Object.assign({}, renderComponent.getProps(field.value));\n      const localType = field.value.type;\n      if (localType === FieldTypes.Object) {\n        localProps.platform = platform;\n        localProps.editable = editable.value;\n        localProps.pathPrefix = path;\n        localProps.schemaPath = schemaPath;\n        localProps.layoutType = definition.layoutType;\n        localProps.layoutProps = definition.layoutProps;\n      }\n      if (isNotNull(definition.placeholder)) {\n        localProps.placeholder = definition.placeholder;\n      }\n      localProps.required = field.value.required;\n      if (isNull(editable.value) || platform === DESKTOP) {\n        delete localProps.required;\n      }\n      return localProps;\n    });\n    const isDisabled = computed(() => {\n      return $props.disabled || field.value.disabled || (field.value.props && field.value.props.disabled);\n    });\n    const removeArrayItem = (index: number) => {\n      (currentValue.value as any[]).splice(index, 1);\n    };\n    const addArrayItem = () => {\n      if (isNotNull(currentValue.value)) {\n        if (type.value === FieldTypes.Object) {\n          (currentValue.value as any[]).push({});\n        } else {\n          (currentValue.value as any[]).push(null);\n        }\n      } else {\n        if (type.value === FieldTypes.Object) {\n          setCurrentValue([{}]);\n        } else {\n          setCurrentValue([null]);\n        }\n      }\n    };\n    const getRules = (trigger?: string): any => {\n      const rules = field.value.getRules() || [];\n      if (rules.length === 0 && field.value.required) {\n        addRule(rules, field.value, {required: true, message: `${field.value.title}为必填项`});\n      }\n      if (trigger) {\n        return rules.filter((it: any) => it.trigger === trigger);\n      }\n      return rules;\n    };\n\n    const type = computed(() => {\n      return field.value.type;\n    });\n\n    const getFormItemProps = () => {\n      const {definition} = $props;\n      const {platform} = store;\n      const component = getFormItemComponent(platform);\n      const props: any = {\n        required: editable.value ? field.value.required : null,\n        title: definition.title,\n        label: definition.title\n      };\n      if (platform === DESKTOP) {\n        if (definition.tip) {\n          const InfoIcon = LibComponents.icons[store.platform].info;\n          const LibComponentsPopover: any = LibComponents.popover[DESKTOP];\n          const slots = {\n            default: () => <span>\n              {definition.title}\n              <InfoIcon style={{marginLeft: '5px', color: '#247dc5'}}/>\n            </span>\n          };\n          props.label = <LibComponentsPopover\n            content={definition.tip}\n            v-slots={slots}\n            trigger=\"hover\"/>;\n        } else {\n          props.label = definition.title;\n        }\n      }\n      if (definition.wrapperProps) {\n        Object.assign(props, definition.wrapperProps);\n        if (definition.wrapperProps.noTitle) {\n          props.title = null;\n          props.label = null;\n        }\n      }\n      Object.assign(props, config.getFormItemProps(component, field.value, platform));\n      return props;\n    };\n    const validate = (trigger?: string) => {\n      if (!field.value.visible) {\n        return true;\n      }\n      if (getComponent()?.layout) {\n        return true;\n      }\n      if (type.value === FieldTypes.Object && arrayRef.value) {\n        const array = arrayRef.value;\n        const validateFields = array.props.fields.filter(it => it.validate);\n        return new Promise(resolve => {\n          Promise.all(validateFields.map(it => it.validate()))\n            .then((values) => {\n              resolve(flat(values.filter(it => !!it)));\n            });\n        });\n      }\n      const rules = getRules(trigger);\n      if (rules.length) {\n        const validator = new AsyncValidator({\n          [field.value.plainPath]: rules\n        });\n        let value = currentValue.value;\n        if ([FieldTypes.Integer, FieldTypes.Double, FieldTypes.Number].includes(type.value as FieldTypes)) {\n          value = parseFloat(value as FieldTypes);\n        }\n        const model = {\n          [field.value.plainPath]: value\n        };\n        return new Promise((resolve) => {\n          validator.validate(model, {firstFields: true}, (errors) => {\n            if (errors) {\n              field.value.valid = false;\n              field.value.errors = errors.map(error => error.message);\n            } else {\n              field.value.valid = true;\n              field.value.errors = [];\n            }\n            if (errors) {\n              resolve(errors.map(it => ({message: it.message, path: field.value.plainPath})));\n            } else {\n              resolve(null);\n            }\n          });\n        });\n      }\n      return true;\n    };\n    const onArrayItemInput = (val: any, index: number) => {\n      (currentValue.value as any[]).splice(index, 1, val);\n      onValueUpdate(currentValue.value);\n    };\n    const onValueUpdate = _.debounce((value) => {\n      let val = value;\n      if (isRef(value)) {\n        val = unref(value);\n      }\n      if (!isEqual(currentValue.value, val)) {\n        setCurrentValue(val);\n      }\n    }, 10);\n\n    const renderArrayInputComponent = (propsTmp, inputFieldDef: SchemaFormComponent) => {\n      const InputFieldComponent = inputFieldDef.component;\n      const {definition} = $props;\n      let ArrayComponent: any = ArrayWrapper;\n      if (typeof definition.arrayComponent === 'string') {\n        const componentDef = getComponentType(store, {\n          type: definition.arrayComponent\n        });\n        if (componentDef.component !== Empty) {\n          ArrayComponent = componentDef.component;\n        }\n      } else if (['function', 'object'].includes(typeof definition.arrayComponent)) {\n        ArrayComponent = definition.arrayComponent;\n      }\n      const valueProp = inputFieldDef.valueProp;\n      const arrayContent = currentValue.value ? (currentValue.value as any[]).map((v, index) => {\n        const itemProps: any = Object.assign({}, propsTmp, {\n          pathPrefix: ($props.path as Array<string | number>).concat(index),\n          schemaPath: $props.path\n        });\n        if (field.value.type === FieldTypes.Object) {\n          itemProps.definition = Object.assign({}, itemProps.definition);\n          delete itemProps.definition.array;\n        }\n        const events = field.value.generateEvents();\n\n        const className = itemProps.className;\n        const style = itemProps.style;\n        delete itemProps.className;\n        delete itemProps.style;\n        Object.assign(itemProps, {\n          ...events,\n          class: className,\n          style,\n          arrayIndex: index,\n          disabled: isDisabled.value,\n          key: field.value.plainPath + '-' + index,\n          [valueProp]: v,\n          title: store.platform === 'mobile' ? field.value.title : null,\n          ['onUpdate:' + valueProp]: _.debounce((val) => {\n            const oldValue = currentValue.value[index];\n            if (!isEqual(val, oldValue)) {\n              onArrayItemInput(val, index);\n            }\n          }, 10)\n        });\n        return <InputFieldComponent {...itemProps}/>;\n      }) : null;\n      const arrayProps = Object.assign({}, propsTmp, definition.arrayProps);\n      const arrayClass = arrayProps.className;\n      const arrayStyle = arrayProps.style;\n      delete arrayProps.className;\n      delete arrayProps.style;\n      // noinspection JSUnusedGlobalSymbols\n      Object.assign(arrayProps, {\n        class: arrayClass,\n        style: arrayStyle,\n        disabled: isDisabled.value,\n        subForm: field.value.type === FieldTypes.Object,\n        addBtnText: propsTmp.addBtnText,\n        key: field.value.plainPath,\n        addBtnProps: propsTmp.addBtnProps,\n        cellSpan: propsTmp.cellSpan,\n        field: field.value,\n        ref: (el) => {\n          arrayRef.value = el;\n        },\n        onRemove: async (index) => {\n          try {\n            const confirmFunc = getConfirmFunction(store.platform);\n            try {\n              await confirmFunc('确定删除该条吗？', '提示');\n              removeArrayItem(index);\n            } catch (e) {\n              // do nothing\n            }\n          } catch (e) {\n            console.error(e);\n          }\n        },\n        onMoveDown: (index) => {\n          if (index <= (currentValue.value as any[]).length - 1) {\n            swap(currentValue.value, index, index + 1);\n          }\n        },\n        onMoveUp: (index) => {\n          if (index > 0) {\n            swap(currentValue.value, index, index - 1);\n          }\n        },\n        onAdd: () => {\n          addArrayItem();\n        },\n        fields: arrayContent\n      });\n      return <ArrayComponent {...arrayProps}/>;\n    };\n    const relatedSubFields = computed(() => {\n      const definition = $props.definition;\n      return getRealFields(definition.fields);\n    });\n    const subFields = computed(() => {\n      const definition = $props.definition;\n      const noWrap = isNull(definition.title);\n      return relatedSubFields.value.map((localField, index) =>\n        renderFormField(localField, currentValue.value as { [p: string]: any } | Array<{ [p: string]: any }>, index, !noWrap));\n    });\n\n\n    const renderInputComponent = () => {\n      const propsTmp = inputProps.value;\n      const {content, definition} = $props;\n      const inputFieldDef = getComponent();\n      let InputFieldComponent = inputFieldDef.component;\n      if (isProxy(InputFieldComponent)) {\n        InputFieldComponent = toRaw(InputFieldComponent);\n      }\n      if (content) {\n        return content;\n      }\n      if (!editable.value && field.value.displayValue) {\n        let displayValue: any;\n        if (typeof field.value.displayValue === 'function') {\n          displayValue = field.value.displayValue(currentValue.value);\n        } else {\n          displayValue = field.value.displayValue;\n        }\n        if (typeof displayValue === 'object') {\n          return displayValue;\n        } else {\n          return <span>{displayValue}</span>;\n        }\n      }\n      const style: any = Object.assign({}, inputProps.value.style || {});\n      if (inputFieldDef.layout) {\n        propsTmp.layout = definition.layout;\n        propsTmp.fields = subFields.value;\n        propsTmp.fieldDefinitions = relatedSubFields.value;\n      }\n      const valueProp = inputFieldDef.valueProp;\n      propsTmp.disabled = isDisabled.value;\n      if (inputFieldDef.forInput) {\n        propsTmp[valueProp] = currentValue.value;\n      }\n      propsTmp.title = propsTmp.title || ((store.platform === 'mobile' || inputFieldDef.layout) ? field.value.title : null);\n      // 渲染数组\n      if (field.value.array && inputFieldDef.forArray === false) {\n        return renderArrayInputComponent(propsTmp, inputFieldDef);\n      }\n      if (definition.type === FieldTypes.Object\n        && definition.props) {\n        if (!definition.props.props) {\n          definition.props.props = {};\n        }\n        Object.keys(definition.props).forEach(key => {\n          if (key !== 'props') {\n            definition.props.props[key] = definition.props[key];\n          }\n        });\n      }\n      const className = propsTmp.className;\n      delete propsTmp.className;\n      delete propsTmp.style;\n\n      const events = field.value.generateEvents();\n      Object.assign(propsTmp, {\n        ...events,\n        [`onUpdate:${valueProp}`]: onValueUpdate\n      });\n      const slots = {};\n      if (definition.slots) {\n        const slotsDef = definition.slots;\n        Object.keys(slotsDef).forEach(slotName => {\n          if (typeof slotsDef[slotName] === 'string') {\n            if (store.root.slots && store.root.slots[slotsDef[slotName] as string]) {\n              slots[slotName] = store.root.slots[slotsDef[slotName] as string];\n            }\n          } else {\n            slots[slotName] = slotsDef[slotName];\n          }\n        });\n      }\n      return <InputFieldComponent\n        {...propsTmp}\n        v-slots={slots}\n        class={className}\n        style={style}\n        key={field.value.plainPath}\n        ref={(el) => {\n          inputRef.value = el;\n          field.value.inputRef = el;\n        }}/>;\n    };\n    onBeforeUnmount(() => {\n      fieldOperations.removeField(field.value);\n    });\n    const onCreated = () => {\n      // 设置默认值\n      if (isNull(currentValue.value)) {\n        setCurrentValue(getDefaultValue(field.value));\n      }\n      // 初始化属性\n      Object.assign(field.value, {\n        validate,\n        value: currentValue.value,\n        setGetValue: (value: any) => {\n          if (value === undefined) {\n            return currentValue.value;\n          } else {\n            setCurrentValue(value);\n          }\n        }\n      });\n      // 触发创建事件\n      store.context.trigger(SchemaFormEvents.fieldCreate, {\n        path: field.value.plainPath,\n        value: currentValue.value,\n        field: field.value\n      });\n    };\n    onCreated();\n    const renderDesktopComponent = () => {\n      const inputComponent = renderInputComponent();\n      const {definition} = $props;\n      const {platform} = store;\n      const FormItemComponent: any = getFormItemComponent(platform);\n      const ColComponent: any = getColComponent(store.platform);\n      const formItemProps = getFormItemProps();\n      const style = formItemProps.style;\n      const className = formItemProps.className;\n      const inputFieldDef = getComponent();\n      delete formItemProps.style;\n      delete formItemProps.className;\n      // 是否使用form-item组件包裹\n      const noWrap = (definition?.wrapperProps?.noWrap ?? inputFieldDef.layoutOptions?.noWrap) || isNull(definition.title);\n      // 是否使用form-item组件的title\n      const noTitle = !!(definition?.wrapperProps?.noTitle ?? inputFieldDef.layoutOptions?.noTitle);\n      const label = [];\n      if (noTitle) {\n        label.push(<span/>);\n      } else {\n        if (store.props?.index) {\n          label.push(<span class=\"form-item-index\">{$props.index + 1}. </span>);\n        }\n        label.push(formItemProps.title);\n      }\n      if (formItemProps.slots) {\n        formItemProps.slots.label = () => label;\n      } else {\n        formItemProps.slots = {\n          label: () => label\n        };\n      }\n      const formItem = noWrap ? inputComponent :\n        <FormItemComponent\n          {...formItemProps}\n          v-slots={formItemProps.slots}\n          class={className}\n          style={style}>\n          {inputComponent}\n        </FormItemComponent>;\n      if (definition.span) {\n        return <ColComponent span={definition.span}>{formItem}</ColComponent>;\n      } else {\n        return formItem;\n      }\n    };\n\n    return {\n      inputProps,\n      type,\n      editable,\n      store,\n      renderInputComponent,\n      getFormItemProps,\n      currentValue,\n      renderDesktopComponent,\n      subFields\n    };\n  },\n  render() {\n    const field = this.field as FieldDefinition;\n    const {inputProps, definition, editable, store: {platform}} = this;\n    if (definition.slot) {\n      const slot = this.store.root.slots[definition.slot];\n      const content = slot ? slot() : undefined;\n      if (Array.isArray(content)) {\n        content.forEach((node: VNode) => {\n          node.props = node.props || {};\n          node.props.style = node.props.style || {};\n          if (field.visible) {\n            delete node.props.style.display;\n          } else {\n            node.props.style.display = 'none';\n          }\n        });\n      }\n      return content;\n    }\n    if (!editable) {\n      inputProps.definition = definition;\n      inputProps.field = field;\n    }\n    let item = null;\n    if (platform === DESKTOP) {\n      item = this.renderDesktopComponent();\n    } else if (platform === MOBILE) {\n      const inputComponent = this.renderInputComponent();\n      if (editable) {\n        item = inputComponent;\n      } else {\n        item = createSimpleMobileFieldComponent(field.title, inputComponent, field);\n      }\n    }\n    const style: Partial<CSSStyleDeclaration> = {};\n    // 如果visible 是\n    if (!field.visible) {\n      style.display = 'none';\n    }\n    (item as VNode).props.style = style;\n    return item;\n  }\n});\n","export const baseButtonProps = {\n  title: String\n};\n\n","import {Button} from 'ant-design-vue';\nimport classNames from 'classnames';\nimport {defineComponent, PropType} from 'vue';\nimport {baseButtonProps} from '../../../common/base-button';\nimport {useBaseInput} from '../../../mixins';\nimport './index.less';\n\nexport default defineComponent({\n  name: 'DButton',\n  props: {\n    ...baseButtonProps,\n    prefixCls: {\n      type: String,\n      default: 'ant-btn'\n    },\n    text: {\n      type: Boolean,\n      default: false\n    },\n    circle: {\n      type: Boolean,\n      default: false\n    },\n    htmlType: {\n      type: String as PropType<string>,\n      default: 'button'\n    },\n    type: String,\n    onClick: Function\n  },\n  setup(props, ctx) {\n    const {size} = useBaseInput(props, ctx);\n    return {\n      size\n    };\n  },\n  render() {\n    const props: any = {\n      ...this.$attrs,\n      onClick: this.onClick,\n      htmlType: this.htmlType,\n      size: this.size,\n      class: classNames(this.$attrs.class, {\n        [this.prefixCls + '-text']: this.text\n      }),\n      shape: this.circle ? 'circle' : this.$attrs.shape\n    };\n    if (this.type === 'danger') {\n      props.danger = true;\n    } else {\n      props.type = this.type;\n    }\n    const defaultSlot = this.$slots.default;\n    const slots = Object.assign({}, this.$slots, {\n      default: () => {\n        return [\n          this.title, defaultSlot?.()\n        ];\n      }\n    });\n    return <Button {...props} v-slots={slots}/>;\n  }\n});\n","import {App} from 'vue';\nimport Button from './button';\n\nButton.install = (app: App) => {\n  app.component(Button.name, Button);\n};\n\nexport default Button;\n","import {DatePicker} from 'ant-design-vue';\nimport moment, {Moment} from 'moment';\nimport {computed, defineComponent, ref, watch} from 'vue';\n\nconst convertValue = (value: Date | number, format: string): any => {\n  if (!value) {\n    return undefined;\n  }\n  if (typeof value === 'string') {\n    return moment(value, format);\n  } else if (typeof value === 'number') {\n    return moment(value);\n  } else {\n    return moment(value);\n  }\n};\n\nconst convertValueBack = (value: Moment | undefined): Date => {\n  if (value === undefined || value === null) {\n    return null;\n  } else {\n    return value.toDate();\n  }\n};\n\nexport default defineComponent({\n  name: 'DDatePicker',\n  props: {\n    value: {\n      type: [String, Object]\n    },\n    mode: {type: String, default: 'date'}\n  },\n  emits: ['update:value', 'change'],\n  setup(props, {emit}) {\n    const currentValue = ref<Moment>(null);\n\n    const format = computed(() => {\n      switch (props.mode) {\n        case 'date':\n          return 'YYYY-MM-DD';\n        case 'datetime':\n          return 'YYYY-MM-DD HH:mm:ss';\n      }\n      return undefined;\n    });\n    watch(() => props.value, (value: any) => {\n      const convertedValue = convertValue(value, format.value);\n      if (currentValue.value === null || currentValue.value === undefined) {\n        currentValue.value = convertedValue;\n      } else if (!convertedValue) {\n        currentValue.value = null;\n      } else if (currentValue.value.toString() !== convertedValue.toString()) {\n        currentValue.value = convertedValue;\n      }\n    }, {immediate: true});\n    watch(() => currentValue.value, (value) => {\n      const val = convertValueBack(value);\n      if (props.value !== undefined) {\n        emit('update:value', val);\n      }\n      emit('change', val);\n    });\n    return {\n      currentValue, updateCurrentValue(value) {\n        currentValue.value = value;\n      }\n    };\n  },\n  render() {\n    const {mode, currentValue} = this;\n    const finalMode = mode === 'datetime' ? 'time' : mode;\n    const props = {\n      ...this.$attrs,\n      value: currentValue,\n      mode: finalMode,\n      'onUpdate:value': this.updateCurrentValue\n    };\n    if (mode === 'week') {\n      return <DatePicker.WeekPicker {...props}/>;\n    }\n    if (mode === 'month') {\n      return <DatePicker.MonthPicker {...props}/>;\n    }\n    return <DatePicker {...props as any}/>;\n  }\n});\n","import {App} from 'vue';\nimport DatePicker from './date-picker';\n\nDatePicker.install = (app: App) => {\n  app.component(DatePicker.name, DatePicker);\n};\n\nexport default DatePicker;\n","import classNames from 'classnames';\nimport {computed, defineComponent, PropType, provide, ref, Ref} from 'vue';\nimport {ValidateRules} from '../../../../../types';\n\nexport default defineComponent({\n  name: 'DForm',\n  inheritAttrs: false,\n  props: {\n    /**\n     * 显示取消确认按钮，分别产生cancel和ok事件，cancel和ok没有默认操作，完全由用户定义\n     */\n    okCancel: {\n      type: Boolean as PropType<boolean>,\n      default: false\n    },\n    size: {\n      type: String as PropType<'small' | 'large' | 'default'>,\n      default: 'default'\n    },\n    disabled: {\n      type: Boolean as PropType<boolean>,\n      default: false\n    },\n    readOnly: {\n      type: Boolean as PropType<boolean>,\n      default: false\n    },\n    labelCol: {\n      type: [Number, Object] as PropType<number | { [key: string]: unknown }>\n    },\n    okText: {\n      type: String as PropType<string>,\n      default: '确定'\n    },\n    cancelText: {\n      type: String as PropType<string>,\n      default: '取消'\n    },\n    inline: {\n      type: Boolean as PropType<boolean>\n    },\n    /**\n     * 标签宽度\n     */\n    labelWidth: {\n      type: [String, Number] as PropType<string | number>\n    },\n    labelPosition: {\n      type: String as PropType<'left' | 'right'>\n    },\n    hideRequiredMark: {\n      type: Boolean as PropType<boolean>\n    },\n    layout: {\n      type: String as PropType<'horizontal' | 'inline' | 'vertical'>,\n      default: 'horizontal'\n    },\n    model: {\n      type: Object as PropType<any>\n    },\n    rules: {\n      type: Object as PropType<ValidateRules>\n    },\n    onSubmit: {\n      type: Function as PropType<any>\n    },\n    wrapperCol: {\n      type: [Number, Object] as PropType<number | any>\n    }\n  },\nemits: ['ok', 'cancel'],\n  setup(props: any, {emit}) {\n    const prefixCls = ref('ant-form');\n    const fields: Ref<any[]> = ref([]);\n    const clearValidate = (props = []) => {\n      const localFields = props.length\n        ? (typeof props === 'string'\n            ? fields.value.filter(field => props === (field as any).prop)\n            : fields.value.filter(field => props.indexOf((field as any).prop) > -1)\n        ) : fields.value;\n      localFields.forEach(field => {\n        (field as any).clearValidate();\n      });\n    };\n    const resetFields = () => {\n      if (!props.model) {\n        console.warn('[Element Warn][Form]model is required for resetFields to work.');\n        return;\n      }\n      fields.value.forEach(field => {\n        (field as any).resetField();\n      });\n    };\n    const validate = (callback) => {\n      if (!props.model) {\n        return;\n      }\n      let promise;\n      let copyCallback = callback;\n      // if no callback, return promise\n      if (typeof copyCallback !== 'function' && Promise) {\n        promise = new Promise((resolve, reject) => {\n          copyCallback = (valid) => {\n            const errorField = fields.value.find(it => it.currentValidateStatus === 'error');\n            if (errorField) {\n              errorField.focus();\n            }\n            valid ? resolve(valid) : reject(valid);\n          };\n        });\n      }\n\n      let valid = true;\n      let count = 0;\n      // 如果需要验证的fields为空，调用验证时立刻返回callback\n      if (fields.value.length === 0 && copyCallback) {\n        copyCallback(true);\n      }\n      let invalidFields = {};\n      fields.value.forEach(field => {\n        field.validate('', (message, field) => {\n          if (message) {\n            valid = false;\n          }\n          invalidFields = Object.assign({}, invalidFields, field);\n          if (typeof copyCallback === 'function' && ++count === fields.value.length) {\n            copyCallback(valid, invalidFields);\n          }\n        });\n      });\n\n      if (promise) {\n        return promise;\n      }\n    };\n    const validateField = (props, cb) => {\n      const copyProps = [].concat(props);\n      const localFields = fields.value.filter(field => copyProps.indexOf((field as any).prop) !== -1);\n      if (!localFields.length) {\n        console.warn('[Element Warn]please pass correct props!');\n        return;\n      }\n      localFields.forEach(field => {\n        (field as any).validate('', cb);\n      });\n    };\n    const getLayout = () => {\n      if (props.inline) {\n        return 'inline';\n      } else {\n        return props.layout;\n      }\n    };\n    const renderButtons = () => {\n      if (props.okCancel) {\n        return <div class={prefixCls.value + '-footer-btns'}>\n          {\n            <a-button onClick={(e) => {\n              emit('cancel', e);\n            }}>{props.cancelText}</a-button>\n          }\n          {\n            <a-button\n              onClick={(e) => {\n                emit('ok', e);\n              }}\n              type={'primary'}\n              style={{marginLeft: '8px'}}>{props.okText}</a-button>\n          }\n        </div>;\n      }\n    };\n    const form = computed(() => ({\n      ...props,\n      emit,\n      addField: (field) => {\n        if (field) {\n          fields.value.push(field);\n        }\n      },\n      removeField: (field) => {\n        if (field.prop) {\n          fields.value.splice(fields.value.indexOf(field), 1);\n        }\n      }\n    }));\n    provide('form', form);\n    return {\n      prefixCls,\n      fields,\n      clearValidate,\n      resetFields,\n      validate,\n      validateField,\n      getLayout,\n      renderButtons\n    };\n  },\n  render(ctx) {\n    const {\n      prefixCls,\n      hideRequiredMark,\n      onSubmit,\n      $slots\n    } = ctx;\n    const layout = this.getLayout();\n    const formClassName = classNames({\n      [`${prefixCls}-hide-required-mark`]: hideRequiredMark\n    });\n    return (\n      <a-form onSubmit={onSubmit}\n              layout={layout}\n              class={formClassName}>\n        {$slots.default?.()}\n        {this.renderButtons()}\n      </a-form>\n    );\n  }\n});\n","import {DatePicker} from 'ant-design-vue';\nimport moment, {Moment} from 'moment';\nimport {computed, defineComponent, ref, watch} from 'vue';\nimport {useBaseInput} from '../../../';\nimport {isNotNull} from '../../../utils/utils';\n\nconst convertValue = (value: Array<Date | number>, format: string): any => {\n  if (!value) {\n    return undefined;\n  }\n  return value.filter(it => isNotNull(it)).map(it => moment(it));\n};\n\nconst convertValueBack = (value: Moment[] | undefined): Date[] => {\n  if (value !== undefined) {\n    return value.map(it => it.toDate());\n  } else {\n    return undefined;\n  }\n};\n\nexport default defineComponent({\n  name: 'DRangePicker',\n  props: {\n    value: {\n      type: Array\n    },\n    mode: {type: String, default: 'date'}\n  },\n  setup(props, ctx) {\n    const {emit} = ctx;\n    const currentValue = ref<Moment[]>(null);\n    const format = computed(() => {\n      switch (props.mode) {\n        case 'date':\n          return 'YYYY-MM-DD';\n        case 'datetime':\n          return 'YYYY-MM-DD HH:mm:ss';\n      }\n      return undefined;\n    });\n    watch(() => props.value, (value: any) => {\n      const convertedValue = convertValue(value, format.value);\n      if (!currentValue.value) {\n        currentValue.value = convertedValue;\n      } else if (!convertedValue) {\n        currentValue.value = [];\n      } else {\n        if (currentValue.value.toString() !== convertedValue.toString()) {\n          currentValue.value = convertedValue;\n        }\n      }\n    }, {immediate: true});\n    watch(() => currentValue.value, (value) => {\n      const val = convertValueBack(value);\n      if (props.value !== undefined) {\n        emit('update:value', val);\n      }\n      emit('change', val);\n    });\n    const {size} = useBaseInput(props, ctx);\n    const updateCurrentValue = (value) => {\n      currentValue.value = value;\n    };\n    const getProps = () => {\n      return {\n        ...ctx.attrs,\n        size: size.value,\n        value: currentValue.value,\n        'onUpdate:value': updateCurrentValue\n      };\n    };\n    return {getProps};\n  },\n  render() {\n    return <DatePicker.RangePicker {...this.getProps() as any}/>;\n  }\n});\n","import {App} from 'vue';\nimport RangePicker from './range-picker';\n\nRangePicker.install = (app: App) => {\n  app.component(RangePicker.name, RangePicker);\n};\n\nexport default RangePicker;\n","import locale from 'ant-design-vue/lib/time-picker/locale/zh_CN';\nimport {PropType, ref, watch} from 'vue';\nimport {useBaseInput} from '../mixins';\nimport {isNotNull, isNull} from '../utils/utils';\n\nexport const baseTimePickerProps = {\n  value: {\n    type: String\n  },\n  locale: {\n    type: Object as PropType<any>,\n    default: () => locale\n  },\n  localeCode: {\n    type: String as PropType<string>,\n    default: 'zh'\n  },\n  clearable: {\n    type: Boolean as PropType<boolean>,\n    default: false\n  },\n  format: {\n    type: String as PropType<string>,\n    default: 'HH:mm:ss'\n  }\n};\n\nexport const useBaseTimePicker = (props, {attrs, emit, convertValue, convertValueBack, valueProp}) => {\n  const {disabled, size} = useBaseInput(props, {attrs});\n  const stateValue = ref(null);\n  watch(() => props.value as string, (value: string) => {\n    const convertedValue: Date = convertValue(value);\n    if (isNull(stateValue.value)) {\n      stateValue.value = convertedValue;\n    } else if (!convertedValue) {\n      stateValue.value = null;\n    } else if (stateValue.value.toString() !== convertedValue.toString()) {\n      stateValue.value = convertedValue;\n    }\n  }, {immediate: true});\n  const getProps = () => {\n    return {\n      size: size.value,\n      disabled: disabled.value,\n      ...props,\n      ...attrs,\n      value: stateValue.value,\n      [`onUpdate:${valueProp}`]: (value) => {\n        if (isNotNull(value) && value.toString() === '[object InputEvent]') {\n          return;\n        }\n        const convertedValue = convertValueBack(value);\n        emit(`update:${valueProp}`, convertedValue);\n        stateValue.value = value;\n      },\n      onChange: (value) => {\n        emit('change', value);\n      },\n      allowClear: attrs.allowClear !== undefined ? attrs.allowClear : props.clearable,\n      format: props.format\n    };\n  };\n  return {\n    getProps,\n    stateValue\n  };\n};\n","import moment, {Moment} from 'moment';\nimport {defineComponent} from 'vue';\nimport {baseTimePickerProps, useBaseTimePicker} from '../../../common/base-time-picker';\nimport {isNotNull} from '../../../utils/utils';\n\nexport default defineComponent({\n  name: 'DTimePicker',\n  inheritAttrs: false,\n  props: {\n    ...baseTimePickerProps\n  },\n  setup(props, {emit, attrs}) {\n    const convertValue = (value: string) => {\n      if (!value) {\n        return undefined;\n      }\n      if (typeof value === 'string') {\n        return moment(value, props.format as string);\n      } else {\n        return moment(value);\n      }\n    };\n    const convertValueBack = (value: Moment) => {\n      if (isNotNull(value)) {\n        return value.format(props.format as string);\n      }\n      return value;\n    };\n    const {\n      getProps,\n      stateValue\n    } = useBaseTimePicker(props, {emit, attrs, convertValue, convertValueBack, valueProp: 'value'});\n    return {\n      getProps,\n      stateValue\n    };\n  },\n  render() {\n    return <a-time-picker {...{\n      ...this.getProps()\n    }}/>;\n  }\n});\n","import {computed, PropType, ref, watch} from 'vue';\n\nexport const baseTimeRangePickerProps = {\n  value: Array,\n  valueType: {\n    type: String as PropType<'string' | 'array'>,\n    default: 'array'\n  },\n  separator: {\n    type: String as PropType<string>,\n    default: '-'\n  },\n  clearable: {\n    type: Boolean as PropType<boolean>,\n    default: false\n  },\n  placeholder: {\n    type: Array as PropType<string[]>,\n    default: () => ['开始时间', '结束时间']\n  },\n  format: {\n    type: String as PropType<string>,\n    default: 'HH:mm:ss'\n  }\n};\n\nexport const useBaseTimeRangePicker = (props, {attrs, emit, convertValue, convertValueBack, valueProp}) => {\n  const start = ref(null);\n  const end = ref(null);\n  watch(() => props.value, (value: any) => {\n    const convertedValue = convertValue(value);\n    if (!convertedValue) {\n      start.value = null;\n      end.value = null;\n    } else if (start.value !== convertedValue[0] || end.value !== convertedValue[1]) {\n      start.value = convertedValue[0];\n      end.value = convertedValue[1];\n    }\n  }, {immediate: true});\n  watch(() => [start.value, end.value], (v) => {\n    const convertedValue = convertValueBack(v);\n    emit(`update:${valueProp}`, convertedValue);\n  }, {deep: true});\n  const fieldProps = computed(() => {\n    const localProps = {...attrs};\n    delete localProps.value;\n    delete localProps[`onUpdate:${valueProp}`];\n    return localProps;\n  });\n  return {\n    fieldProps,\n    start,\n    end\n  };\n};\n","import {defineComponent} from 'vue';\nimport {baseTimeRangePickerProps, useBaseTimeRangePicker} from '../../../common/base-time-range-picker';\nimport DTimePicker from './time-picker';\nimport './time-range-picker.less';\n\nexport default defineComponent({\n  name: 'DTimeRangePicker',\n  components: {\n    DTimePicker\n  },\n  inheritAttrs: false,\n  props: {\n    ...baseTimeRangePickerProps\n  },\n  setup(props, {attrs, emit}) {\n    const convertValue = (value: Array<string> | string): string[] => {\n      if (!value) {\n        return [null, null];\n      }\n      if (props.valueType === 'string') {\n        return (value as string).split(props.separator as string).map(it => it);\n      }\n      return (value as string[]).map(it => it);\n    };\n    const convertValueBack = (value) => {\n      if (props.valueType === 'string') {\n        return value.join(props.separator);\n      }\n      return value;\n    };\n    const {\n      fieldProps,\n      start,\n      end\n    } = useBaseTimeRangePicker(props,\n        {emit, attrs, convertValue, convertValueBack, valueProp: 'value'});\n    return {\n      fieldProps,\n      start,\n      end\n    };\n  },\n  render() {\n    return (\n        <div class=\"d-time-range-picker\">\n          <div>\n            <d-time-picker {...this.fieldProps}\n                           v-model={[this.start, 'value']}\n                           allow-clear={this.clearable || this.$attrs.allowClear}\n                           format={this.format}\n                           placeholder={this.placeholder[0]}/>\n            <span class=\"d-time-range-picker-separator\">{this.separator}</span>\n            <d-time-picker {...this.fieldProps}\n                           v-model={[this.end, 'value']}\n                           allow-clear={this.clearable || this.$attrs.allowClear}\n                           format={this.format}\n                           placeholder={this.placeholder[1]}/>\n          </div>\n        </div>\n    );\n  }\n});\n","import {App} from 'vue';\nimport TimePicker from './time-picker';\nimport TimeRangePicker from './time-range-picker';\n\nTimePicker.RangePicker = TimeRangePicker;\nTimePicker.install = (app: App) => {\n  app.component(TimePicker.name, TimePicker);\n  app.component(TimeRangePicker.name, TimeRangePicker);\n};\n\nexport default TimePicker;\n","import {Select} from 'ant-design-vue';\nimport {defineComponent, PropType} from 'vue';\nimport {isNull} from '../../utils/utils';\nimport {useOptions} from './utils';\n\n\nexport default defineComponent({\n  name: 'DSelect',\n  props: {\n    multiple: {\n      type: Boolean as PropType<boolean>, default: false\n    },\n    options: {\n      type: Array\n    },\n    clearable: {\n      type: Boolean as PropType<boolean>, default: true\n    },\n    labelProperty: {\n      type: String, default: 'label'\n    },\n    valueProperty: {\n      type: String, default: 'value'\n    },\n    filterOption: {\n      type: [Boolean, Function],\n      default: () => {\n        return (value, option) => {\n          if (isNull(value) || value === '') {\n            return true;\n          }\n          return option.label.toString().includes(value)\n              || option.value.toString().includes(value);\n        };\n      }\n    }\n  },\n  setup(props) {\n    const {options: localOptions} = useOptions(props);\n    return {localOptions};\n  },\n  render() {\n    const props: any = {\n      ...this.$props,\n      ...this.$attrs,\n      mode: this.multiple ? 'multiple' : this.$attrs.mode,\n      allowClear: this.clearable ? true : this.$attrs.allowClear,\n      options: this.localOptions\n    };\n    return <Select {...props}/>;\n  }\n});\n","import {ComponentInternalInstance} from '@vue/runtime-core';\nimport AsyncValidator from 'async-validator';\nimport debounce from 'lodash.debounce';\nimport {\n  computed,\n  ComputedRef,\n  defineComponent,\n  getCurrentInstance,\n  inject,\n  nextTick,\n  onBeforeUnmount,\n  PropType,\n  provide,\n  ref,\n  VNode\n} from 'vue';\nimport {ValidateRules} from '../../../../../types';\nimport {getPropByPath, noop} from '../../utils';\n\nexport interface FormItemProvider {\n  validate: (trigger?: string, callback?) => void;\n  setControl: (control: ComponentInternalInstance) => void;\n  onBlur: (e) => void;\n  onChange: (e?) => void;\n}\n\nexport default defineComponent({\n  name: 'DFormItem',\n  props: {\n    hasFeedback: {\n      type: Boolean as PropType<boolean>,\n      default: false\n    },\n    help: {\n      type: String as PropType<string>\n    },\n    label: {\n      type: [String, Object] as PropType<string | VNode>,\n      default: ''\n    },\n    labelWidth: {\n      type: [String, Number] as PropType<any>\n    },\n    labelPosition: {\n      type: String as PropType<'left' | 'right'>\n    },\n    name: {\n      type: String as PropType<string>,\n      default: ''\n    },\n    required: {\n      type: Boolean as PropType<boolean>,\n      default: false\n    },\n    rules: {\n      type: [Object, Array] as PropType<any>\n    },\n    validateStatus: {\n      type: String as PropType<string>\n    },\n    value: {\n      type: [Object, String, Number, Array, Boolean]\n    }\n  },\n  emits: ['validate'],\n  setup(props, {emit, attrs}) {\n    const control = ref(null);\n    const currentHelp = ref('');\n    const currentValidateStatus = ref('');\n    const form: { value: any } = inject('form', () => undefined) as any;\n    const validateDisabled = ref(true);\n\n    const fieldValue = computed(() => {\n      if (props.value !== null && props.value !== undefined) {\n        return props.value;\n      }\n      const model = form && form.value.model;\n      if (!model || !props.name) {\n        return;\n      }\n\n      let path = props.name as string;\n      if (path.indexOf(':') !== -1) {\n        path = path.replace(/:/, '.');\n      }\n      return getPropByPath(model, path, true).v;\n    });\n    const isRequired = computed(() => {\n      if (props.required) {\n        return props.required;\n      } else {\n        return getRules().some(it => it.required);\n      }\n    });\n    const labelCol = computed(() => {\n      let labelCol: any = {};\n      if (attrs['label-col']) {\n        labelCol = attrs['label-col'];\n      }\n      if (form && form.value.labelCol) {\n        if (typeof form.value.labelCol === 'number') {\n          labelCol.span = form.value.labelCol;\n        } else {\n          labelCol = form.value.labelCol;\n        }\n      }\n      labelCol.style = labelStyle.value;\n      return labelCol;\n    });\n    const labelStyle = computed(() => {\n      const labelWidth = props.labelWidth ? props.labelWidth : (form && form.value.labelWidth);\n      const labelPosition = props.labelPosition ? props.labelPosition : (form && form.value.labelPosition) || 'right';\n      const style: any = {};\n      if (labelWidth) {\n        style.width = typeof labelWidth === 'number' ? (labelWidth + 'px') : labelWidth;\n        style.float = 'left';\n        style.textAlign = labelPosition;\n      }\n      return style;\n    });\n    const wrapperCol = computed(() => {\n      let wrapperCol: any = {};\n      if (attrs['wrapper-col']) {\n        wrapperCol = attrs['wrapper-col'];\n      }\n      if (form && form.value.wrapperCol) {\n        if (typeof form.value.wrapperCol === 'number') {\n          wrapperCol.span = form.value.wrapperCol;\n        } else {\n          wrapperCol = form.value.wrapperCol;\n        }\n      } else if (form && form.value.labelCol) {\n        if (typeof form.value.labelCol === 'number') {\n          wrapperCol.span = 24 - form.value.labelCol;\n        }\n      }\n      wrapperCol.style = wrapperStyle.value;\n      return wrapperCol;\n    });\n    const wrapperStyle = computed(() => {\n      return {};\n    });\n    const focus = () => {\n      if (control.value && control.value.focus.bind(control.value).bind(control.value).bind(control.value).bind(control.value).bind(control.value)) {\n        control.value.focus();\n      }\n    };\n    const getFilteredRule = (trigger) => {\n      const rules = getRules();\n      return rules.filter(rule => {\n        if (!rule.trigger || trigger === '') {\n          return true;\n        }\n        if (Array.isArray(rule.trigger)) {\n          return rule.trigger.indexOf(trigger) > -1;\n        } else {\n          return rule.trigger === trigger;\n        }\n      }).map(rule => Object.assign({}, rule));\n    };\n    const getRules = () => {\n      let formRules: ValidateRules = form && form.value.getRules();\n      const selfRules = props.rules;\n      const requiredRule = props.required !== undefined ? {required: props.required} : [];\n      const prop = getPropByPath(formRules, props.name || '');\n      formRules = formRules ? (prop.o[props.name as string || ''] || prop.v) : [];\n      return [].concat(selfRules || formRules || []).concat(requiredRule);\n    };\n    const onFieldBlur = () => {\n      validate('blur');\n    };\n    const onFieldChange = () => {\n      if (validateDisabled.value) {\n        validateDisabled.value = false;\n        return;\n      }\n      validate('change');\n    };\n    const validate = debounce((trigger, callback = noop) => {\n      nextTick().then(() => {\n        validateDisabled.value = false;\n        const rules = getFilteredRule(trigger);\n        if ((!rules || rules.length === 0) && props.required === undefined) {\n          callback();\n          return true;\n        }\n        currentValidateStatus.value = 'validating';\n        const descriptor = {};\n        if (rules && rules.length > 0) {\n          rules.forEach(rule => {\n            delete rule.trigger;\n          });\n        }\n        descriptor[props.name as string] = rules;\n        const validator = new AsyncValidator(descriptor);\n        const model = {\n          [props.name as string]: fieldValue.value\n        };\n        validator.validate(model, {firstFields: true}, (errors, invalidFields) => {\n          currentValidateStatus.value = !errors ? 'success' : 'error';\n          currentHelp.value = errors ? errors[0].message : '';\n          callback(currentHelp.value, invalidFields);\n          emit('validate', !errors, errors);\n          form && form.value.emit('validate', props.name, !errors, currentHelp.value || null);\n        });\n      });\n    }, 300);\n    const instance = getCurrentInstance();\n    onBeforeUnmount(() => {\n      if (props.name) {\n        form.value.removeField(instance);\n      }\n    });\n    if (props.name) {\n      form.value.addField(instance);\n    }\n    const formItem: ComputedRef<FormItemProvider> = computed(() => ({\n      ...props,\n      validate,\n      setControl: (localControl) => {\n        control.value = localControl;\n      },\n      onBlur: onFieldBlur,\n      onChange: onFieldChange\n    }));\n    provide('formItem', formItem);\n    return {\n      control,\n      currentHelp,\n      currentValidateStatus,\n      form,\n      validateDisabled,\n      fieldValue,\n      isRequired,\n      labelCol,\n      labelStyle,\n      wrapperCol,\n      wrapperStyle,\n      focus,\n      getFilteredRule,\n      getRules,\n      onFieldBlur,\n      onFieldChange,\n      validate\n    };\n  },\n  render() {\n    const props: any = {\n      ...this.$attrs,\n      ...this.$props\n    };\n    const label = props.label;\n    const slots = {...this.$slots};\n    if (typeof props.label === 'object' || slots.label) {\n      slots.label = this.$slots.label || (() => label);\n      delete props.label;\n    }\n    if (this.help || this.currentHelp) {\n      props.help = this.help || this.currentHelp;\n    } else {\n      props.help = undefined;\n    }\n    props.labelCol = this.labelCol;\n    props.validateStatus = this.validateStatus || this.currentValidateStatus;\n    props.wrapperCol = this.wrapperCol;\n    return <a-form-item {...props}\n                        v-slots={slots}/>;\n  }\n});\n","import chunk from 'lodash.chunk';\nimport {defineComponent, PropType} from 'vue';\nimport {useOptions} from './utils';\n\nexport default defineComponent({\n  name: 'DCheckboxGroup',\n  props: {\n    options: Array,\n    span: Number as PropType<number>,\n    labelProperty: {\n      type: String, default: 'label'\n    },\n    valueProperty: {\n      type: String, default: 'value'\n    }\n  },\n  setup(props) {\n    const {options: localOptions} = useOptions(props);\n    return {localOptions};\n  },\n  render() {\n    const props = {\n      ...this.$attrs\n    };\n    const slots = {\n      ...this.$slots\n    };\n    if (this.localOptions && this.span) {\n      const cols = Math.abs(24 / (this.span as number));\n      const chunks = chunk(this.localOptions, cols);\n      slots.default = () => chunks.map(c => (\n          <a-row>\n            {\n              c.map(o => (\n                  <a-col span={this.span}>\n                    <a-checkbox {...o}>{o.label}</a-checkbox>\n                  </a-col>\n              ))\n            }\n          </a-row>\n      ));\n    } else {\n      props.options = this.localOptions;\n    }\n    return <a-checkbox-group {...props}\n                             v-slots={slots}/>;\n  }\n});\n","import chunk from 'lodash.chunk';\nimport {defineComponent, PropType} from 'vue';\nimport {useOptions} from './utils';\n\nexport default defineComponent({\n  name: 'DRadioGroup',\n  props: {\n    options: Array,\n    span: Number as PropType<number>,\n    labelProperty: {\n      type: String, default: 'label'\n    },\n    valueProperty: {\n      type: String, default: 'value'\n    }\n  },\n  setup(props) {\n    const {options: localOptions} = useOptions(props);\n    return {localOptions};\n  },\n  render() {\n    const props = {\n      ...this.$attrs\n    };\n    const slots = {\n      ...this.$slots\n    };\n    if (this.localOptions && this.span) {\n      const cols = Math.abs(24 / (this.span as number));\n      const chunks = chunk(this.localOptions, cols);\n      slots.default = () => chunks.map(c => (\n          <a-row>\n            {\n              c.map(o => (\n                  <a-col span={this.span}>\n                    <a-radio {...o}>{o.label}</a-radio>\n                  </a-col>\n              ))\n            }\n          </a-row>\n      ));\n    } else {\n      props.options = this.localOptions;\n    }\n    return <a-radio-group {...props}\n                          v-slots={slots}/>;\n  }\n});\n","/*\n  @Prop([Array, Object])\n  public value: { [key: string]: any } | Array<{ [key: string]: any }>;\n  @Prop(Array)\n  public pathPrefix: string[];\n  public currentValue: { [key: string]: any } | Array<{ [key: string]: any }> = null;\n  @Inject()\n  public store: SchemaFormStore;\n\n */\n\nimport {SchemaFormStoreKey} from '../utils/key';\nimport {renderField} from './utils';\nimport {SchemaFormField, SchemaFormStore} from '../../../types';\nimport {inject, Ref, ref } from 'vue';\n\nexport const baseFieldComponentProps = {\n  value: [Object, Array],\n  pathPrefix: Array\n};\n\nexport const useBaseFieldComponent = (props, ctx) => {\n  const currentValue: Ref<{ [key: string]: any } | Array<{ [key: string]: any }>> = ref(null);\n  const store: SchemaFormStore = inject(SchemaFormStoreKey);\n  return {\n    currentValue, store,\n    renderFormField(field: SchemaFormField, currentValue: { [p: string]: any } | Array<{ [p: string]: any }>, index: number, wrap: boolean) {\n      return renderField(props.pathPrefix, store, field, currentValue, index, wrap, ctx.emit);\n    }\n  };\n};\n","import {PlusOutlined} from '@ant-design/icons-vue';\nimport {computed, defineComponent, watch} from 'vue';\nimport {isEqual} from '../uform/utils';\nimport {transformFormProps} from '../config';\nimport {DESKTOP, getButtonComponent, getFormComponent, getRowComponent, MOBILE} from '../utils/utils';\nimport {baseFieldComponentProps, useBaseFieldComponent} from './field-based-component';\nimport {getComponentType, getRealFields} from './utils';\n\nexport default defineComponent({\n  name: 'SchemaFormInternal',\n  inheritAttrs: false,\n  props: {\n    title: [Object, String],\n    arrayIndex: Number,\n    pathPrefix: Array,\n    definition: {type: Object, required: true},\n    schemaPath: Array,\n    inline: {type: Boolean, default: false},\n    layoutType: [String, Object],\n    layoutProps: Object,\n    ...baseFieldComponentProps\n  },\n  setup(props, ctx) {\n    const emit = ctx.emit;\n    const slots = ctx.slots;\n    const attrs = ctx.attrs;\n    const {currentValue, store, renderFormField} = useBaseFieldComponent(props, ctx);\n    const isMobile = computed(() => {\n      return store.platform === MOBILE;\n    });\n    const isDesktop = computed(() => {\n      return store.platform === DESKTOP;\n    });\n    const isDisabled = computed(() => {\n      return store.disabled;\n    });\n    const isLoading = computed(() => {\n      return store.loading;\n    });\n    const isFormDisabled = computed(() => {\n      return isDisabled.value || isLoading.value;\n    });\n    watch(() => currentValue.value, (value) => {\n      emit('update:value', value);\n      emit('change', value);\n    }, {deep: true});\n    watch(() => props.value, (value) => {\n      if (!isEqual(value, currentValue.value)) {\n        if (props.definition.array) {\n          currentValue.value = value || [];\n        } else {\n          currentValue.value = value || {};\n        }\n      } else if (!value) {\n        currentValue.value = {};\n      }\n    }, {immediate: true, deep: true});\n\n    const renderTitle = () => {\n      if (slots.title) {\n        return slots.title();\n      } else if (store.props && props.title) {\n        return <h2 class=\"form-title\">{props.title}</h2>;\n      }\n    };\n\n    const getGroups = (currentValue: { [p: string]: any } | Array<{ [p: string]: any }>) => {\n      const groups = [];\n      const spanGroups = [];\n      let lastHasSpan = false;\n      getRealFields(props.definition.fields).forEach((field, index) => {\n        const vnode = renderFormField(field, currentValue, index, true);\n        if (field.span) {\n          if (lastHasSpan) {\n            spanGroups[spanGroups.length - 1].push(field.span);\n            groups[groups.length - 1].push(vnode);\n          } else {\n            spanGroups.push([field.span]);\n            groups.push([vnode]);\n          }\n          lastHasSpan = true;\n        } else {\n          lastHasSpan = false;\n          spanGroups.push([]);\n          groups.push([vnode]);\n        }\n      });\n      return groups;\n    };\n    const renderSingleFields = () => {\n      const FormComponent: any = getFormComponent(store.platform);\n      const {definition, layoutProps, layoutType, inline} = props;\n      const groups = getGroups(currentValue.value);\n      const formProps: any = getFormProps();\n      formProps.onSubmit = e => {\n        e.preventDefault();\n      };\n      const path = [].concat(...props.pathPrefix as string[]);\n      path.pop();\n      const form = (\n        <FormComponent {...formProps}>\n          {definition.array ? renderTitle() : null}\n          {!definition.array && isDesktop.value ? renderTitle() : null}\n          {inline ? groups.reduce((a, b) => a.concat(b)) : groups.map(group => wrapGroup(group))}\n        </FormComponent>\n      );\n      if (layoutType) {\n        const LayoutComponentDef = getComponentType(store, {\n          type: layoutType as string\n        });\n        const LayoutComponentDefComponent = LayoutComponentDef.component;\n        return <LayoutComponentDefComponent {...layoutProps as any}>\n          {form}\n        </LayoutComponentDefComponent>;\n      }\n      return form;\n    };\n\n    const renderAddFormButton = () => {\n      const {definition} = props;\n      const ButtonComponent: any = getButtonComponent(store.platform);\n      if (definition.array && store.editable) {\n        return <ButtonComponent\n          {...{\n            block: true,\n            icon: <PlusOutlined/>,\n            disabled: isDisabled.value,\n            class: 'm-b',\n            onClick: () => {\n              addSubItem();\n            }\n          }}>新增一条</ButtonComponent>;\n      }\n    };\n    const addSubItem = () => {\n      currentValue.value.push({});\n    };\n\n    const wrapGroup = (group: any) => {\n      const RowComponent: any = getRowComponent(store.platform);\n      const {props: commonProps} = store;\n      if (isMobile.value || group.length === 1) {\n        return group;\n      }\n      return <RowComponent gutter={commonProps && commonProps.gutter || 0}>{group}</RowComponent>;\n    };\n    const getFormProps = () => {\n      const obj: any = {\n        inline: props.inline,\n        labelCol: attrs.labelCol,\n        title: slots.title?.() ?? props.title,\n        wrapperCol: attrs.wrapperCol,\n        disabled: isFormDisabled.value,\n        ...store.props,\n        ...attrs\n      };\n      if (attrs.labelWidth) {\n        obj.labelWidth = attrs.labelWidth;\n      }\n      if (attrs.labelPosition) {\n        obj.labelPosition = attrs.labelPosition;\n      }\n       return transformFormProps(obj, store.platform);\n    };\n    return {\n      renderSingleFields,\n      renderAddFormButton,\n      currentValue\n    };\n  },\n  render() {\n    return <div class=\"schema-form-internal\">\n      {this.renderSingleFields()}\n      {this.renderAddFormButton()}\n    </div>;\n  }\n});\n","import {defineComponent} from 'vue';\n\nexport const MobileDisplayField = defineComponent({\n  name: 'DisplayField',\n  props: {\n    value: {\n      type: [Object, String, Number, Boolean, Array]\n    },\n    title: {\n      type: [String, Object]\n    }\n  },\n  render() {\n    const {value} = this;\n    return <span>{value !== undefined && value !== null ? value.toString() : null}</span>;\n  }\n});\n\nexport default MobileDisplayField;\n","export default (props) => {\n  return <span>{props.value}</span>;\n}\n","import {defineComponent} from 'vue';\nimport {config} from '../config';\n\nexport default defineComponent({\n  name: 'RangeDisplayField',\n  props: {\n    value: Array\n  },\n  render() {\n    if (this.value) {\n      return (this.value[0] ?? config.defaultEmptyText) + ' - ' + (this.value[1] ?? config.defaultEmptyText);\n    }\n    return config.defaultEmptyText;\n  }\n});\n","import {resolveOptions} from '../utils/utils';\n\nexport default (props) => {\n  const {field, value} = props;\n  const options = resolveOptions(field);\n  const valueProperty = field.props.valueProperty || 'value';\n\n  const labelProperty = field.props.labelProperty || 'label';\n\n  if (value) {\n    let selected = [];\n    if (field.array) {\n      selected = options.filter(it => value.includes(it[valueProperty]) || value.includes(it));\n    } else {\n      selected = options.filter(it => value === it[valueProperty] || value === it);\n    }\n    return <span>{selected.map(it => typeof it === 'object' ? it[labelProperty] : it).join('、')}</span>;\n  } else {\n    return <span/>;\n  }\n}\n","import { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'SwitchDisplay',\n  props: {\n    value: Boolean,\n    onLabel: [String, Object],\n    offLabel: [String, Object]\n  },\n  render() {\n    if (this.value) {\n      return this.onLabel ?? '开';\n    } else {\n      return this.offLabel ?? '关';\n    }\n  }\n});\n","import moment from 'moment';\n\nexport const formatTime = (value: Date | number | string, fmt?: string, pretty = false): string => {\n  let text = '';\n  const format = 'YYYY-MM-DD HH:mm:ss';\n  let date: Date;\n  if (typeof value === 'string') {\n    const reg1 = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z/;\n    if (reg1.test(value)) {\n      date = moment(value, 'YYYY-MM-DDTHH:mm:ss.sZ').toDate();\n      date.setHours(date.getHours() + 8);\n    } else {\n      text = value;\n    }\n  } else {\n    date = new Date(value);\n    if (!value) {\n      text = '';\n    } else {\n      text = moment(value).format(format);\n      if (fmt) {\n        text = moment(value).format(fmt);\n      }\n    }\n  }\n  if (pretty && date) {\n    const now = new Date();\n    const nowTime = now.getTime();\n    const difference: number = nowTime - date.getTime();\n    if (difference > 0) {\n      if (difference < 1000) {\n        text = '刚刚';\n      } else if (difference < 60 * 1000) {\n        text = `${Math.floor(difference / 1000)}秒前`;\n      } else if (difference < 60 * 1000 * 60) {\n        text = `${Math.floor(difference / 1000 / 60)}分钟前`;\n      } else if (now.getFullYear() === date.getFullYear()) {\n        if (now.getMonth() === date.getMonth()\n          && now.getDay() === date.getDay()) {\n          text = moment(date).format('HH:mm:ss');\n        } else {\n          text = moment(date).format('MM-DD HH:mm:ss');\n        }\n      }\n    } else if (now.getFullYear() === date.getFullYear()) {\n      if (now.getMonth() === date.getMonth()\n        && now.getDay() === date.getDay()) {\n        text = moment(date).format('HH:mm:ss');\n      } else {\n        text = moment(date).format('MM-DD HH:mm:ss');\n      }\n    }\n  }\n  return text;\n};\n","import {formatTime} from '../utils/time';\n\nexport default (props) => {\n  const {value, definition} = props;\n  let format = 'YYYY-MM-DD HH:mm:ss';\n  if (definition.type === 'date') {\n    format = 'YYYY-MM-DD';\n  } else if (definition.type === 'month') {\n    format = 'YYYY-MM';\n  } else if (definition.type === 'year') {\n    format = 'YYYY';\n  } else if (definition.type === 'daterange') {\n    format = 'YYYY-MM-DD';\n  } else if (definition.type === 'time') {\n    format = 'HH:mm:ss';\n  }\n  if (['daterange', 'timerange'].includes(definition.type) && value) {\n    return (\n        <span>\n          <span>\n            {formatTime(value[0], format)}\n          </span>\n          <span> - </span>\n          <span>\n            {formatTime(value[1], format)}\n          </span>\n        </span>\n    );\n  }\n  return (\n      <span>\n        {formatTime(value, format)}\n      </span>\n  );\n}\n","import InternalForm from '../internal/form';\nimport {register, registerDisplay} from '../utils/register';\nimport {DESKTOP, resolveOptions, MOBILE, FieldTypes} from '../utils/utils';\nimport MobileDisplayField from './mobile-display-field';\nimport PlainDisplayField from './plain-display-field';\nimport RangeDisplayField from './range-display-field';\nimport SelectDisplayField from './select-display-field';\nimport SwitchDisplayField from './switch-display-field';\nimport TimeDisplayField from './time-display-field';\n\nregisterDisplay({\n  component: RangeDisplayField,\n  platforms: [DESKTOP, MOBILE],\n  types: FieldTypes.Range\n});\nregisterDisplay({\n  component: TimeDisplayField,\n  platforms: [DESKTOP, MOBILE],\n  types: [FieldTypes.Datetime, FieldTypes.Date, FieldTypes.Year, FieldTypes.Month, FieldTypes.DateRange,\n    FieldTypes.Time, FieldTypes.TimeRange]\n});\nregisterDisplay({\n  component: SwitchDisplayField,\n  platforms: [DESKTOP, MOBILE],\n  types: FieldTypes.Boolean\n});\nregisterDisplay({\n  component: PlainDisplayField,\n  platforms: DESKTOP,\n  types: [FieldTypes.String, FieldTypes.Text, FieldTypes.Url, FieldTypes.Integer, FieldTypes.Double, FieldTypes.Number],\n  forArray: false\n});\nregisterDisplay({\n  component: MobileDisplayField,\n  platforms: MOBILE,\n  types: [FieldTypes.String, FieldTypes.Text, FieldTypes.Url, FieldTypes.Integer, FieldTypes.Double, FieldTypes.Number],\n  forArray: false\n});\nregisterDisplay({\n  component: SelectDisplayField,\n  platforms: [DESKTOP, MOBILE],\n  types: [FieldTypes.Select, FieldTypes.ExpandSelect],\n  forArray: null,\n  getProps: field => {\n    return {options: resolveOptions(field), field};\n  }\n});\nregister(InternalForm, [DESKTOP, MOBILE], FieldTypes.Object, false, (definition, platform) => {\n  return {\n    platform,\n    definition: {fields: definition.fields}\n  };\n});\nregisterDisplay({\n  component: InternalForm,\n  platforms: [DESKTOP, MOBILE],\n  types: FieldTypes.Object,\n  forArray: false,\n  getProps: (definition, platform) => {\n    return {\n      platform,\n      definition: {fields: definition.fields}\n    };\n  }\n});\n","export * from '../utils';\n\nconst formatRegExp = /%[sdj%]/g;\n\nexport function format(...args: any[]) {\n  let i = 1;\n  const f = args[0];\n  const len = args.length;\n  if (typeof f === 'function') {\n    return f(args.slice(1));\n  }\n  if (typeof f === 'string') {\n    const str = String(f).replace(formatRegExp, (x: string) => {\n      if (x === '%%') {\n        return '%';\n      }\n      if (i >= len) {\n        return x;\n      }\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n        case '%d':\n          return Number(args[i++]) + '';\n        case '%j':\n          try {\n            return JSON.stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n        default:\n          return x;\n      }\n    });\n    return str;\n  }\n  return f;\n}\n","import {IRuleDescription} from '../../../../../types';\nimport { isFn } from '../utils';\nexport default (\n  value: any,\n  rule: IRuleDescription,\n  values: any,\n  name: string\n) => {\n  if (isFn(rule.validator)) {\n    return rule.validator(value, rule, values, name);\n  }\n};\n","export default {\n  en: {\n    pattern: '%s value %s does not match pattern %s',\n    required: '%s is required',\n    number: '%s is not a number',\n    integer: '%s is not an integer number',\n    url: '%s is a invalid url',\n    email: '%s is not a email format',\n    ipv6: '%s is not a ipv6 format',\n    ipv4: '%s is not a ipv4 format',\n    idcard: '%s is not an idcard format',\n    taodomain: '%s is not a taobao domain format',\n    qq: '%s is not a qq number format',\n    phone: '%s is not a phone number format',\n    money: '%s is not a currency format',\n    zh: '%s is not a chinese string',\n    date: '%s is not a valid date format',\n    zip: '%s is not a zip format'\n  },\n  zh: {\n    pattern: '该字段不是一个合法的字段',\n    required: '该字段是必填字段',\n    number: '该字段不是合法的数字',\n    integer: '该字段不是合法的整型数字',\n    url: '该字段不是合法的url',\n    email: '该字段不是合法的邮箱格式',\n    ipv6: '该字段不是合法的ipv6格式',\n    ipv4: '该字段不是合法的ipv4格式',\n    idcard: '该字段不是合法的身份证格式',\n    taodomain: '该字段不符合淘系域名规则',\n    qq: '该字段不符合QQ号格式',\n    phone: '该字段不是有效的手机号',\n    money: '该字段不是有效货币格式',\n    zh: '该字段不是合法的中文字符串',\n    date: '该字段不是合法的日期格式',\n    zip: '该字段不是合法的邮编格式'\n  }\n};\n","import { getIn, each, globalThisPolyfill } from './utils';\nimport locales from './locale';\n\nconst self: any = globalThisPolyfill;\n\nexport interface ILocaleMessages {\n  [key: string]: string | ILocaleMessages;\n}\n\nexport interface ILocales {\n  [lang: string]: ILocaleMessages;\n}\n\nconst getBrowserlanguage = () => {\n  if (!self.navigator) {\n    return 'en';\n  }\n  return self.navigator.browserlanguage || self.navigator.language || 'en';\n};\n\nconst LOCALE = {\n  messages: {},\n  lang: getBrowserlanguage()\n};\n\nconst getMatchLang = (lang: string) => {\n  let find = LOCALE.lang;\n  each(LOCALE.messages, (messages: ILocaleMessages, key: string) => {\n    if (key.indexOf(lang) > -1 || String(lang).indexOf(key) > -1) {\n      find = key;\n      return false;\n    }\n  });\n  return find;\n};\n\nexport const setLocale = (locale: ILocales) => {\n  Object.assign(LOCALE.messages, locale);\n};\n\nexport const setLanguage = (lang: string) => {\n  LOCALE.lang = lang;\n};\n\nexport const getMessage = (path: string) => {\n  return (\n    getIn(LOCALE.messages, `${getMatchLang(LOCALE.lang)}.${path}`) ||\n    'field is not valid,but not found error message.'\n  );\n};\n\nsetLocale(locales);\n","import {IRuleDescription} from '../../../../../types';\nimport { isRegExp, format, isFn, isEmpty } from '../utils';\nimport { getMessage } from '../message';\n\nexport const patternValidate = (\n  pattern: string | RegExp | ((...args: any[]) => boolean),\n  value: any,\n  message: string\n) => {\n  if (isEmpty(value)) {\n    return '';\n  }\n  if (isRegExp(pattern)) {\n    pattern.lastIndex = 0;\n  }\n  const valid = isFn(pattern)\n    ? pattern(value)\n    : isRegExp(pattern)\n    ? pattern.test(String(value))\n    : new RegExp(String(pattern)).test(String(value));\n  return !valid ? message : '';\n};\n\nexport default (\n  value: any,\n  rule: IRuleDescription,\n  values: any,\n  name: string\n) => {\n  if (rule.pattern) {\n    return patternValidate(\n      rule.pattern,\n      value,\n      format(rule.message || getMessage('pattern'), name, value, rule.pattern)\n    );\n  }\n};\n","export default {\n  url: new RegExp(\n    // protocol identifier\n    '^(?:(?:(?:https?|ftp):)?//)' +\n      // user:pass authentication\n      '(?:\\\\S+(?::\\\\S*)?@)?' +\n      '(?:' +\n      // IP address exclusion - private & local networks\n      // Reference: https://www.arin.net/knowledge/address_filters.html\n\n      // filter 10.*.*.* and 127.*.*.* adresses\n      '(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})' +\n      // filter 169.254.*.* and 192.168.*.*\n      '(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})' +\n      // filter 172.16.0.0 - 172.31.255.255\n      // TODO: add test to validate that it invalides address in 16-31 range\n      '(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})' +\n      // IP address dotted notation octets\n      // excludes loopback network 0.0.0.0\n      // excludes reserved space >= 224.0.0.0\n      // excludes network & broacast addresses\n      // (first & last IP address of each class)\n\n      // filter 1. part for 1-223\n      '(?:22[0-3]|2[01]\\\\d|[1-9]\\\\d?|1\\\\d\\\\d)' +\n      // filter 2. and 3. part for 0-255\n      '(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1?\\\\d{1,2})){2}' +\n      // filter 4. part for 1-254\n      '(?:\\\\.(?:25[0-4]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d?))' +\n      '|' +\n      // host name\n      '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)' +\n      // domain name\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*' +\n      // TLD identifier\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))' +\n      ')' +\n      // port number\n      '(?::\\\\d{2,5})?' +\n      // resource path\n      '(?:/\\\\S*)?$'\n  ),\n  email: /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/,\n\n  ipv6: /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:)(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\n\n  ipv4: /^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/,\n\n  number: /^[+-]?\\d+(\\.\\d+)?$/,\n\n  integer: /^[+-]?\\d+$/,\n\n  qq: /^(\\+?[1-9]\\d*|0)$/,\n\n  phone: /^\\d{3}-\\d{8}$|^\\d{4}-\\d{7}$|^\\d{11}$/,\n\n  idcard: /^\\d{15}$|^\\d{17}(\\d|x|X)$/,\n\n  taodomain: /^(https?:)?\\/\\/[a-zA-Z0-9.-]+\\.(taobao|tmall|alitrip|yao\\.95095)(\\.daily)?\\.(com|net|hk(\\/hk)?)/,\n\n  money: /^([\\u0024\\u00A2\\u00A3\\u00A4\\u20AC\\u00A5\\u20B1\\20B9\\uFFE5]\\s*)(\\d+,?)+\\.?\\d*\\s*$/,\n\n  zh: /^[\\u4e00-\\u9fa5]+$/,\n\n  date: /^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\131)|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\\229)(\\s+([01][0-9]:|2[0-3]:)?[0-5][0-9]:[0-5][0-9])?$/,\n\n  zip: /^[0-9]{6}$/\n};\n","import {IRuleDescription} from '../../../../../types';\nimport { format } from '../utils';\nimport { getMessage } from '../message';\nimport { patternValidate } from './pattern';\nimport RegExpPatterns from './regexp';\n\nconst PatternKeys = Object.keys(RegExpPatterns);\n\nconst batchValidate = (\n  value: any,\n  rule: IRuleDescription,\n  values: any,\n  name: string\n) => {\n  for (let i = 0; i < PatternKeys.length; i++) {\n    if (PatternKeys[i] === rule.format) {\n      return patternValidate(\n        RegExpPatterns[PatternKeys[i]],\n        value,\n        format(rule.message || getMessage(rule.format), name, value)\n      );\n    }\n  }\n};\n\nexport default (\n  value: any,\n  rule: IRuleDescription,\n  values: any,\n  name: string\n) => {\n  return batchValidate(value, rule, values, name);\n};\n","import {IRuleDescription} from '../../../../../types';\nimport {isNotNull} from '../../../utils/utils';\n\n\nconst batchValidate = (\n    value: any,\n    rule: IRuleDescription,\n    values: any,\n    name: string\n) => {\n  if (isNotNull(rule.min)) {\n    if (typeof value === 'number' && value < rule.min) {\n      return rule.message || `${name}不能小于${rule.min}`;\n    }\n    if (typeof value === 'string' && value.length < rule.min) {\n      return rule.message || `${name}长度不能小于${rule.min}`;\n    }\n    if (Array.isArray(value) && value.length < rule.min) {\n      return rule.message || `${name}长度不能小于${rule.min}`;\n    }\n  }\n  if (isNotNull(rule.max)) {\n    if (typeof value === 'number' && value > rule.max) {\n      return rule.message || `${name}不能大于${rule.max}`;\n    }\n    if (typeof value === 'string' && value.length > rule.max) {\n      return rule.message || `${name}长度不能大于${rule.max}`;\n    }\n    if (Array.isArray(value) && value.length > rule.max) {\n      return rule.message || `${name}长度不能大于${rule.max}`;\n    }\n  }\n  return '';\n};\n\nexport default (\n    value: any,\n    rule: IRuleDescription,\n    values: any,\n    name: string\n) => {\n  return batchValidate(value, rule, values, name);\n};\n","import {IRuleDescription} from '../../../../../types';\nimport {getMessage} from '../message';\nimport {format, isEmpty} from '../utils';\nconst has = Object.prototype.hasOwnProperty;\n\nexport const isValidateEmpty = (value: any) => {\n  if (typeof value === 'object' && !(value instanceof Date)) {\n    for (const key in value) {\n      if (has(key)) {\n        if (!isValidateEmpty(value[key])) {\n          return false;\n        }\n      }\n    }\n    return true;\n  } else {\n    return isEmpty(value);\n  }\n};\n\nexport default (\n    value: any,\n    rule: IRuleDescription,\n    values: any,\n    name: string\n) => {\n  if (rule.required) {\n    return isValidateEmpty(value)\n        ? format(rule.message || getMessage('required'), name)\n        : '';\n  }\n};\n","import {IRuleDescription, Rule} from '../../../../../types';\nimport {isFn, isObj, isStr} from '../utils';\nimport customValidate from './custom';\nimport formatValidate from './format';\nimport lengthValidate from './length';\nimport patternValidate from './pattern';\nimport requiredValidate from './required';\n/*\n * rule : {\n     format:\"\",\n *   required:true,\n *   message:\"\",\n *   pattern:\"\",\n *   validator(value,rule,callback,values){\n *   }\n * }\n *\n**/\n\nconst batchInvoke = (...fns: Array<(...args: any[]) => void>) => {\n  return (...args: any[]) => {\n    return fns.map(fn => Promise.resolve(fn(...args)));\n  };\n};\n\nconst batchValidate = (\n    value: any,\n    rule: IRuleDescription,\n    values: any,\n    name: string\n) => {\n  return Promise.all(\n      batchInvoke(\n          formatValidate,\n          requiredValidate,\n          patternValidate,\n          customValidate,\n          lengthValidate\n      )(value, rule, values, name)\n  );\n};\n\nexport const validate = (value: any, rule: Rule, values: any, name: string) => {\n  const newRule = isObj(rule)\n      ? rule\n      : isStr(rule)\n          ? {format: rule}\n          : isFn(rule)\n              ? {validator: rule}\n              : {};\n  return batchValidate(value, newRule as IRuleDescription, values, name);\n};\n","import {IValidateResponse, ValidateHandler} from '../../../../types';\nimport {FieldDefinition} from '../../internal/utils';\nimport clone from 'lodash.clonedeep';\nimport {each, format, isArr, isEmpty, isEqual, isFn, reduce, toArr} from './utils';\nimport {validate} from './validators';\n\nexport * from './message';\n\nconst flatArr = (arr: any[]) => {\n  return reduce(\n    arr,\n    (buf: any, item: any) => {\n      return isArr(item)\n        ? buf.concat(flatArr(item))\n        : item\n          ? buf.concat(item)\n          : buf;\n    },\n    []\n  );\n};\n\nexport {format};\n\nexport const runValidation = async (\n  values: any,\n  fieldMap: { [key: string]: FieldDefinition },\n  forceUpdate?: boolean | ValidateHandler,\n  callback?: ValidateHandler\n): Promise<IValidateResponse[]> => {\n  const queue = [];\n  if (isFn(forceUpdate)) {\n    callback = forceUpdate as ValidateHandler;\n    forceUpdate = false;\n  }\n  each(fieldMap, (field: FieldDefinition, name) => {\n    const value = field.value;\n    if (field.visible === false ||\n      field.display === false ||\n      field.editable === false) {\n      return;\n    }\n    if (!forceUpdate) {\n      if (isEmpty(field.lastValidateValue) && isEmpty(value)) {\n        return;\n      }\n      if (isEqual(field.lastValidateValue, value)) {\n        return;\n      }\n    }\n    const title = typeof field.title === 'string' ? field.title : name;\n    const rafId = setTimeout(() => {\n      field.loading = true;\n      field.dirty = true;\n      if (field.notify) {\n        field.notify();\n      }\n    }, 100);\n    queue.push(\n      Promise.all(\n        field.getRules().map(rule => {\n          return validate(value, rule, values, title || name);\n        })\n      ).then(errors => {\n        clearTimeout(rafId);\n        const lastFieldErrors = toArr(field.errors);\n        const lastValid = field.valid;\n        const lastLoading = field.loading;\n        const newErrors = flatArr(toArr(errors));\n        const effectErrors = flatArr(toArr(field.effectErrors));\n        field.loading = false;\n        field.errors = newErrors;\n        field.effectErrors = effectErrors;\n        if (forceUpdate) {\n          if (newErrors.length || effectErrors.length) {\n            field.valid = false;\n            field.invalid = true;\n          } else {\n            field.valid = true;\n            field.invalid = false;\n          }\n          field.dirty = true;\n        } else {\n          if (!field.pristine) {\n            if (newErrors.length || effectErrors.length) {\n              field.valid = false;\n              field.invalid = true;\n            } else {\n              field.valid = true;\n              field.invalid = false;\n            }\n            if (\n              !isEqual(lastValid, field.valid) ||\n              !isEqual(lastFieldErrors, field.errors)\n            ) {\n              field.dirty = true;\n            }\n          }\n        }\n\n        if (field.loading !== lastLoading) {\n          field.dirty = true;\n        }\n\n        if (field.dirty && field.notify) {\n          field.notify();\n        }\n        field.lastValidateValue = clone(value);\n        return {\n          name,\n          value,\n          field,\n          invalid: field.invalid,\n          valid: field.valid,\n          errors: newErrors.concat(effectErrors)\n        };\n      })\n    );\n  });\n\n  return Promise.all(queue).then((response: IValidateResponse[]) => {\n    const errors = response.filter(it => it.invalid);\n    if (isFn(callback)) {\n      callback(errors);\n    }\n    return errors;\n  });\n};\n\nexport default runValidation;\n","import {Subject} from 'rxjs';\nimport {nextTick} from 'vue';\nimport {EffectsContext, EffectsHandlers, Paths, SchemaFormStore} from '../../../types';\nimport {FieldDefinition, SchemaFormEvents} from '../internal/utils';\nimport runValidation from '../uform/validator';\nimport {appendPath, findFieldPath, isFuzzyPath, isPathMatchPatterns, match, replaceLastPath, takePath} from './path';\n\nlet contextId = 1;\n\nexport const createContext = (store: SchemaFormStore, onOk: (forceValidate: boolean, callback?: (value) => any) => Promise<void>, currentValue: any): EffectsContext => {\n  const matchFields = (paths: Paths): FieldDefinition[] => {\n    const matchedPaths = match(paths, store.fields as any);\n    return matchedPaths.map(path => store.fields[path]).filter(it => !!it) as any;\n  };\n  const subscribes = {};\n  const subscribe = (e: string, pathsOrHandler, handler) => {\n    if (!subscribes[e]) {\n      subscribes[e] = new Subject();\n    }\n    subscribes[e].subscribe({\n      next: (v) => {\n        nextTick(() => {\n          if (typeof pathsOrHandler === 'function') {\n            pathsOrHandler(v);\n          } else {\n            const patterns = typeof pathsOrHandler === 'string' ? [pathsOrHandler]\n              : (Array.isArray(pathsOrHandler) ? (pathsOrHandler as any[]).map((item: any) => {\n                if (typeof item === 'string') {\n                  return item;\n                } else {\n                  return findFieldPath(item, store.fields as any);\n                }\n              }) : [findFieldPath(pathsOrHandler, store.fields as any)]);\n            if (isPathMatchPatterns(v.field, patterns)) {\n              if (e === SchemaFormEvents.fieldChange || e === SchemaFormEvents.fieldCreate) {\n                handler(v.value, v.path);\n              } else if ([SchemaFormEvents.fieldFocus, SchemaFormEvents.fieldBlur].includes(e as any)) {\n                handler(v.path, v.event);\n              } else {\n                handler(v.value);\n              }\n            }\n          }\n        });\n      }\n    });\n  };\n  const trigger = (event: string, value: any) => {\n    nextTick(() => {\n      const subject = store.context.subscribes[event];\n      if (subject) {\n        subject.next(value);\n      }\n    });\n  };\n  const context: EffectsContext = (...paths) => {\n    return {\n      setTitle: (title) => {\n        matchFields(paths).forEach(field => {\n          if (typeof title === 'function') {\n            field.title = title(field);\n          } else {\n            field.title = title;\n          }\n        });\n        return context(...paths);\n      },\n      paths: () => {\n        return context(...paths).fields().map(it => it.plainPath);\n      },\n      fields: () => {\n        return matchFields(paths);\n      },\n      field: () => {\n        const fields = matchFields(paths);\n        if (fields.length >= 2) {\n          throw new Error(paths + '匹配到超过1个字段');\n        }\n        return fields[0];\n      },\n      toggle: (): EffectsHandlers => {\n        matchFields(paths).forEach(field => {\n          field.visible = !field.visible;\n        });\n        return context(...paths);\n      },\n      value: (value: any) => {\n        const res = matchFields(paths).map(it => it.setGetValue(value));\n        if (value === undefined) {\n          if (paths.length === 1 && !isFuzzyPath(paths[0])) {\n            return res[0];\n          } else {\n            return res;\n          }\n        }\n      },\n      hide: (hide?: boolean): EffectsHandlers => {\n        matchFields(paths).forEach(field => {\n          if (typeof hide === 'boolean') {\n            field.visible = !hide;\n          } else {\n            field.visible = false;\n          }\n        });\n        return context(...paths);\n      },\n      show: (show?: boolean): EffectsHandlers => {\n        matchFields(paths).forEach(field => {\n          if (typeof show === 'boolean') {\n            field.visible = show;\n          } else {\n            field.visible = true;\n          }\n        });\n        return context(...paths);\n      },\n      setEnum: (options: any): EffectsHandlers => {\n        matchFields(paths).forEach(field => {\n          field.enum = options;\n        });\n        return context(...paths);\n      },\n      setFieldProps: (props): EffectsHandlers => {\n        matchFields(paths).forEach(field => {\n          field.props = Object.assign({}, field.props, props);\n        });\n        return context(...paths);\n      },\n      onFieldCreate: (callback): EffectsHandlers => {\n        subscribe(SchemaFormEvents.fieldCreate, paths, callback);\n        return context(...paths);\n      },\n      onFieldBlur: (callback): EffectsHandlers => {\n        subscribe(SchemaFormEvents.fieldBlur, paths, callback);\n        return context(...paths);\n      },\n      setDisplayValue: (value: any) => {\n        matchFields(paths).forEach(field => {\n          field.displayValue = value;\n        });\n        return context(...paths);\n      },\n      onFieldFocus: (callback): EffectsHandlers => {\n        subscribe(SchemaFormEvents.fieldFocus, paths, callback);\n        return context(...paths);\n      },\n      required: (required: boolean) => {\n        if (typeof required === 'boolean') {\n          matchFields(paths).forEach(field => {\n            field.required = required;\n          });\n        }\n        return context(...paths);\n      },\n      onFieldCreateOrChange: (callback): EffectsHandlers => {\n        return context(...paths).onFieldCreate(callback)\n          .onFieldChange(callback);\n      },\n      onFieldChange: (callback): EffectsHandlers => {\n        subscribe(SchemaFormEvents.fieldChange, paths, callback);\n        return context(...paths);\n      },\n      subscribe: (event: string, callback): EffectsHandlers => {\n        subscribe(event, paths, callback);\n        return context(...paths);\n      },\n      trigger: (event: string, value: any): EffectsHandlers => {\n        matchFields(paths).forEach(field => {\n          trigger(event, {\n            path: field.plainPath,\n            value,\n            field\n          });\n        });\n        return context(...paths);\n      },\n      takePath: (number: number): EffectsHandlers => {\n        if (paths.length === 0) {\n          return context();\n        } else {\n          if (typeof paths[0] === 'string') {\n            return context(...takePath(paths as string[], number));\n          } else {\n            return context(...takePath((paths).map((it: any) => findFieldPath(\n              it, store.fields as any\n            )), number));\n          }\n        }\n      },\n      appendPath: (suffix: string): EffectsHandlers => {\n        if (paths.length === 0) {\n          return context();\n        } else {\n          if (typeof paths[0] === 'string') {\n            return context(...appendPath(paths as string[], suffix));\n          } else {\n            return context(...appendPath((paths).map((it: any) => findFieldPath(it, store.fields as any)), suffix));\n          }\n        }\n      },\n      disable: (disable?: boolean) => {\n        matchFields(paths).forEach(field => {\n          if (typeof disable === 'boolean') {\n            field.disabled = disable;\n          } else {\n            field.disabled = true;\n          }\n        });\n        return context(...paths);\n      },\n      editable: (value = true) => {\n        matchFields(paths).forEach(field => {\n          field.editable = value;\n        });\n        return context(...paths);\n      },\n      readonly: (value = true) => {\n        matchFields(paths).forEach(field => {\n          field.editable = !value;\n        });\n        return context(...paths);\n      },\n      isEnabled: (): boolean => {\n        return !matchFields(paths).some(it => it.disabled);\n      },\n      enable: (enable?: boolean) => {\n        matchFields(paths).forEach(field => {\n          if (typeof enable === 'boolean') {\n            field.disabled = !enable;\n          } else {\n            field.disabled = false;\n          }\n        });\n        return context(...paths);\n      },\n      replaceLastPath: (...last: string[]): EffectsHandlers => {\n        return context(...replaceLastPath(paths as string[], last));\n      }\n    } as EffectsHandlers;\n  };\n  context.subscribe = subscribe;\n  context.submit = (forceValidate: boolean, callback: (value) => any) => {\n    onOk(forceValidate, callback);\n  };\n  context.validate = async (handler) => {\n    const errors = await runValidation(currentValue.value, store.fields as any, true);\n    if (handler) {\n      handler(errors, context);\n    } else {\n      return errors;\n    }\n  };\n  context.onValidate = (handler) => {\n    context.subscribe(SchemaFormEvents.validate, handler);\n  };\n  context.subscribes = subscribes;\n  context.getValue = () => {\n    return currentValue.value;\n  };\n  context.trigger = trigger;\n  store.id = contextId++;\n  return context;\n};\n","import className from 'classnames';\nimport clone from 'lodash.clonedeep';\nimport {\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  isVNode,\n  onMounted,\n  PropType,\n  provide,\n  reactive,\n  ref,\n  watch\n} from 'vue';\nimport {Action, IValidateResponse, Platform, SchemaFormComponentOptions, SchemaFormStore} from '../../types';\nimport {registerComponent} from './config';\nimport SchemaFormField from './internal/field';\nimport {renderField, SchemaFormEvents} from './internal/utils';\nimport {isEqual} from './uform/utils';\nimport runValidation from './uform/validator';\nimport {createContext} from './utils/effects';\nimport {SchemaFormFieldOperationStoreKey, SchemaFormStoreKey} from './utils/key';\nimport {ComponentStore, register, registerDisplay} from './utils/register';\nimport {LibComponents} from './utils/utils';\n\nconst SchemaForm = defineComponent({\n  field: null,\n  install: null,\n  registerComponent: register,\n  registerDisplayComponent: registerDisplay,\n  name: 'VSchemaForm',\n  inheritAttrs: false,\n  props: {\n    prefixCls: {type: String as PropType<string>, default: 'schema-form'},\n    disabled: {type: Boolean as PropType<boolean>, default: false},\n    readonly: {type: Boolean as PropType<boolean>, default: false},\n    loading: {type: Boolean as PropType<boolean>, default: false},\n    actions: {type: Array as PropType<Action[]>},\n    platform: {type: String as PropType<string>, default: 'desktop'},\n    editable: {type: Boolean as PropType<boolean>, default: true},\n    effects: {type: Function},\n    schema: {type: Object, required: true},\n    props: {type: Object},\n    value: [Object, Array],\n    title: [String, Object],\n    inline: {type: Boolean as PropType<boolean>},\n    sticky: {type: Boolean as PropType<boolean>, default: false},\n    components: {type: Array as PropType<SchemaFormComponentOptions[]>, default: () => []},\n    onChange: Function,\n    onReset: Function,\n    onCancel: Function,\n    onOk: Function,\n    onSubmit: Function\n  },\nemits: ['update:value'],\n  setup(props, {emit, slots}) {\n    const instance = getCurrentInstance();\n    const currentValue = ref(props.value || {});\n    const componentStore = new ComponentStore();\n    (props.components as SchemaFormComponentOptions[]).forEach((comp: any) => {\n      registerComponent(comp, componentStore);\n    });\n    const store: SchemaFormStore = reactive({\n      fields: {},\n      disabled: props.disabled as boolean,\n      loading: props.loading as boolean,\n      readonly: props.readonly as boolean,\n      platform: props.platform as Platform,\n      props: props.props || props.schema.props || {},\n      effects: props.effects as any,\n      inline: props.inline as boolean,\n      editable: props.editable as boolean,\n      context: null,\n      root: instance as any,\n      components: componentStore\n    });\n    watch(() => props, () => {\n      Object.assign(store, {\n        disabled: props.disabled,\n        loading: props.loading,\n        readonly: props.readonly,\n        platform: props.platform as Platform,\n        props: props.props,\n        effects: props.effects as any,\n        inline: props.inline,\n        editable: props.editable\n      });\n    }, {deep: true});\n    provide(SchemaFormFieldOperationStoreKey, {\n      addField(field) {\n        if (field) {\n          store.fields[field.plainPath] = field;\n        }\n      },\n      removeField(field) {\n        if (field) {\n          delete store.fields[field.plainPath];\n        }\n      }\n    });\n    provide(SchemaFormStoreKey, store);\n    watch(() => props, (val: any) => {\n      store.readonly = val.readonly;\n      store.disabled = val.disabled;\n      store.platform = val.platform as Platform;\n      store.props = val.props || val.schema.props || {};\n      store.loading = val.loading;\n      store.editable = val.editable;\n    }, {deep: true});\n\n    const hasSubmitHandler = computed(() => {\n      return props.onOk !== undefined || props.onSubmit || props.onSubmit !== undefined;\n    });\n\n    const localOnOk = async (forceValidate: boolean, callback?: (value) => any) => {\n      if (hasSubmitHandler.value) {\n        if (forceValidate) {\n          const errors = await validate();\n          if (errors.length) {\n            errors[0].field.focus(true);\n            store.context.trigger(SchemaFormEvents.validate, errors);\n          } else {\n            if (callback) {\n              callback(currentValue.value);\n            } else {\n              props.onOk?.(currentValue.value);\n              props.onSubmit?.(currentValue.value);\n            }\n          }\n        } else {\n          if (callback) {\n            callback(currentValue.value);\n          } else {\n            props.onOk?.(currentValue.value);\n            props.onSubmit?.(currentValue.value);\n          }\n        }\n      }\n    };\n\n    const setCurrentValue = () => {\n      if (!(currentValue.value && isEqual(props.value, currentValue.value))) {\n        if (props.value) {\n          if (isVNode(props.value)) {\n            console.error('VNode不能作为输入值');\n          } else {\n            currentValue.value = clone(props.value);\n          }\n        } else if (props.schema.array) {\n          currentValue.value = [];\n        } else {\n          currentValue.value = {};\n        }\n      }\n    };\n    const createSubmitButton = (text = '', customBtnProps: any = undefined, action: () => any = undefined) => {\n      const hasOkHandler = hasSubmitHandler.value || action !== undefined;\n      if (!hasOkHandler) {\n        return null;\n      }\n      const btnProps: {\n        okProps?: any;\n        cancelProps?: any;\n        okText?: any;\n      } = props.props;\n      const buttonProps = customBtnProps || (btnProps && btnProps.okProps) || {};\n      if (!buttonProps.type) {\n        buttonProps.type = 'primary';\n      }\n      buttonProps.disabled = props.disabled;\n      buttonProps.loading = props.loading;\n      return createButton(\n        text || btnProps && btnProps.okText || '提交',\n        action || (() => {\n          localOnOk(true);\n        }), buttonProps, 'confirm-btn'\n      );\n    };\n    const createButton = (text, action, btnAttrs, classes) => {\n      const {platform} = props;\n      const buttonProps = {\n        ...btnAttrs,\n        class: classes,\n        onClick: (e) => {\n          action(store.context, e);\n        }\n      };\n      const ButtonComponent: any = LibComponents.button[platform as string];\n      const Button = <ButtonComponent {...buttonProps}>\n        {text}\n      </ButtonComponent>;\n      if (platform === 'mobile') {\n        return [<m-white-space/>, Button];\n      }\n      return Button;\n    };\n    const validate = (): Promise<IValidateResponse[]> | [] => {\n      return runValidation(currentValue.value, store.fields, true);\n    };\n    const createCancelButton = (text = '', customBtnProps: any = undefined, action: () => any = undefined) => {\n      const hasCancelHandler = props.onCancel !== undefined || action !== undefined;\n      if (!hasCancelHandler) {\n        return null;\n      }\n      const btnProps: {\n        cancelProps?: any;\n        cancelText?: any;\n      } = props.props;\n      const buttonProps = customBtnProps || (btnProps && btnProps.cancelProps) || {};\n      buttonProps.disabled = props.disabled || props.loading;\n      return createButton(\n        text || btnProps?.cancelText || '取消',\n        action || localOnCancel, buttonProps,\n        'cancel-btn'\n      );\n    };\n    const createResetButton = (text = '', customBtnProps: any = undefined, action: () => any = undefined) => {\n      const hasResetHandler = props.onReset !== undefined || action !== undefined;\n      if (!hasResetHandler) {\n        return null;\n      }\n      const btnProps: {\n        cancelProps?: any;\n        cancelText?: any;\n      } = props.props;\n      const buttonProps = customBtnProps || (btnProps && btnProps.cancelProps) || {};\n      buttonProps.disabled = props.disabled || props.loading;\n      return createButton(\n        text || btnProps && btnProps.cancelText || '重置',\n        action || localOnReset, buttonProps, 'reset-btn'\n      );\n    };\n    const localOnReset = () => {\n      props.onReset?.();\n    };\n    const localOnCancel = () => {\n      props.onCancel?.();\n    };\n    const renderButtons = () => {\n      const {actions} = props;\n      if (props && store.editable) {\n        if (slots.btns) {\n          return slots.btns;\n        }\n        const buttons = [];\n        if (actions) {\n          (actions as Action[]).forEach((action: any) => {\n            if (typeof action === 'string') {\n              switch (action) {\n                case 'submit':\n                  buttons.push(createSubmitButton());\n                  break;\n                case 'cancel':\n                  buttons.push(createCancelButton());\n                  break;\n                case 'reset':\n                  buttons.push(createResetButton());\n                  break;\n              }\n            } else if (typeof action === 'object') {\n              switch (action.name) {\n                case 'submit':\n                  buttons.push(createSubmitButton(action.text, action.props, action.action));\n                  break;\n                case 'cancel':\n                  buttons.push(createCancelButton(action.text, action.props, action.action));\n                  break;\n                case 'reset':\n                  buttons.push(createResetButton(action.text, action.props, action.action));\n                  break;\n                default:\n                  const btnProps: any = action.props || {};\n                  btnProps.disabled = props.disabled || props.loading;\n                  buttons.push(createButton(action.text, action.action, btnProps, null));\n                  break;\n              }\n            }\n          });\n        } else {\n          buttons.push(createCancelButton());\n          buttons.push(createSubmitButton());\n          buttons.push(createResetButton());\n        }\n        return <div class=\"action-btns\">\n          {buttons}\n        </div>;\n      }\n    };\n    watch(() => props.value, () => {\n      setCurrentValue();\n    });\n    watch(() => currentValue.value, (v) => {\n      if (!isEqual(currentValue.value, props.value)) {\n        const cloneValue = clone(v);\n        emit('update:value', cloneValue);\n        props.onChange?.(cloneValue);\n      }\n    }, {deep: true});\n\n    onMounted(() => {\n      if (props.effects) {\n        (props.effects as any)(store.context);\n      }\n    });\n\n    setCurrentValue();\n    store.context = createContext(store, localOnOk, currentValue);\n    store.editable = props.editable as boolean;\n\n    return {\n      createResetButton,\n      createCancelButton,\n      createButton,\n      createSubmitButton,\n      validate,\n      store,\n      renderButtons,\n      currentValue\n    };\n  },\n  render() {\n    const LibComponentsContent: any = LibComponents.content[this.platform as string];\n    const LibComponentsFooter: any = LibComponents.footer[this.platform as string];\n    const {title, sticky, prefixCls, store, currentValue, schema} = this;\n    const rootFieldDef: any = Object.assign({}, schema, {\n      type: 'object',\n      title,\n      props: this.schema.props\n    });\n    let content: any = [\n      this.$slots.header?.(),\n      renderField(null, store,\n        rootFieldDef, currentValue, 0, false, this.$emit\n      )\n    ];\n    let footer: any = [\n      this.renderButtons(),\n      this.$slots.footer?.()\n    ];\n    const classes = className(prefixCls, {\n      [`${prefixCls}-sticky`]: sticky\n    }, `${prefixCls}-${this.platform}`, this.$attrs.class);\n    if (this.sticky) {\n      content = <LibComponentsContent>\n        {content}\n      </LibComponentsContent>;\n      footer = <LibComponentsFooter>\n        {footer}\n      </LibComponentsFooter>;\n      const Layout: any = LibComponents.layout;\n      return <Layout class={classes}>\n        {content}\n        {footer}\n      </Layout>;\n    }\n    return <div class={classes} style={this.$attrs.style}>\n      {content}\n      {footer}\n    </div>;\n  }\n});\nSchemaForm.install = (app) => {\n  app.component(SchemaForm.name, SchemaForm);\n  app.component(SchemaFormField.name, SchemaFormField);\n};\nexport default SchemaForm;\n","import {SchemaFormStore} from '../../../types';\nimport {inject} from 'vue';\nimport {SchemaFormStoreKey} from '../utils/key';\nimport {LibComponents} from '../utils/utils';\n\nexport default (props, ctx) => {\n  const {fields} = props;\n  const store: SchemaFormStore = inject(SchemaFormStoreKey);\n  const CardComponent = LibComponents.card[store.platform];\n  return <CardComponent title={props.title}>\n    {fields}\n    {ctx.slots.default?.()}\n  </CardComponent>;\n}\n","import {inject, PropType} from 'vue';\nimport {SchemaFormField, SchemaFormStore} from '../../../types';\nimport {SchemaFormStoreKey} from '../utils/key';\n\nexport const baseLayoutProps = {\n  layout: {type: Array, required: true},\n  fields: {type: [Array, Object] as PropType<any[]>},\n  fieldDefinitions: {\n    type: Array as PropType<SchemaFormField[]>\n  }\n};\n\nexport const useBaseLayout = (): { store: SchemaFormStore } => ({\n  store: inject(SchemaFormStoreKey)\n});\n","import {computed, defineComponent, inject} from 'vue';\nimport {SchemaFormStore} from '../../../types';\nimport {SchemaFormStoreKey} from '../utils/key';\nimport {LibComponents} from '../utils/utils';\nimport {baseLayoutProps} from './base-layout';\nimport './form-block.less';\n\n\nexport default defineComponent({\n  name: 'FormBlock',\n  props: {\n    maxItems: Number,\n    addText: String,\n    title: {\n      type: [String, Object]\n    },\n    removeText: String,\n    fields: baseLayoutProps.fields\n  },\n  emits: ['add', 'move-down', 'move-up', 'remove'],\n  setup(props, {emit}) {\n    const store: SchemaFormStore = inject(SchemaFormStoreKey);\n    const localFields = computed(() => props.fields as any[]);\n    const renderAddBtn = (index: number) => {\n      if (index !== localFields.value.length - 1) {\n        return;\n      }\n      const PlusIcon = LibComponents.icons[store.platform].plus;\n      if (props.maxItems && props.maxItems <= localFields.value.length) {\n        return;\n      }\n      return <div class=\"array-item-addition\">\n        <div class=\"form-block-add-btn\"\n             onClick={() => {\n               emit('add');\n             }}>\n          <PlusIcon/>\n          {props.addText || '添加'}\n        </div>\n      </div>;\n    };\n    const renderOperations = (index: number) => {\n      const DownIcon = LibComponents.icons[store.platform].down;\n      const UpIcon = LibComponents.icons[store.platform].up;\n      return localFields.value.length > 1 ? [\n        index !== localFields.value.length - 1\n          ? <div class=\"circle-btn\"\n                 onClick={() => {\n                   emit('move-down', index);\n                 }}>\n            <DownIcon/>\n            <span class=\"op-name\"/>\n          </div> : null,\n        index !== 0 ? <div class=\"circle-btn\" onClick={() => {\n          emit('move-up', index);\n        }}>\n          <UpIcon/>\n          <span class=\"op-name\"/>\n        </div> : null\n      ] : null;\n    };\n    const renderTitle = () => {\n      if (!props.title) {\n        return;\n      }\n      return <div class=\"schema-form-block-header\">\n        <div class=\"schema-form-block-main\">\n          <div class=\"schema-form-block-title\">{props.title}</div>\n        </div>\n      </div>;\n    };\n    return {\n      store,\n      renderAddBtn,\n      renderTitle,\n      onRemove(index: number) {\n        emit('remove', index);\n      },\n      localFields,\n      renderOperations,\n      onAdd: () => {\n        emit('add');\n      }\n    };\n  },\n  render() {\n    const {store} = this;\n    const DeleteIcon = LibComponents.icons[store.platform].delete;\n    const PlusIcon = LibComponents.icons[store.platform].plus;\n    const EmptyComponent = LibComponents.empty[store.platform];\n\n    return <div class=\"schema-form-block\">\n      {\n        this.localFields.length ? this.localFields.map((it, index) => {\n          return <div class=\"array-item\" key={'item-' + index}>\n            <div class=\"array-index\">\n              <span>{index + 1}</span>\n            </div>\n            {\n              this.renderTitle()\n            }\n            <div class=\"array-item-wrapper\">{it}</div>\n            <div class=\"array-item-operator\">\n              <div class=\"circle-btn\"\n                   onClick={() => {\n                     this.onRemove(index);\n                   }}>\n                <DeleteIcon/>\n                <span class=\"op-name\">{this.removeText || '删除'}</span>\n              </div>\n              {this.renderOperations(index)}\n            </div>\n            {this.renderAddBtn(index)}\n          </div>;\n        }) : <EmptyComponent description=\"\"\n                             onClick={this.onAdd}>\n          <div class=\"array-empty\">\n            <PlusIcon/>\n            <span>添加</span>\n          </div>\n        </EmptyComponent>\n      }\n    </div>;\n  }\n});\n","import {computed, defineComponent, PropType, VNode} from 'vue';\nimport {getFormItemComponent} from '../internal/utils';\nimport {LibComponents, MOBILE} from '../utils/utils';\nimport {baseLayoutProps, useBaseLayout} from './base-layout';\n\n\nfunction getColProps(span: number) {\n  const colProps: any = {};\n  if (typeof span === 'number') {\n    colProps.span = span;\n  } else if (typeof span === 'object') {\n    Object.assign(colProps, span);\n  }\n  return colProps;\n}\n\nexport default defineComponent({\n  name: 'GridLayout',\n  props: {\n    ...baseLayoutProps,\n    layout: {\n      type: Array as PropType<any[]>,\n      required: true\n    },\n    title: {\n      type: [String, Object]\n    },\n    gutter: Number,\n    wrapSingle: {\n      type: Boolean,\n      default: true\n    },\n    rowStyle: [Object, Function],\n    rowClass: [Object, String, Function],\n    colClass: [Object, String, Function],\n    colStyle: [Object, Function]\n  },\n  setup(props) {\n    const {store} = useBaseLayout();\n    const containsArray = computed(() => props.layout.some(it => Array.isArray(it)));\n    const isMixed = computed(() =>\n        props.layout.some(it => typeof it === 'number' || (!Array.isArray(it) && typeof it === 'object')) && props.layout.some(it => Array.isArray(it)));\n    const localFields = computed(() => props.fields);\n    const getRowStyle = (index) => {\n      if (typeof props.rowStyle === 'function') {\n        return props.rowStyle(index);\n      }\n      return props.rowStyle ?? {};\n    };\n    const getColStyle = (index) => {\n      if (typeof props.colStyle === 'function') {\n        return props.colStyle(index);\n      }\n      return props.colStyle ?? {};\n    };\n    const getRowClass = (index) => {\n      if (typeof props.rowClass === 'function') {\n        return props.rowClass(index);\n      }\n      return props.rowClass ?? {};\n    };\n    const getColClass = (index) => {\n      if (typeof props.colClass === 'function') {\n        return props.colClass(index);\n      }\n      return props.colClass ?? {};\n    };\n    return {\n      localFields,\n      containsArray,\n      isMixed,\n      getRowStyle,\n      getRowClass,\n      getColClass,\n      getColStyle,\n      toGroups(fields: VNode[], layout: Array<number | number[]>) {\n        if (!containsArray.value) {\n          return [fields];\n        }\n        const groups = [];\n        const tmpFields = [].concat(fields);\n        layout.forEach(span => {\n          if (Array.isArray(span)) {\n            const tmp = tmpFields.splice(0, span.length);\n            groups.push(tmp.length ? tmp : null);\n          } else {\n            const tmp = tmpFields.splice(0, 1);\n            groups.push(tmp.length ? tmp[0] : null);\n          }\n        });\n        if (tmpFields.length) {\n          tmpFields.forEach(field => groups.push(field));\n        }\n        return groups;\n      },\n      getNormalizedLayout(): Array<number | number[]> {\n        if (!containsArray.value) {\n          return [props.layout as number[]];\n        } else {\n          return props.layout as number[];\n        }\n      },\n      store\n    };\n  },\n  render() {\n    const {store} = this;\n    const LibComponentsRow: any = LibComponents.row[store.platform];\n    const LibComponentsCol: any = LibComponents.col[store.platform];\n    const {wrapSingle, gutter, store: {platform}} = this;\n    if (platform === MOBILE) {\n      return <div>{this.localFields}</div>;\n    }\n    const fields = this.localFields as any;\n    const layout: Array<number | number[]> = this.layout as any;\n    const groups = this.toGroups(fields, layout);\n    const normalizedLayout = this.getNormalizedLayout();\n    const layoutFields = normalizedLayout.map((span, index) => {\n      const group = groups[index];\n      if (group) {\n        if (Array.isArray(span)) {\n          return <LibComponentsRow\n              style={this.getRowStyle(index)}\n              class={this.getRowClass(index)}\n              gutter={gutter}>\n            {\n              span.map((subSpan, subindex) => {\n                return (\n                    <LibComponentsCol\n                        style={this.getColStyle(subindex)}\n                        class={this.getColClass(subindex)}\n                        {...getColProps(subSpan)}>\n                      {group[subindex]}\n                    </LibComponentsCol>\n                );\n              })\n            }\n          </LibComponentsRow>;\n        } else {\n\n          const col = <LibComponentsCol\n              style={this.getColStyle(index)}\n              class={this.getColClass(index)}\n              {...getColProps(span)}>{group}</LibComponentsCol>;\n          if (wrapSingle) {\n            return <LibComponentsRow\n                style={this.getRowStyle(index)}\n                class={this.getRowClass(index)}\n                gutter={gutter}>{col}</LibComponentsRow>;\n          }\n          return col;\n        }\n      }\n    });\n    const FormItemComponent: any = getFormItemComponent(this.store.platform);\n    if (this.title) {\n      const componentProps = {...this.$attrs, title: this.title, label: this.title};\n      return <FormItemComponent {...componentProps}>\n        {this.isMixed ?\n            <LibComponentsRow gutter={this.gutter}>{layoutFields}</LibComponentsRow> : layoutFields}\n      </FormItemComponent>;\n    }\n    return this.isMixed ? <LibComponentsRow\n            gutter={this.gutter}>{layoutFields}</LibComponentsRow> :\n        <div>{layoutFields}</div>;\n  }\n});\n","import {Steps} from 'ant-design-vue';\nimport {computed, defineComponent, PropType, ref, watch, watchEffect} from 'vue';\nimport {FieldDefinition, SchemaFormField} from '../../../types';\nimport {flat} from '../utils/array';\nimport {baseLayoutProps, useBaseLayout} from './base-layout';\nimport './steps.less';\n\nexport default defineComponent({\n    name: 'StepsLayout',\n    props: {\n      layout: {type: Array as PropType<any[]>, required: true},\n      titles: {\n        type: [Array]\n      },\n      currentStep: Number,\n      ...baseLayoutProps\n    },\n    setup(props) {\n      const {store} = useBaseLayout();\n      const current = ref(0);\n      const iFields = computed(() => {\n        return (props.fieldDefinitions as SchemaFormField[]).map(it => store.fields[it.property]);\n      });\n      const errors = computed(() => {\n        return iFields.value.filter(it => it !== undefined).map(it => it.errors);\n      });\n      watch(() => props.currentStep, (value: number) => {\n        if (value !== null && value !== undefined) {\n          current.value = value;\n        }\n      }, {immediate: true});\n      watchEffect(() => errors.value);\n      return {\n        current,\n        store,\n        getStatus: (index, fields: FieldDefinition[]) => {\n          const fieldErrors = flat(fields.filter(it => it !== undefined).map(it => it.errors));\n          if (fieldErrors.length) {\n            return 'error';\n          }\n          if (current.value > index) {\n            return 'finish';\n          }\n          if (current.value === index) {\n            return 'process';\n          }\n          return 'wait';\n        }\n      };\n    },\n    render() {\n      const iFields = this.fieldDefinitions.map(it => this.store.fields[it.property]) as FieldDefinition[];\n      const fields = [...this.fields as any[]];\n      const groups = (this.layout as number[]).map((n) => {\n        return fields.splice(0, n);\n      });\n      const iFieldGroups = (this.layout as number[]).map((n) => {\n        return iFields.splice(0, n);\n      });\n      return <div class=\"schema-form-steps-wrapper\">\n        <Steps\n          class=\"schema-form-steps\"\n          v-model={[this.current, 'value']}>\n          {\n            (this.layout as number[]).map((n, index) => {\n              return <Steps.Step\n                status={\n                  this.getStatus(index, iFieldGroups[index])\n                }\n                title={this.titles[index]}/>;\n            })\n          }\n        </Steps>\n        {\n          groups.map((n, index) => {\n            return <div style={{\n              display: index === this.current ? 'block' : 'none'\n            }}>\n              {n}\n            </div>;\n          })\n        }\n        {\n          <div class=\"schema-form-steps-operations\">\n            <a-button\n              class=\"prev-step\"\n              disabled={this.current <= 0}\n              onClick={() => {\n                if (this.current > 0) {\n                  this.current = this.current - 1;\n                }\n              }}>上一步\n            </a-button>\n            <a-button\n              class=\"next-step\"\n              disabled={this.current >= this.layout.length - 1}\n              onClick={() => {\n                const fields = iFieldGroups[this.current];\n                Promise.all(fields.map(it => it.validate())).then(data => {\n                  if (!data.some(it => it && (it as string[]).length) && this.current < this.layout.length - 1) {\n                    this.current = this.current + 1;\n                  }\n                });\n              }}>下一步\n            </a-button>\n          </div>\n        }\n      </div>;\n    }\n  }\n);\n","import {baseLayoutProps} from './base-layout';\nimport {defineComponent} from 'vue';\n\nexport default defineComponent({\n  name: 'TableLayout',\n  props: {\n    ...baseLayoutProps\n  },\n  render() {\n    return <div>\n      {this.fields}\n    </div>;\n  }\n});\n","import {defineComponent} from 'vue';\nimport './text-box.less';\n\nexport default defineComponent({\n  name: 'TextBox',\n  props: {\n    layout: {type: String, required: true},\n    fields: {type: [Array, Object], required: true}\n  },\n  setup(props) {\n    const getContent = () => {\n      const layout = props.layout as any;\n      let array = [];\n      const fields = props.fields as any;\n      const copyFields = [].concat(fields);\n      if (layout) {\n        const split = layout.split('%s');\n        split.forEach((item) => {\n          if (item.length) {\n            array.push(<span class=\"vf-layout-text-box--text\">{item}</span>);\n          }\n          array.push(copyFields.splice(0, 1));\n        });\n      }\n      if (copyFields.length) {\n        array = array.concat(copyFields);\n      }\n      return array;\n    };\n    return {getContent};\n  },\n  render() {\n    const content = this.getContent();\n    return <div class=\"vf-layout-text-box\">{content}</div>;\n  }\n});\n","import {FieldDefinition, LayoutOptions, Platform} from '../../../types';\nimport {registerComponent} from '../config';\nimport {DESKTOP, MOBILE} from '../utils/utils';\nimport Card from './card';\nimport FormBlock from './form-block';\nimport GridLayout from './grid';\nimport StepsLayout from './steps';\nimport Table from './table';\nimport TextBox from './text-box';\n\n/**\n *\n * @param options\n */\nexport const registerLayout = (options: {\n  component: string | any,\n  platforms: Platform | Platform[],\n  types: string | string[],\n  layoutOptions?: LayoutOptions,\n  getProps?: ((definition: FieldDefinition, platform: Platform) => any)\n}) => {\n  registerComponent({\n    component: options.component, platforms: options.platforms,\n    types: options.types,\n    forArray: null,\n    layoutOptions: options.layoutOptions,\n    getProps: options.getProps,\n    forDisplay: null, layout: true\n  });\n};\n\nregisterLayout({\n  component: StepsLayout,\n  platforms: [DESKTOP, MOBILE],\n  types: 'steps',\n  layoutOptions: {\n    noTitle: true,\n    noWrap: true\n  }\n});\n\nregisterLayout({\n  component: GridLayout,\n  platforms: [DESKTOP, MOBILE],\n  types: 'grid',\n  layoutOptions: {\n    noTitle: true,\n    noWrap: true\n  }\n});\nregisterLayout({\n  component: Table,\n  platforms: DESKTOP,\n  types: 'table'\n});\nregisterLayout({\n  component: FormBlock,\n  platforms: DESKTOP,\n  types: 'block',\n  layoutOptions: {\n    noTitle: true,\n    noWrap: true\n  }\n});\nregisterLayout({\n  component: Card,\n  platforms: [DESKTOP],\n  types: ['card'],\n  layoutOptions: {\n    noTitle: true,\n    noWrap: true\n  }\n});\nregisterLayout({\n  component: TextBox,\n  platforms: [DESKTOP, MOBILE],\n  types: 'text-box'\n});\n","import {DeleteOutlined, DownOutlined, InfoCircleFilled, PlusOutlined, UpOutlined} from '@ant-design/icons-vue';\nimport {\n  Button,\n  Calendar,\n  Card,\n  Checkbox,\n  DatePicker,\n  Input,\n  List,\n  Modal,\n  Picker,\n  Popover,\n  Radio,\n  Slider,\n  Switch,\n  Textarea\n} from 'antd-mobile-vue-next';\nimport {config, FieldTypes, register, registerComponent, registerMobile, registerMobileLib, resolveOptions} from '../';\nimport {ILibComponents} from '../../../types';\n\nexport const ComponentMap: Record<keyof ILibComponents, any> = {\n  alert: null,\n  col: null,\n  content: null,\n  empty: null,\n  footer: null,\n  header: null,\n  layout: null,\n  row: null,\n  sider: null,\n  card: Card,\n  checkbox: Checkbox,\n  button: Button,\n  form: List,\n  formItem: List.Item,\n  popover: Popover,\n  icons: {\n    info: InfoCircleFilled,\n    up: UpOutlined,\n    down: DownOutlined,\n    delete: DeleteOutlined,\n    plus: PlusOutlined\n  },\n  input: Input,\n  select: null\n};\n\n\nexport function registerAntdMobile() {\n  console.debug('注册Ant Design Mobile Vue表单组件');\n  registerMobileLib(ComponentMap);\n  config.confirmFn.mobile = (content: string, title?: string) => {\n    return new Promise((resolve, reject) => {\n      Modal.confirm(\n        title, content\n      ).then(value => {\n        resolve(value);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n  };\n  config.formItemPropTransform.mobile = (component, field) => {\n    const props: any = {};\n    props.help = field.errors.join('、');\n    if (props.help) {\n      props.hasFeedback = true;\n      props.validateStatus = 'error';\n    }\n    if (field.definition?.wrapperProps?.noTitle || !field?.definition?.title) {\n      props.colon = false;\n      props.required = false;\n    }\n    return props;\n  };\n  // todo\n  // registerMobile(ImagePicker, [FieldTypes.Picture, FieldTypes.File]);\n  registerMobile(Input, [FieldTypes.String, FieldTypes.Url], false,\n    () => ({textAlign: 'right'}));\n  registerMobile(Input, [FieldTypes.Number, FieldTypes.Integer], false,\n    () => ({type: 'number', textAlign: 'right'}));\n  registerMobile(Input, [FieldTypes.Double], false,\n    () => ({type: 'digit', textAlign: 'right'}));\n  registerMobile(Input, [FieldTypes.Password], false,\n    () => ({type: 'password'}));\n  registerMobile(Range, [FieldTypes.Range], false);\n  registerMobile(Textarea, [FieldTypes.Text], false);\n  registerMobile(DatePicker.Item, [FieldTypes.Date, FieldTypes.Year, FieldTypes.Month, FieldTypes.Datetime],\n    false, (definition) => ({mode: (definition.type as string).toLowerCase()}));\n  registerMobile(Calendar.Item, [FieldTypes.DateRange], false, () => ({type: 'range'}));\n  registerMobile(Calendar.Item, [FieldTypes.DateTimeRange], false, () => ({type: 'range', pickTime: true}));\n  registerMobile(Checkbox, FieldTypes.Checkbox, false);\n\n  registerComponent({\n    component: Switch.Item,\n    types: FieldTypes.Boolean,\n    forArray: false,\n    forDisplay: false,\n    platforms: 'mobile',\n    valueProp: 'checked'\n  });\n  registerComponent({\n    component: Button,\n    types: FieldTypes.Button,\n    platforms: 'mobile',\n    forDisplay: false,\n    forInput: false,\n    forArray: null,\n    getProps: field => {\n      return {title: field.title};\n    },\n    wrap: false\n  });\n  registerMobile(Checkbox.List, FieldTypes.ExpandSelect, true, field => {\n    return {options: resolveOptions(field), multiple: true};\n  });\n  registerMobile(Radio.List, FieldTypes.ExpandSelect, false, field => {\n    return {options: resolveOptions(field)};\n  });\n  registerMobile(Picker.Item, FieldTypes.Transfer, false);\n  registerMobile(Checkbox.PopupList, FieldTypes.Select, true, field => {\n    return {options: resolveOptions(field), multiple: true};\n  });\n  registerMobile(Radio.PopupList, FieldTypes.Select, false, field => {\n    return {options: resolveOptions(field)};\n  });\n  register(Slider, 'mobile', FieldTypes.Range, false, () => {\n    return {range: true};\n  });\n}\n","import {defineComponent} from 'vue';\nimport {getDefaultEmptyText} from '../../';\n\nexport default defineComponent({\n  name: 'FileDisplay',\n  props: {\n    value: {\n      type: [Object, Array, String]\n    }\n  },\n  render() {\n    if (this.value) {\n      return this.value;\n    }\n    return getDefaultEmptyText();\n  }\n});\n","import {Rate} from 'ant-design-vue';\nimport {defineComponent} from 'vue';\n\nexport default defineComponent({\n  name: 'RateDisplay',\n  props: {\n    value: {\n      type: Number\n    },\n    disabled: Boolean\n  },\n  render() {\n    const props = {value: this.value, disabled: true}\n    return <Rate {...props}/>;\n  }\n});\n","import {defineComponent, PropType} from 'vue';\nimport {getDefaultEmptyText} from '../../';\n\nexport default defineComponent({\n  name: 'TransferDisplay',\n  props: {\n    value: Array as PropType<Array<any>>,\n    dataSource: {type: Array as PropType<Array<any>>, default: () => ([])}\n  },\n  render() {\n    if (!this.value || this.value.length === 0) {\n      return getDefaultEmptyText();\n    }\n    return this.dataSource.filter(it => this.value.includes(it.key))\n      .map(it => it.title).join('、');\n  }\n});\n","import {defineComponent, ref, watch} from 'vue';\nimport {useBaseInput} from '../mixins';\n\nexport default defineComponent({\n  name: 'InputComp',\n  props: {\n    value: {type: [String, Number]}\n  },\n  emits: ['update:value'],\n  setup(props, ctx) {\n    const {size} = useBaseInput(props, ctx);\n    const localValue = ref(props.value);\n    const onUpdate = (value) => {\n      localValue.value = value;\n      ctx.emit('update:value', value);\n    };\n    watch(() => props.value, (value) => {\n      if (value !== localValue.value) {\n        localValue.value = value;\n      }\n    });\n    return {\n      size, localValue, onUpdate\n    };\n  },\n  render(ctx) {\n    const props = {\n      size: ctx.size,\n      ...ctx.$attrs,\n      ...ctx.$props,\n      value: this.localValue,\n      'onUpdate:value': this.onUpdate\n    };\n    return <a-input {...props} v-slots={this.$slots}/>;\n  }\n});\n","import {Transfer} from 'ant-design-vue';\nimport {defineComponent} from 'vue';\n\n\nexport default defineComponent({\n  name: 'Transfer',\n  props: {\n    value: Array\n  },\n  emits: ['update:value'],\n  render() {\n    const props: any = {\n      ...this.$attrs, targetKeys: this.value, onChange: (value) => {\n        this.$emit('update:value', value);\n      }\n    };\n    return <Transfer {...props}/>;\n  }\n});\n","export const part = <T>(obj: T, fields: Array<keyof T>): { [key in keyof T]?: unknown; } => {\n  type keys = keyof T;\n  const newObj: { [key in keys]?: unknown } = {};\n\n  fields.forEach(key => {\n    newObj[key] = obj[key];\n  });\n\n  return newObj;\n};\n\n","import {computed, PropType, ref, watch} from 'vue';\nimport {part} from '../utils/object';\n\ninterface SimpleFile {\n  name?: string;\n  url?: string;\n  size?: number;\n  type?: string;\n  uid?: string;\n}\n\nconst FILE_FIELDS = ['name', 'uid', 'size', 'type', 'url'];\n\nexport const baseUpdateProps = {\n  mode: String as PropType<'card' | 'dragger' | 'picture'>,\n  multiple: {type: Boolean, default: false},\n  valueType: {\n    type: String as PropType<'string' | 'object'>,\n    default: 'string'\n  },\n  value: [String, Object, Array] as PropType<string | SimpleFile | string[] | SimpleFile[]>\n};\nexport const useBaseUpload = (props, {emit}) => {\n  const fileList = ref([]);\n  const previewUrl = ref(null);\n  const localProps = computed(() => {\n    const obj: any = Object.assign({}, props);\n    if (props.mode === 'card') {\n      obj.listType = 'picture-card';\n    } else if (props.mode === 'dragger') {\n      obj.drag = true;\n      delete obj.listType;\n    } else if (props.mode) {\n      obj.listType = props.listType;\n    }\n    if (!obj.limit) {\n      if (!props.multiple) {\n        obj.limit = 1;\n      }\n    }\n    if (!obj.showFileList && props.mode === 'picture') {\n      obj.showFileList = false;\n    }\n    if (!obj.showUploadList && props.mode === 'picture') {\n      obj.showUploadList = false;\n    }\n    obj.multiple = props.multiple;\n    return obj;\n  });\n  watch(() => fileList.value, value => {\n    if (value.some(it => !it.url)) {\n      return;\n    }\n    let simpleValue = null;\n    if (props.multiple) {\n      simpleValue = value.map(it => {\n        return props.valueType === 'string' ? it.url : part(it, FILE_FIELDS) as SimpleFile;\n      });\n    } else {\n      if (value.length) {\n        simpleValue = props.valueType === 'string' ? value[0].url : part(value[0], FILE_FIELDS) as SimpleFile;\n      }\n    }\n    emit('update:value', simpleValue);\n  }, {deep: true});\n  watch(() => props.value, (value) => {\n    const urls = fileList.value?.map(it => it.url) ?? [];\n    if (props.multiple) {\n      if (!value || !value.length) {\n        fileList.value = [];\n      } else if (props.valueType === 'object') {\n        fileList.value = [...props.value];\n      } else {\n        value.forEach((v, index) => {\n          if (props.valueType === 'string') {\n            if (!urls.includes(v)) {\n              fileList.value.push({\n                url: v,\n                uid: `file-${index}`,\n                name: `file-${index}`\n              });\n            }\n          } else if (!urls.includes(v.url)) {\n            fileList.value.push(v);\n          }\n        });\n      }\n    } else if (!value) {\n      fileList.value = [];\n    } else if (props.valueType === 'string') {\n      if (!urls.includes(value)) {\n        fileList.value = [{\n          url: value,\n          uid: 'file-0',\n          name: 'file-0'\n        }];\n      }\n    } else if (!urls.includes(value.url)) {\n      fileList.value = [value];\n    }\n  }, {immediate: true});\n  return {\n    fileList,\n    previewUrl,\n    props: localProps\n  };\n};\n","import {PlusOutlined, UploadOutlined} from '@ant-design/icons-vue';\nimport {Upload} from 'ant-design-vue';\nimport {computed, defineComponent, ref} from 'vue';\nimport {useBaseInput} from '../';\nimport {AntUploadObject} from '../../../types';\nimport {baseUpdateProps, useBaseUpload} from '../common/base-upload';\nimport Button from './components/button';\nimport './upload.less';\n\nexport default defineComponent({\n  name: 'DUpload',\n  components: {\n    [Upload.name]: Upload,\n    [Upload.Dragger.name]: Upload.Dragger,\n    PlusOutlined: PlusOutlined as any, UploadOutlined\n  },\n  props: {\n    hint: String,\n    ...baseUpdateProps\n  },\n  emits: ['change', 'preview', 'update:value'],\n  setup(props, ctx) {\n    const {fileList} = useBaseUpload(props, ctx);\n    const previewVisible = ref(false);\n    const listType = computed(() => {\n      switch (props.mode) {\n        case 'picture':\n          return 'picture';\n        case 'card':\n          return 'picture-card';\n        default:\n          return 'text';\n      }\n    });\n    const uploadProps = Object.assign({}, ctx.attrs, props);\n    const {size} = useBaseInput(props, ctx);\n    const previewUrl = ref();\n    return {\n      size,\n      listType,\n      fileList,\n      uploadProps,\n      previewVisible,\n      previewUrl,\n      onChange(f: AntUploadObject) {\n        if (!props.multiple && fileList.value.length > 1) {\n          fileList.value = [f.file];\n        }\n        if (f.file.status && f.file.response?.code === 0) {\n          const file = f.fileList.find(it => it.uid === f.file.uid);\n          if (file) {\n            file.url = f.file.response.data.url;\n          }\n        }\n        ctx.emit('change', f);\n      },\n      onPreview(f) {\n        previewUrl.value = f.url;\n        previewVisible.value = true;\n        ctx.emit('preview', f);\n      },\n      cancelPreview() {\n        previewVisible.value = false;\n      }\n    };\n  },\n  render() {\n    if (this.mode === 'dragger') {\n      return <a-upload-dragger {...this.uploadProps}>\n        <div class={{disabled: this.$attrs.disabled}}>\n          <p class=\"ant-upload-drag-icon\">\n            <upload-outlined/>\n          </p>\n          <p class=\"ant-upload-text\">点击或者拖动文件到虚线框内上传</p>\n          <p class=\"ant-upload-hint\">{this.hint}</p>\n        </div>\n      </a-upload-dragger>;\n    } else {\n      let content = null;\n      if (this.listType === 'picture-card') {\n        if (this.multiple || this.fileList.length === 0) {\n          content = (\n              <div class=\"ant-upload-select-btn\">\n                <plus-outlined/>\n                <div class=\"ant-upload-text\">选择文件</div>\n              </div>\n          );\n        }\n      } else if (this.listType === 'picture') {\n        content = (\n          <div class=\"ant-upload-image-wrapper\">\n            {\n              this.fileList.length && this.fileList[0].url ? (\n                  <img src={this.fileList[0].url}\n                       alt=\"\"\n                       style=\"height: 100%;width: 100%;\"/>\n                )\n                : (\n                  <div class=\"ant-upload-plus\">\n                    <plus-outlined/>\n                  </div>\n                )\n            }\n          </div>\n        );\n      } else if (this.listType === 'text') {\n        content = (\n          <a-button\n            disabled={this.$attrs.disabled}\n            size={this.size}>选择文件\n          </a-button>\n        );\n      }\n      return (\n        <>\n          <a-upload {...this.uploadProps}\n                    listType={this.listType}\n                    v-model={[this.fileList, 'fileList']}\n                    onChange={this.onChange}\n                    onPreview={this.onPreview}\n                    size={this.size}>\n            {content}\n            {this.$slots.default?.()}\n          </a-upload>\n          <a-modal visible={this.previewVisible}\n                   footer={() => {\n                     return <Button type=\"primary\"\n                                    onClick={() => {\n                                      console.log('cliock');\n                                      this.cancelPreview();\n                                    }}>确定</Button>;\n                   }}\n                   onCancel={() => {\n                     this.cancelPreview();\n                   }}>\n            <img alt=\"example\"\n                 style=\"width: 100%\"\n                 src={this.previewUrl}/>\n          </a-modal>\n        </>\n      );\n    }\n  }\n});\n","import {DeleteOutlined, DownOutlined, InfoCircleFilled, PlusOutlined, UpOutlined} from '@ant-design/icons-vue';\nimport {\n  Alert,\n  AutoComplete,\n  Card,\n  Cascader,\n  Checkbox,\n  Col,\n  Empty,\n  Input,\n  InputNumber,\n  Layout,\n  Modal,\n  Popover,\n  Rate,\n  Row,\n  Slider,\n  Switch\n} from 'ant-design-vue';\nimport {App, Component} from 'vue';\nimport {\n  config,\n  FieldTypes,\n  register,\n  registerComponent,\n  registerDesktop,\n  registerDesktopLib,\n  registerDisplay,\n  resolveOptions\n} from '../';\nimport {ILibComponents, SchemaFormField} from '../../../types';\nimport DUrl from '../common/url';\nimport Button from './components/button';\nimport CheckboxGroup from './components/checkbox-group';\nimport DatePicker from './components/date-picker';\nimport Form from './components/form/form';\nimport Item from './components/form/item';\nimport RadioGroup from './components/radio-group';\nimport RangePicker from './components/range-picker';\nimport Select from './components/select';\nimport TimePicker from './components/time-picker';\nimport FileDisplay from './display/file';\nimport RateDisplay from './display/rate';\nimport TransferDisplay from './display/transfer';\nimport InputField from './input';\nimport Transfer from './transfer';\nimport AntdUpload from './upload';\nimport {createComponentProxy} from './utils';\n\nconst ComponentMap: Record<keyof ILibComponents, any> = {\n  card: Card,\n  checkbox: Checkbox,\n  empty: Empty,\n  select: Select,\n  input: Input,\n  button: Button,\n  row: Row,\n  col: Col,\n  form: Form,\n  formItem: Item,\n  alert: Alert,\n  layout: Layout,\n  header: Layout.Header,\n  footer: Layout.Footer,\n  sider: Layout.Sider,\n  content: Layout.Content,\n  popover: Popover,\n  icons: {\n    info: InfoCircleFilled,\n    up: UpOutlined,\n    down: DownOutlined,\n    delete: DeleteOutlined,\n    plus: PlusOutlined\n  }\n};\n\n\nfunction getTransferOptions(array) {\n  return array.map((item: any) => {\n    if (typeof item === 'string') {\n      return {key: item, title: item};\n    } else {\n      return {\n        key: (item.key || item.value).toString(),\n        title: item.title || item.label,\n        description: item.description || item.label,\n        disabled: !!item.disabled\n      };\n    }\n  });\n}\n\nconst transferPropsTransform = (def: SchemaFormField) => {\n  if (typeof def.enum === 'function') {\n    const result = def.enum();\n    if (Array.isArray(result)) {\n      return {dataSource: getTransferOptions(result), render: (item) => item.title};\n    }\n    if (result.then) {\n      result.then(data => {\n        def.props.dataSource = getTransferOptions(data);\n      });\n    }\n    return {render: (item) => item.title};\n  } else if (typeof def.enum === 'object' && def.enum['then']) {\n    def.enum['then'](data => {\n      def.props.dataSource = getTransferOptions(data);\n    });\n    return {render: (item) => item.title};\n  }\n  const dataSource = def.props?.dataSource || getTransferOptions(def.enum || []);\n  return {dataSource, render: (item) => item.title};\n};\n\nexport function registerAntd() {\n  console.debug('注册Ant Design Vue表单组件');\n  registerDesktopLib(ComponentMap);\n  config.confirmFn.desktop = (content: string, title?: string) => {\n    return new Promise((resolve, reject) => {\n      Modal.confirm({\n        content,\n        title,\n        onCancel: () => {\n          reject();\n        },\n        onOk: () => {\n          resolve(undefined);\n        }\n      });\n    });\n  };\n  config.formItemPropTransform.desktop = (component: Component, field) => {\n    const props: any = {};\n    if (field.errors.length) {\n      props.help = field.errors.join('、');\n      props.validateStatus = 'error';\n    } else if (field.description) {\n      props.help = field.description;\n    }\n    if (props.help) {\n      props.hasFeedback = true;\n    }\n    if (field.definition?.wrapperProps?.noTitle || !field?.definition?.title) {\n      props.colon = false;\n      props.required = false;\n    }\n    return props;\n  };\n  registerDisplay({\n    component: FileDisplay,\n    platforms: 'desktop',\n    types: [FieldTypes.File, FieldTypes.Picture]\n  });\n  registerDisplay({\n    component: TransferDisplay,\n    platforms: 'desktop',\n    types: FieldTypes.Transfer,\n    getProps: transferPropsTransform\n  });\n  registerDisplay({\n    component: RateDisplay,\n    platforms: 'desktop',\n    types: FieldTypes.Rate\n  });\n  registerDesktop(createComponentProxy(Input.Password), [FieldTypes.Password], false);\n  registerComponent({\n    component: AntdUpload,\n    types: FieldTypes.Picture,\n    platforms: 'desktop',\n    forDisplay: false,\n    getProps: definition => {\n      return {multiple: definition.array, mode: 'picture'};\n    }\n  });\n  registerDesktop(createComponentProxy(TimePicker),\n    [FieldTypes.Time],\n    false, (definition) => ({mode: (definition.type as string).toLowerCase()}));\n  registerComponent({\n    component: AutoComplete,\n    forDisplay: false,\n    platforms: 'desktop',\n    types: [FieldTypes.AutoComplete],\n    forArray: false\n  });\n  registerComponent({\n    component: TimePicker.RangePicker,\n    forDisplay: false,\n    platforms: 'desktop',\n    types: [FieldTypes.TimeRange],\n    forArray: false\n  });\n  registerComponent({\n    component: AntdUpload,\n    types: FieldTypes.File,\n    platforms: 'desktop',\n    forDisplay: false,\n    getProps: definition => {\n      return {multiple: definition.array};\n    }\n  });\n  registerDesktop(createComponentProxy(RangePicker), [FieldTypes.DateRange], false);\n  registerDesktop(createComponentProxy(InputField), [FieldTypes.String], false);\n  registerDesktop(createComponentProxy(Input.TextArea), [FieldTypes.Text], false);\n  registerDesktop(createComponentProxy(DatePicker), [FieldTypes.Date, FieldTypes.Year, FieldTypes.Month, FieldTypes.Datetime], false, (definition) => ({mode: (definition.type as string).toLowerCase()}));\n  registerDesktop(createComponentProxy(TimePicker), [FieldTypes.Time], false, (definition) => ({mode: (definition.type as string).toLowerCase()}));\n  registerDesktop(createComponentProxy(InputNumber), [FieldTypes.Double, FieldTypes.Integer, FieldTypes.Number], false);\n  registerComponent({\n    component: createComponentProxy(Checkbox),\n    types: FieldTypes.Checkbox,\n    forArray: false,\n    forDisplay: false,\n    platforms: 'desktop',\n    valueProp: 'checked'\n  });\n  registerComponent({\n    component: createComponentProxy(Switch),\n    types: FieldTypes.Boolean,\n    forArray: false,\n    forDisplay: false,\n    platforms: 'desktop',\n    valueProp: 'checked'\n  });\n  registerDesktop(createComponentProxy(DUrl), FieldTypes.Url, false, (def, platform) => {\n    return {\n      platform\n    };\n  });\n  registerDesktop(createComponentProxy(Select), FieldTypes.Select, null, field => {\n    return {\n      dropdownMatchSelectWidth: false,\n      mode: field.array ? 'multiple' : field.props?.mode,\n      options: resolveOptions(field as any)\n    };\n  });\n  registerComponent({\n    component: createComponentProxy(Button),\n    types: FieldTypes.Button,\n    platforms: 'desktop',\n    forInput: false,\n    forDisplay: false,\n    forArray: null,\n    getProps: field => {\n      return {title: field.title};\n    },\n    wrap: false\n  });\n\n  registerDesktop(createComponentProxy(Cascader), FieldTypes.Cascader, false, field => {\n    return {options: resolveOptions(field)};\n  });\n  registerDesktop(createComponentProxy(CheckboxGroup), FieldTypes.ExpandSelect, true, field => {\n    return {options: resolveOptions(field), multiple: true};\n  });\n  registerDesktop(createComponentProxy(RadioGroup), FieldTypes.ExpandSelect, false, field => {\n    return {options: resolveOptions(field)};\n  });\n  registerDesktop(createComponentProxy(Rate), FieldTypes.Rate);\n  registerDesktop(createComponentProxy(Transfer), FieldTypes.Transfer, false, transferPropsTransform);\n  register(createComponentProxy(Slider), 'desktop', FieldTypes.Range, false, () => {\n    return {range: true};\n  });\n}\n\nexport default (app: App) => {\n  app.component(Form.name, Form);\n  app.component(Item.name, Item);\n}\n","import {App} from 'vue';\nimport {CheckboxGroup, Form, FormItem, RadioGroup} from './antd/components';\nimport DUrl from './common/url';\nimport {config} from './config';\nimport './display/register';\nimport SchemaForm from './form';\nimport SchemaFormField from './internal/field';\nimport './layout/register';\nimport './styles/fix.less';\nimport './styles/style.less';\n\nSchemaForm.Field = SchemaFormField;\n\nSchemaForm.install = (app) => {\n  app.component('VSchemaForm', SchemaForm);\n  app.component('VSchemaFormField', SchemaForm.field);\n};\n\nSchemaForm.config = config;\n\nexport {\n  Button as DButton,\n  CheckboxGroup,\n  RadioGroup,\n  TimePicker as DTimePicker,\n  RangePicker as DRangePicker,\n  DatePicker as DDatePicker,\n  TimeRangePicker as DTimeRangePicker,\n  Form as DForm,\n  FormItem as DFormItem,\n  Select as DSelect\n} from './antd/components';\n\nexport {SchemaFormStoreKey} from './utils/key';\n\nexport {registerAntdMobile} from './antdm/register';\nexport {registerAntd} from './antd';\nexport {registerDesktopLib, resolveOptions, FieldTypes, registerMobileLib} from './utils/utils';\nexport {MobileDisplayField} from './display/mobile-display-field';\nexport {\n  registerDesktop, register, registerDisplay, registerMobile, registerResponsiveComponent\n} from './utils/register';\nexport {registerComponent} from './config';\nexport * from './common/base-button';\nexport * from './common/base-url';\nexport * from './common/base-upload';\nexport * from './config';\nexport * from './mixins';\nexport {SchemaFormEvents} from './internal/utils';\n\nSchemaForm.install = (app: App) => {\n  app.component(Form.name, Form);\n  app.component(FormItem.name, FormItem);\n  app.component(CheckboxGroup.name, CheckboxGroup);\n  app.component(RadioGroup.name, RadioGroup);\n  app.component(SchemaForm.name, SchemaForm);\n  app.component(DUrl.name, DUrl);\n};\n\nexport default SchemaForm;\n","import {defineComponent} from 'vue';\nimport {baseUrlProps, useBaseUrl} from './base-url';\nimport './url.less';\nimport {getInputComponent, getSelectComponent} from '../internal/utils';\n\nexport default defineComponent({\n  name: 'DUrl',\n  props: {\n    ...baseUrlProps\n  },\n  setup(props, ctx) {\n    return {...useBaseUrl(props, ctx)};\n  },\n  render() {\n    const Select  = getSelectComponent(this.platform)\n    const Input  = getInputComponent(this.platform)\n    return (\n        <div class=\"d-url-input\">\n          <div>\n            <Select v-model={[this.protocol, this.valueProp]}\n                      disabled={this.disabled}\n                      options={this.options}\n                      size={this.size}\n                      class=\"protocol-select\"\n                      placeholder=\"请选择\">\n            </Select>\n            <Input v-model={[this.domain, this.valueProp]}\n                     disabled={this.disabled}\n                     class=\"input-with-select\"\n                     size={this.size}\n                     placeholder=\"请输入内容\"\n                     style=\"display:block\">\n            </Input>\n          </div>\n        </div>\n    );\n  }\n});\n","import {computed, getCurrentInstance, inject} from 'vue';\nimport {SchemaFormStore} from '../../../types';\nimport {SchemaFormStoreKey} from '../utils/key';\n\nexport const useBaseInput = (props: any, ctx) => {\n  const instance = getCurrentInstance();\n  const store: SchemaFormStore = inject(SchemaFormStoreKey, undefined);\n  const form: any = inject('form', undefined);\n  const formField: any = inject('formField', undefined);\n  if (formField) {\n    formField.setControl(instance);\n  }\n  const size = computed(() => {\n    return form?.value?.size ?? store?.props?.size;\n  });\n  const field = props.field || ctx.attrs.field;\n  const editable = computed(() => {\n    return store.editable && field.editable;\n  });\n  const disabled = computed(() => {\n    return (props.disabled || ctx.attrs.disabled || form?.value?.disabled || store?.loading) ?? false;\n  });\n  return {\n    store, field, editable, disabled, form, size, formField\n  };\n};\n","import {computed} from 'vue';\n\nexport const getOptionProperty = function getOptionProperty(option: any, property: string | ((option: any) => any)): any {\n  if (typeof option === 'string') {\n    return option;\n  } else if (typeof property === 'string') {\n    return option[property];\n  } else if (typeof property === 'function') {\n    return property(option);\n  }\n};\nexport const useOptions = (props) => {\n  const options = computed(() => {\n    if (props.options) {\n      return props.options.map(option => {\n        const op: any = Object.assign({}, option);\n        op.label = getOptionProperty(option, props.labelProperty);\n        op.value = getOptionProperty(option, props.valueProperty);\n        return op;\n      });\n    } else {\n      return null;\n    }\n  });\n  return {options};\n};\n","export const SchemaFormStoreKey = 'schemaFormStore';\nexport const SchemaFormFieldOperationStoreKey = 'SchemaFormFieldOperationStore';\n","import {FieldDefinition} from '../internal/utils';\nimport {SchemaFormField} from '../../../types';\nimport {Paths} from '../../../types';\nimport {flat} from './array';\n\nconst CACHE = {};\n\nexport const PATH_SEPARATOR = '.';\n\nexport const splitPath = (path: string): string[] => {\n  if (CACHE[path]) {\n    return CACHE[path];\n  } else {\n    return path.split(PATH_SEPARATOR);\n  }\n};\n\nexport function match(paths: Paths, fields: { [key: string]: FieldDefinition }): string[] {\n  return flat(paths.map(it => {\n    if (typeof it === 'string') {\n      return matchSinglePath(it, fields);\n    } else {\n      const field = findFieldPath(it, fields);\n      return field ? [field] : [];\n    }\n  }));\n}\n\nexport function findFieldPath(def: SchemaFormField, fields: { [key: string]: FieldDefinition }): string {\n  const field = Object.values(fields).find(it => it.id === def.id);\n  return field && field.plainPath;\n}\n\nexport function replaceLastPath(paths: string[], last: string[]): string[] {\n  return paths.map(it => {\n    const splits = splitPath(it);\n    splits.splice(splits.length - last.length, last.length, ...last);\n    return splits.join(PATH_SEPARATOR);\n  });\n}\n\nexport function appendPath(paths: string[], suffix: string): string[] {\n  if (paths) {\n    return paths.map(path => path + PATH_SEPARATOR + suffix);\n  } else {\n    return [suffix];\n  }\n}\n\nexport function takePath(paths: string[], to: number): string[] {\n  return paths.map(path => splitPath(path).slice(0, to).join(PATH_SEPARATOR));\n}\n\nexport function isPathMatchPatterns(field: FieldDefinition, patterns: string[]): boolean {\n  return patterns.some(it => isPathMatchPattern(field, it));\n}\n\nexport function isFuzzyPath(path: string | SchemaFormField) {\n  return typeof path === 'string' && (path.includes('*') || path.includes('?'));\n}\n\nfunction isPathMatchPattern(origin: FieldDefinition, pattern: string) {\n  if (isFuzzyPath(pattern)) {\n    return matchPath(splitPath(pattern), splitPath(origin.plainPath));\n  } else {\n    if (pattern.startsWith('#')) {\n      const id = pattern.substr(1);\n      return origin.id === id;\n    } else {\n      return origin.plainPath === pattern;\n    }\n  }\n}\n\nexport function matchSinglePath(path: string, fields: { [key: string]: FieldDefinition }): string[] {\n  if (isFuzzyPath(path)) {\n    if (path.startsWith('#')) {\n      throw new Error('ID匹配不允许包含模糊匹配字符');\n    }\n    const sp = splitPath(path);\n    return Object.keys(fields).filter(it => matchPath(sp, splitPath(it)));\n  } else {\n    if (path.startsWith('#')) {\n      const id = path.substr(1);\n      return Object.keys(fields).filter(p => fields[p].id === id);\n    }\n    if (fields[path]) {\n      return [path];\n    }\n    return [];\n  }\n}\n\nfunction matchPath(origin: string[], path: string[]): boolean {\n  if (origin.length) {\n    if (origin[0] === path[0] || (origin[0] === '?' && !!path[0])) {\n      return matchPath(origin.slice(1), path.slice(1));\n    } else {\n      return origin.length === 1 && (origin[0] === '*' && path.length > 0);\n    }\n  } else if (origin.length === 0 && path.length === 0) {\n    return true;\n  }\n  return false;\n}\n","module.exports = moment;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=84d23a2a&lang=less\"","<template>\n  <router-view/>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=4655df9e\"\nconst script = {}\n\nimport exportComponent from \"/Users/wuhao/IdeaProjects/v-schema-form-next/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {RouteRecordRaw} from 'vue-router';\n\nexport interface MenuItem {\n  id: string;\n  name: string;\n  path: string;\n  children: Array<MenuItem>;\n}\n\nexport const resolveMenus = (routes: RouteRecordRaw[]): MenuItem[] => {\n  const menus: MenuItem[] = [];\n  routes.forEach(route => {\n    menus.push({\n      id: route.path,\n      name: route.meta.name as string,\n      path: route.path,\n      children: resolveMenus(route.children || [])\n    });\n  });\n  return menus;\n}\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_sub_menu = _resolveComponent(\"sub-menu\", true)!\n  const _component_a_sub_menu = _resolveComponent(\"a-sub-menu\")!\n  const _component_a_menu_item = _resolveComponent(\"a-menu-item\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menus, (item, key) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: key }, [\n      (item.children && item.children.length)\n        ? (_openBlock(), _createBlock(_component_a_sub_menu, {\n            key: item.path,\n            title: item.name\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.title) + \" \", 1),\n              _createVNode(_component_sub_menu, {\n                menus: item.children\n              }, null, 8, [\"menus\"])\n            ]),\n            _: 2\n          }, 1032, [\"title\"]))\n        : (_openBlock(), _createBlock(_component_a_menu_item, {\n            key: item.path,\n            onClick: ($event: any) => (_ctx.to(item.path))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(item.name), 1)\n            ]),\n            _: 2\n          }, 1032, [\"onClick\"]))\n    ], 64))\n  }), 128))\n}","\n  import {defineComponent} from 'vue';\n  import {useRouter} from 'vue-router';\n\n  export default defineComponent({\n    name: 'SubMenu',\n    props: {\n      menus: Array,\n      title: [String, Object]\n    },\n    setup() {\n      const router = useRouter();\n      return {\n        to(path: string) {\n          return router.push(path);\n        }\n      };\n    }\n  });\n","import { render } from \"./sub-menu.vue?vue&type=template&id=0539f782&ts=true\"\nimport script from \"./sub-menu.vue?vue&type=script&lang=ts\"\nexport * from \"./sub-menu.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/wuhao/IdeaProjects/v-schema-form-next/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {defineComponent, ref} from 'vue';\nimport {useRouter} from 'vue-router';\nimport {resolveMenus} from '../utils/menu';\nimport SubMenu from './sub-menu.vue';\n\nexport default (routes) => {\n  return defineComponent({\n    name: 'DocNav',\n    setup() {\n      const router = useRouter();\n      const openKeys = ref([]);\n      const menus = resolveMenus(routes);\n      return {\n        openKeys,\n        menus,\n        to(path: string) {\n          return router.push(path);\n        }\n      };\n    },\n    render() {\n      return (\n          <a-menu\n              openKeys={this.openKeys}\n              mode=\"inline\">\n            {\n              this.menus.map((item) => {\n                if (item.children.length) {\n                  return (\n                      <a-sub-menu\n                          key={item.path}\n                          title={item.name}>\n                        <SubMenu\n                            menus={item.children}\n                            title={item.path}>\n                        </SubMenu>\n                      </a-sub-menu>\n                  );\n                } else {\n                  return (\n                      <a-menu-item\n                          key={item.path}\n                          onClick={() => {\n                            this.to(item.path);\n                          }}>\n                        {item.name}\n                      </a-menu-item>\n                  );\n                }\n              })\n            }\n          </a-menu>\n      );\n    }\n  });\n};\n","<template>\n  <router-view/>\n</template>\n","import { render } from \"./root.vue?vue&type=template&id=09758afd\"\nconst script = {}\n\nimport exportComponent from \"/Users/wuhao/IdeaProjects/v-schema-form-next/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {RouteRecordRaw} from 'vue-router';\nimport RootComponent from '../components/root.vue';\n\nexport default [{\n  path: '/demo/AntDesignVue',\n  redirect: '/demo/AntDesignVue/jiandanchangjing',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: 'Ant Design Vue'\n  },\n  children: [\n    {\n  path: '/demo/AntDesignVue/jiandanchangjing',\n  component: () => import('../generated/demo/AntDesignVue/jiandanchangjing/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '简单场景'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/biaodanxiangqing',\n  component: () => import('../generated/demo/AntDesignVue/biaodanxiangqing/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '表单详情'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/biaodanliandong',\n  component: () => import('../generated/demo/AntDesignVue/biaodanliandong/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '表单联动'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/biaodanxiaoyan',\n  component: () => import('../generated/demo/AntDesignVue/biaodanxiaoyan/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '表单校验'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/biaodanliebiao',\n  component: () => import('../generated/demo/AntDesignVue/biaodanliebiao/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '表单列表'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/dongtaibiaodan',\n  component: () => import('../generated/demo/AntDesignVue/dongtaibiaodan/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '动态表单'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/zidingyizujian',\n  component: () => import('../generated/demo/AntDesignVue/zidingyizujian/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '自定义组件'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/xuhao',\n  component: () => import('../generated/demo/AntDesignVue/xuhao/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '序号'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/AntDesignVueMobile',\n  redirect: '/demo/AntDesignVueMobile/liebiao',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: 'Ant Design Vue Mobile'\n  },\n  children: [\n    {\n  path: '/demo/AntDesignVueMobile/liebiao',\n  component: () => import('../generated/demo/AntDesignVueMobile/liebiao/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '列表'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/fuzuoyonghanshu',\n  component: () => import('../generated/demo/AntDesignVueMobile/fuzuoyonghanshu/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '副作用函数'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/dongtaibiaodan',\n  component: () => import('../generated/demo/AntDesignVueMobile/dongtaibiaodan/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '动态表单'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/xiaoyan',\n  component: () => import('../generated/demo/AntDesignVueMobile/xiaoyan/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '校验'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/jiandanbuju',\n  component: () => import('../generated/demo/AntDesignVueMobile/jiandanbuju/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '简单布局'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/bianji',\n  component: () => import('../generated/demo/AntDesignVueMobile/bianji/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '编辑'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/jiegoufuzhi',\n  component: () => import('../generated/demo/AntDesignVueMobile/jiegoufuzhi/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '解构赋值'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/xiangqing',\n  component: () => import('../generated/demo/AntDesignVueMobile/xiangqing/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '详情'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/Element',\n  redirect: '/demo/Element/liebiao',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: 'Element'\n  },\n  children: [\n    {\n  path: '/demo/Element/liebiao',\n  component: () => import('../generated/demo/Element/liebiao/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '列表'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/dongtaibiaodan',\n  component: () => import('../generated/demo/Element/dongtaibiaodan/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '动态表单'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/xiaoyan',\n  component: () => import('../generated/demo/Element/xiaoyan/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '校验'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/jiandanchangjing',\n  component: () => import('../generated/demo/Element/jiandanchangjing/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '简单场景'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/liandong',\n  component: () => import('../generated/demo/Element/liandong/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '联动'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/jiegou',\n  component: () => import('../generated/demo/Element/jiegou/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '解构'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/xiangqing',\n  component: () => import('../generated/demo/Element/xiangqing/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '详情'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/zibiaodan',\n  redirect: '/demo/zibiaodan/yidongduan',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: '子表单'\n  },\n  children: [\n    {\n  path: '/demo/zibiaodan/yidongduan',\n  component: () => import('../generated/demo/zibiaodan/yidongduan/index.vue'),\n  meta: {\n    tags: ['子表单'],\n    name: '移动端'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zibiaodan/bianji',\n  component: () => import('../generated/demo/zibiaodan/bianji/index.vue'),\n  meta: {\n    tags: ['子表单'],\n    name: '编辑'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zibiaodan/xiangqing',\n  component: () => import('../generated/demo/zibiaodan/xiangqing/index.vue'),\n  meta: {\n    tags: ['子表单'],\n    name: '详情'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/buju',\n  redirect: '/demo/buju/fenbu',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: '布局'\n  },\n  children: [\n    {\n  path: '/demo/buju/fenbu',\n  component: () => import('../generated/demo/buju/fenbu/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '分步'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/kapian',\n  component: () => import('../generated/demo/buju/kapian/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '卡片'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/qiantao',\n  component: () => import('../generated/demo/buju/qiantao/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '嵌套'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/shuzu',\n  component: () => import('../generated/demo/buju/shuzu/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '数组'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/wenbenchuanlian',\n  component: () => import('../generated/demo/buju/wenbenchuanlian/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '文本串联'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/zhage',\n  component: () => import('../generated/demo/buju/zhage/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '栅格'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/denglu',\n  component: () => import('../generated/demo/buju/denglu/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '登录'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/jiandan',\n  component: () => import('../generated/demo/buju/jiandan/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '简单'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/xianxing',\n  component: () => import('../generated/demo/buju/xianxing/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '线性'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/texing',\n  redirect: '/demo/texing/shijianchuli',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: '特性'\n  },\n  children: [\n    {\n  path: '/demo/texing/shijianchuli',\n  component: () => import('../generated/demo/texing/shijianchuli/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '事件处理'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/qiyongjinyong',\n  component: () => import('../generated/demo/texing/qiyongjinyong/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '启用禁用'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/duixiangshuzu',\n  component: () => import('../generated/demo/texing/duixiangshuzu/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '对象数组'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/anniu',\n  component: () => import('../generated/demo/texing/anniu/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '按钮'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/zidingyizujian',\n  component: () => import('../generated/demo/texing/zidingyizujian/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '自定义组件'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/biaodanxiaoyan',\n  component: () => import('../generated/demo/texing/biaodanxiaoyan/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '表单校验'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/jiegoufuzhi',\n  component: () => import('../generated/demo/texing/jiegoufuzhi/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '解构赋值'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/morenzhi',\n  component: () => import('../generated/demo/texing/morenzhi/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '默认值'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/zujian',\n  redirect: '/demo/zujian/xialakuang',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: '组件'\n  },\n  children: [\n    {\n  path: '/demo/zujian/xialakuang',\n  component: () => import('../generated/demo/zujian/xialakuang/index.vue'),\n  meta: {\n    tags: ['组件'],\n    name: '下拉框'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zujian/tupian',\n  component: () => import('../generated/demo/zujian/tupian/index.vue'),\n  meta: {\n    tags: ['组件'],\n    name: '图片'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zujian/fuxuankuang',\n  component: () => import('../generated/demo/zujian/fuxuankuang/index.vue'),\n  meta: {\n    tags: ['组件'],\n    name: '复选框'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zujian/anniu',\n  component: () => import('../generated/demo/zujian/anniu/index.vue'),\n  meta: {\n    tags: ['组件'],\n    name: '按钮'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zujian/wenjian',\n  component: () => import('../generated/demo/zujian/wenjian/index.vue'),\n  meta: {\n    tags: ['组件'],\n    name: '文件'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zujian/shijianxuanzeqi',\n  component: () => import('../generated/demo/zujian/shijianxuanzeqi/index.vue'),\n  meta: {\n    tags: ['组件'],\n    name: '时间选择器'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zujian/wangge',\n  component: () => import('../generated/demo/zujian/wangge/index.vue'),\n  meta: {\n    tags: ['组件'],\n    name: '网格'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zujian/biaodan',\n  component: () => import('../generated/demo/zujian/biaodan/index.vue'),\n  meta: {\n    tags: ['组件'],\n    name: '表单'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}] as RouteRecordRaw[];\n","import {RouteRecordRaw} from 'vue-router';\nimport RootComponent from '../components/root.vue';\n\nexport default [{\n  path: '/doc/jieshao',\n  component: () => import('../generated/doc/jieshao/index.vue'),\n  meta: {\n    tags: [],\n    name: '介绍'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/anzhuangshiyong',\n  component: () => import('../generated/doc/anzhuangshiyong/index.vue'),\n  meta: {\n    tags: [],\n    name: '安装使用'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/fuzuoyonghanshu',\n  component: () => import('../generated/doc/fuzuoyonghanshu/index.vue'),\n  meta: {\n    tags: [],\n    name: '副作用函数'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/biangengjilu',\n  component: () => import('../generated/doc/biangengjilu/index.vue'),\n  meta: {\n    tags: [],\n    name: '变更记录'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/neizhileixing',\n  component: () => import('../generated/doc/neizhileixing/index.vue'),\n  meta: {\n    tags: [],\n    name: '内置类型'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/jiegoufuzhi',\n  component: () => import('../generated/doc/jiegoufuzhi/index.vue'),\n  meta: {\n    tags: [],\n    name: '解构赋值'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/jiekou',\n  component: () => import('../generated/doc/jiekou/index.vue'),\n  meta: {\n    tags: [],\n    name: '接口'\n  },\n  children: [\n    \n  ]\n}] as RouteRecordRaw[];\n","import {RouteRecordRaw} from 'vue-router';\nimport RootComponent from '../components/root.vue';\n\nexport default [{\n  path: '/components/anniu',\n  component: () => import('../generated/components/anniu/index.vue'),\n  meta: {\n    tags: [],\n    name: '按钮'\n  },\n  children: [\n    \n  ]\n}] as RouteRecordRaw[];\n","import {createRouter, createWebHistory} from 'vue-router';\nimport DemoIndex from '../docs/demo/index.vue';\nimport createNav from '../views/nav';\nimport demoRoutes from './demo';\nimport docRoutes from './doc';\nimport components from './components';\n\nexport default createRouter({\n  history: createWebHistory(),\n  routes: [{\n    path: '/',\n    redirect: docRoutes[0].path\n  }, {\n    path: '/doc',\n    redirect: docRoutes[0].path,\n    components: {\n      default: DemoIndex,\n      nav: createNav(docRoutes)\n    },\n    children: docRoutes\n  }, {\n    path: '/demo',\n    name: 'demo',\n    components: {\n      default: DemoIndex,\n      nav: createNav(demoRoutes)\n    },\n    redirect: demoRoutes[0].path,\n    children: demoRoutes\n  }, {\n    path: '/components',\n    name: 'components',\n    components: {\n      default: DemoIndex,\n      nav: createNav(components)\n    },\n    redirect: '/components/grid',\n    children: components\n  }]\n});\n","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { style: {\"height\":\"100%\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n  const _component_app_banner = _resolveComponent(\"app-banner\")!\n  const _component_a_layout_header = _resolveComponent(\"a-layout-header\")!\n  const _component_a_layout_sider = _resolveComponent(\"a-layout-sider\")!\n  const _component_a_layout_content = _resolveComponent(\"a-layout-content\")!\n  const _component_a_layout = _resolveComponent(\"a-layout\")!\n  const _component_a_config_provider = _resolveComponent(\"a-config-provider\")!\n\n  return (_openBlock(), _createBlock(_component_a_config_provider, { locale: _ctx.zh_CN }, {\n    default: _withCtx(() => [\n      (_ctx.mobile)\n        ? (_openBlock(), _createBlock(_component_router_view, { key: 0 }))\n        : (_openBlock(), _createBlock(_component_a_layout, {\n            key: 1,\n            class: \"ant-pro-fixed-header ant-pro-fixed-sider root-layout\",\n            theme: \"light\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_layout_header, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_app_banner)\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_a_layout, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_a_layout_sider, { width: \"200px\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_router_view, { name: \"nav\" })\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_a_layout_content, { class: \"bg-white\" }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_1, [\n                        _createVNode(_component_router_view)\n                      ])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }))\n    ]),\n    _: 1\n  }, 8, [\"locale\"]))\n}","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4425128a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header-content\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"logo-wrapper\",\n  href: \"/\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"logo\" }, \" V SCHEMA FORM \")\n], -1))\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" 文档 \")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" 场景示例 \")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" 组件 \")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" 更新记录 \")\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" GitHub \")\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  fill: \"none\",\n  height: \"1em\",\n  stroke: \"currentColor\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  \"stroke-width\": \"2\",\n  style: {\"margin-left\":\"4px\",\"font-size\":\"10px\"},\n  viewBox: \"0 0 24 24\",\n  width: \"1em\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" }),\n  /*#__PURE__*/_createElementVNode(\"polyline\", { points: \"15 3 21 3 21 9\" }),\n  /*#__PURE__*/_createElementVNode(\"line\", {\n    x1: \"10\",\n    x2: \"21\",\n    y1: \"14\",\n    y2: \"3\"\n  })\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_a_menu_item = _resolveComponent(\"a-menu-item\")!\n  const _component_a_menu = _resolveComponent(\"a-menu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(_component_a_menu, {\n      \"active-key\": $setup.activeKey,\n      class: \"top-nav\",\n      mode: \"horizontal\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_menu_item, {\n          key: \"doc\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$router.push('/doc')))\n        }, {\n          default: _withCtx(() => [\n            _hoisted_3\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_a_menu_item, {\n          key: \"demo\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => ($setup.to('/demo')))\n        }, {\n          default: _withCtx(() => [\n            _hoisted_4\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_a_menu_item, {\n          key: \"components\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => ($setup.to('/components')))\n        }, {\n          default: _withCtx(() => [\n            _hoisted_5\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_a_menu_item, {\n          key: \"changelog\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => ($setup.to('/doc/changelog')))\n        }, {\n          default: _withCtx(() => [\n            _hoisted_6\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_a_menu_item, { onClick: $setup.toGithub }, {\n          default: _withCtx(() => [\n            _hoisted_7,\n            _hoisted_8\n          ]),\n          _: 1\n        }, 8, [\"onClick\"])\n      ]),\n      _: 1\n    }, 8, [\"active-key\"])\n  ]))\n}","\nimport {computed} from 'vue';\nimport {useRoute, useRouter} from 'vue-router';\n\nexport default {\n  name: 'AppBanner',\n  setup() {\n    const route = useRoute();\n    const activeKey = computed(() => {\n      if (route.path === '/doc/changelog') {\n        return 'changelog';\n      }\n      if (route.path) {\n        return route.path.split('/').filter(it => it.length > 0)[0];\n      }\n      return 'doc';\n    });\n    const router = useRouter();\n    return {\n      activeKey,\n      toGithub() {\n        window.open('https://github.com/wuhao000/vue-schema-form');\n      },\n      to(path) {\n        router.push({\n          path\n        });\n      }\n    };\n  }\n};\n","import { render } from \"./banner.vue?vue&type=template&id=4425128a&scoped=true&ts=true\"\nimport script from \"./banner.vue?vue&type=script&lang=ts\"\nexport * from \"./banner.vue?vue&type=script&lang=ts\"\n\nimport \"./banner.vue?vue&type=style&index=0&id=4425128a&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wuhao/IdeaProjects/v-schema-form-next/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4425128a\"]])\n\nexport default __exports__","\n  import zh_CN from 'ant-design-vue/lib/locale-provider/zh_CN';\n  import {defineComponent, ref} from 'vue';\n  import AppBanner from './banner.vue';\n\n  export default defineComponent({\n    name: 'HomePage',\n    components: {\n      AppBanner\n    },\n    setup() {\n      const mobile = ref(false);\n      if (window.location.pathname.indexOf('/mobile') === 0) {\n        mobile.value = true;\n      }\n      return {\n        zh_CN, mobile\n      };\n    }\n  });\n","import { render } from \"./index.vue?vue&type=template&id=84d23a2a&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=tsx\"\nexport * from \"./index.vue?vue&type=script&lang=tsx\"\n\nimport \"./index.vue?vue&type=style&index=0&id=84d23a2a&lang=less\"\n\nimport exportComponent from \"/Users/wuhao/IdeaProjects/v-schema-form-next/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1ce8335e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ant-card-actions\" }\nconst _hoisted_2 = [\"title\"]\nconst _hoisted_3 = { key: 0 }\n\nimport {CodepenOutlined, CodepenCircleOutlined} from '@ant-design/icons-vue';\n  import {ref} from 'vue';\n\n  \nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\n  // noinspection ES6UnusedImports\n  const showCode = ref(false);\n\n  const toggle = () => {\n    showCode.value = !showCode.value;\n  };\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_card = _resolveComponent(\"a-card\")!\n\n  return (_openBlock(), _createBlock(_component_a_card, { class: \"demo-wrapper\" }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\"),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"a\", {\n          title: showCode.value ? '收起代码' : '查看代码',\n          onClick: toggle\n        }, [\n          (showCode.value)\n            ? (_openBlock(), _createBlock(_unref(CodepenCircleOutlined), { key: 0 }))\n            : (_openBlock(), _createBlock(_unref(CodepenOutlined), { key: 1 }))\n        ], 8, _hoisted_2)\n      ]),\n      (showCode.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _renderSlot(_ctx.$slots, \"code\")\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 3\n  }))\n}\n}\n\n})","import script from \"./demo-wrapper.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./demo-wrapper.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./demo-wrapper.vue?vue&type=style&index=0&id=1ce8335e&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wuhao/IdeaProjects/v-schema-form-next/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1ce8335e\"]])\n\nexport default __exports__","import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createElementVNode(\"textarea\", {\n      ref: \"elRef\",\n      style: _normalizeStyle(_ctx.textAreaStyle),\n      value: _ctx.value\n    }, null, 12, _hoisted_1)\n  ]))\n}","'use strict';\n\nimport cssbeautify from 'cssbeautify';\nimport {prettyPrint as html} from 'html';\nimport {js_beautify as jsBeautify} from 'js-beautify';\n\nconst clean = (data: any) => {\n  if (~['\"', '\\''].indexOf(data[0]) &&\n      ~['\"', '\\''].indexOf(data[data.length - 1]) &&\n      data[0] === data[data.length - 1]\n  ) {\n    return data.substring(1, data.length - 1);\n  }\n  return data;\n};\n\nconst beautify = (data: string, o: any) => {\n  let copyData = data;\n  if (!copyData || !copyData.length) {\n    return '';\n  }\n  copyData = clean(copyData.trim());\n  switch (o.format) {\n    case 'css':\n      return cssbeautify(copyData, {\n        indent: '    ',\n        autosemicolon: true\n      });\n    case 'json':\n      return jsBeautify(copyData, {\n        indent_size: 2\n      });\n    case 'js':\n      return jsBeautify(copyData, {\n        indent_size: 2\n      });\n    case 'html':\n      return html(copyData, {\n        indent_size: 2\n      });\n    case 'xml':\n      return html(copyData, {\n        indent_size: 2\n      });\n  }\n};\nexport default beautify;\n","\n  import CodeMirror, {EditorConfiguration} from 'codemirror';\n  import 'codemirror/addon/hint/show-hint';\n  import 'codemirror/mode/javascript/javascript';\n  import {defineComponent, nextTick, onMounted, PropType, ref, shallowRef} from 'vue';\n  import beautify from '../utils/beautify';\n  import 'codemirror/lib/codemirror.css';\n  import 'codemirror/theme/blackboard.css';\n\n  const types = {\n    html: 'text/html',\n    javascript: 'text/javascript',\n    json: 'application/ld+json',\n    kotlin: 'text/x-kotlin',\n    nginx: 'text/x-nginx-conf',\n    powershell: 'application/x-powershell',\n    python: 'text/x-python',\n    shell: 'application/x-sh',\n    yaml: 'text/x-yaml'\n  };\n\n  export default defineComponent({\n    name: 'CodeEditor',\n    props: {\n      beautify: {type: Boolean, default: false},\n      config: {\n        type: Object as PropType<EditorConfiguration>\n      },\n      editable: {type: Boolean, default: true},\n      getHints: {\n        type: Function\n      },\n      /**\n       * 编辑区高度\n       */\n      height: String,\n      /**\n       * 是否显示代码提示\n       */\n      hint: {type: Boolean, default: false},\n      /**\n       * 代码类型（同codemirror的mode）\n       * 'json' | 'shell' | 'powershell' | 'python' | 'javascript' | 'kotlin' | 'html' | 'nginx' | string\n       */\n      mode: String,\n      /**\n       * 主题\n       */\n      theme: {type: String, default: 'blackboard'},\n      /**\n       * 编辑的内容，支持v-model\n       */\n      value: String,\n      /**\n       * 编辑区域宽度，默认自动\n       */\n      width: String\n    },\n    emits: ['update:value'],\n    setup(props, {slots}) {\n\n      const getRealMode = () => types[props.mode] || props.mode || 'application/ld+json';\n      /*\n       * 如果这里使用了ref，将导致代码提示框无法正常关闭\n       * 在show-hint.js的第90行，this.cm.state.completionActive == this;\n       * 在使用ref的情况下，this.cm.state.completionActive将是一个代理对象，导致这个判断永远为false，\n       */\n      const viewer = shallowRef<CodeMirror.EditorFromTextArea>(null);\n      const elRef = ref(null);\n\n      const getValue = () => {\n        if (props.value) {\n          if (props.beautify) {\n            return beautify(props.value, {format: props.mode || 'json'});\n          }\n          return props.value.trim();\n        }\n        if (slots.default) {\n          const content = slots.default()[0].children;\n          if (typeof content === 'string') {\n            return content.trim();\n          }\n        }\n        return '';\n      }\n      const create = () => {\n        let config = {\n          size: [props.width || 'auto', props.height || 'auto']\n        };\n        if (props.config) {\n          config = Object.assign({}, config, props.config);\n        }\n        const text = getValue();\n        const defaultConfig: EditorConfiguration = {\n          extraKeys: {Alt: 'autocomplete'},\n          indentWithTabs: false,\n          lineNumbers: true,\n          lineWrapping: false,\n          mode: {\n            globalVars: true,\n            name: getRealMode()\n          } as any,\n          readOnly: !props.editable,\n          tabSize: 2,\n          theme: props.theme,\n          value: text\n        };\n        viewer.value = CodeMirror.fromTextArea(elRef.value as HTMLTextAreaElement, Object.assign(defaultConfig, config));\n        if (config.size) {\n          viewer.value.setSize(config.size[0], config.size[1]);\n        }\n        viewer.value.setValue(text);\n        viewer.value.refresh();\n      };\n      onMounted(() => {\n        create();\n      });\n      const refresh = () => {\n        nextTick().then(() => {\n          viewer.value.refresh();\n        });\n      };\n      return {\n        elRef,\n        refresh,\n        textAreaStyle: {\n          display: 'none'\n        }\n      };\n    }\n  });\n","import { render } from \"./code-editor.vue?vue&type=template&id=78464bfe&ts=true\"\nimport script from \"./code-editor.vue?vue&type=script&lang=ts\"\nexport * from \"./code-editor.vue?vue&type=script&lang=ts\"\n\nimport \"./code-editor.vue?vue&type=style&index=0&id=78464bfe&lang=less\"\n\nimport exportComponent from \"/Users/wuhao/IdeaProjects/v-schema-form-next/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"wrapper\" }\n\nimport {useSlots} from 'vue';\n  import CodeEditor from './code-editor.vue';\n\n  \nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\n  const slots = useSlots();\n\n  const code = slots.default?.()?.[0]?.children;\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(CodeEditor, {\n      value: _unref(code),\n      height: \"auto\"\n    }, null, 8, [\"value\"])\n  ]))\n}\n}\n\n})","import script from \"./code-container.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./code-container.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./code-container.vue?vue&type=style&index=0&id=4ff43cb0&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import 'ant-design-vue/dist/antd.css';\nimport Antdm from 'antd-mobile-vue-next';\nimport 'default-passive-events';\nimport vant from 'vant';\nimport 'vant/lib/index.css';\nimport {createApp} from 'vue';\nimport SchemaForm from './schema-form';\nimport router from './router';\nimport './styles';\nimport './styles/github-markdown.less';\nimport App from './views/index.vue';\nimport DemoWrapper from './components/demo-wrapper.vue';\nimport CodeContainer from './components/code-container.vue';\nimport antd from 'ant-design-vue';\nimport CodeEditor from './components/code-editor.vue';\n\nconst app = createApp(App);\napp.config.warnHandler = () => {\n  // do not show\n};\napp.use(Antdm as any);\napp.use(router);\napp.use(vant as any);\napp.use(antd);\napp.use(SchemaForm as any);\napp.component('DemoWrapper', DemoWrapper);\napp.component('CodeContainer', CodeContainer);\napp.component('CodeEditor', CodeEditor);\napp.mount('#app');\n","export const globalThisPolyfill =\n    self || window || global || Function('return this')();\n","import {isEqual} from '../uform/utils';\n\nexport function getStructValue(parentValue: { [key: string]: unknown }, struct: string | any[] | { [key: string]: string | any[] }) {\n  if (Array.isArray(struct)) {\n    return struct.map(key => getStructValue(parentValue, key));\n  } else if (typeof struct === 'string') {\n    if (parentValue && parentValue[struct] === undefined) {\n      parentValue[struct] = null;\n    }\n    return parentValue && parentValue[struct];\n  } else if (typeof struct === 'object') {\n    const value = {};\n    Object.keys(struct).forEach(key => {\n      const destructValue = struct[key];\n      if (typeof destructValue === 'string') {\n        value[key] = parentValue?.[destructValue];\n      } else {\n        value[key] = getStructValue(parentValue, destructValue);\n      }\n    });\n    return value;\n  } else {\n    return parentValue;\n  }\n}\n\n\nexport function setStructValue(parentValue: { [key: string]: unknown }, struct: string | any[] | { [key: string]: string | any[] },\n                               structValue: any) {\n  if (typeof struct === 'string') {\n    const oldValue = parentValue[struct];\n    if (!isEqual(structValue, oldValue)) {\n      parentValue[struct] = structValue;\n    }\n  } else if (Array.isArray(struct)) {\n    struct.forEach((key, index) => {\n      parentValue[key] = structValue ? structValue[index] : undefined;\n    });\n  } else if (struct) {\n    Object.keys(struct).forEach(key => {\n      const destructValue = struct[key];\n      if (typeof destructValue === 'string') {\n        parentValue[destructValue] = structValue[key];\n      } else {\n        setStructValue(parentValue, destructValue, structValue[key]);\n      }\n    });\n  }\n}\n","import {FieldDefinition} from '../internal/utils';\nimport { isRef, unref } from 'vue';\nimport {setStructValue} from './destruct';\n\nexport const setFieldValue = (parentValue: { [key: string]: unknown }, field: FieldDefinition, fieldValue: any, emit) => {\n  const value = isRef(fieldValue) ? unref(fieldValue) : fieldValue;\n  if (field.getComponent().layout) {\n    emit('update:value', value);\n    emit('change', value);\n    return;\n  }\n  if (!field.plainPath) {\n    emit('update:value', value);\n    emit('change', value);\n  } else if (field.processor) {\n    field.processor.setValue(parentValue, field, value);\n  } else {\n    setStructValue(parentValue, field.destructPath.destruct || field.name, value);\n  }\n};\n","import clone from 'lodash.clonedeep';\nimport get from 'lodash.get';\nimport uuid from 'uuid';\nimport {isVNode, reactive, VNode} from 'vue';\nimport {\n  FormFields,\n  IFieldOptions,\n  IFieldState,\n  IFormPathMatcher,\n  IRuleDescription,\n  Path,\n  Platform,\n  SchemaFormComponent,\n  SchemaFormComponentOptions,\n  SchemaFormField,\n  SchemaFormStore,\n  ShowFieldCondition,\n  ValueProcessor\n} from '../../../types';\nimport Empty from '../empty';\nimport {parseDestructPath, toArr} from '../uform/utils';\nimport {getStructValue} from '../utils/destruct';\nimport {setFieldValue} from '../utils/field';\nimport {splitPath} from '../utils/path';\nimport {globalComponentStore} from '../utils/register';\nimport {FieldTypes, fixComponentDefinition, isNotNull, LibComponents, Mode} from '../utils/utils';\nimport FormField from './field';\n\nexport function getPropertyValueByPath(property: string, currentValue: { [p: string]: any } | Array<{ [p: string]: any }>) {\n  const propertyPath = splitPath(property);\n  let tmp = currentValue;\n  propertyPath.forEach(path => {\n    if (!tmp[path]) {\n      tmp[path] = {};\n    }\n    tmp = tmp[path];\n  });\n  return get(currentValue, property);\n}\n\nexport function calcShowState(currentValue, definition: SchemaFormField) {\n  if (definition.depends) {\n    if (typeof definition.depends === 'function') {\n      return definition.depends(currentValue);\n    } else {\n      return !definition.depends\n        .map(condition => matchCondition(currentValue, condition))\n        .some(it => !it);\n    }\n  } else {\n    return definition.visible || definition.visible === null || definition.visible === undefined;\n  }\n}\n\nexport function getRealFields(fields: FormFields) {\n  if (typeof fields === 'object') {\n    return Object.keys(fields)\n      .filter(key => fields[key])\n      .map(key => {\n        const field = fields[key];\n        if (!field.id) {\n          field.id = uuid.v4();\n        }\n        return {\n          id: field.id,\n          property: key,\n          ...fields[key]\n        };\n      });\n  } else {\n    return (fields as SchemaFormField[]).filter(it => it !== null && it !== undefined);\n  }\n}\n\nconst EmptyDefinition = {\n  component: Empty,\n  getProps: (_) => ({})\n} as SchemaFormComponent;\n\nconst missingTypes = [];\n\nexport function getComponentType(store: SchemaFormStore,\n                                 definition: {\n                                   type: string,\n                                   editable?: boolean,\n                                   array?: boolean\n                                 }): SchemaFormComponent {\n  const type = definition.type;\n  const mode: Mode = (!store.editable || definition.editable === false) ? Mode.Display : Mode.Edit;\n  const component: SchemaFormComponent = store.components.search(mode, store.platform, type, definition.array)\n    || globalComponentStore.search(mode, store.platform, type, definition.array) || EmptyDefinition;\n  if (component.component === Empty) {\n    const typeStr = type + mode + store.platform + definition.array;\n    if (!missingTypes.includes(typeStr)) {\n      console.warn(`类型${type}${definition.array ? '（数组）' : ''}没有对应的${store.platform}${mode === 'display' ? '详情' : '编辑'}组件`);\n      missingTypes.push(typeStr);\n    }\n  }\n  return component;\n}\n\n\nexport function matchCondition(value: any, condition: ShowFieldCondition): boolean {\n  if (!value) {\n    return false;\n  }\n  const currentValue = value[condition.property];\n  const compareValue = condition.value;\n  if (currentValue === null || currentValue === undefined) {\n    switch (condition.operator) {\n      case 'in':\n        return compareValue.includes(currentValue);\n      case 'notIn':\n        return !compareValue.includes(currentValue);\n    }\n    return false;\n  } else {\n    switch (condition.operator) {\n      case '=':\n        return compareValue.toString() === currentValue.toString();\n      case '<':\n        return parseFloat(currentValue) < parseFloat(compareValue);\n      case '>':\n        return parseFloat(currentValue) > parseFloat(compareValue);\n      case '>=':\n        return parseFloat(currentValue) >= parseFloat(compareValue);\n      case '<=':\n        return parseFloat(currentValue) <= parseFloat(compareValue);\n      case 'in':\n        return compareValue.includes(currentValue);\n      case 'notIn':\n        return !compareValue.includes(currentValue);\n    }\n  }\n  return true;\n}\n\nexport function renderField(pathPrefix: string[] | null,\n                            store: SchemaFormStore,\n                            field: SchemaFormField,\n                            currentValue: { [p: string]: any } | Array<{ [p: string]: any }>,\n                            index: number, wrap: boolean, emit) {\n  let value = null;\n  if (field.property?.includes('.')) {\n    value = getPropertyValueByPath(field.property.substr(0, field.property.lastIndexOf('.')), currentValue);\n  } else {\n    value = currentValue;\n  }\n  if (field.type === FieldTypes.Object) {\n    if (field.props) {\n      field.props.props = store.props;\n    } else {\n      field.props = {props: store.props};\n    }\n    field.props.effects = store.effects;\n  }\n  const newField = createField(currentValue, store, pathPrefix, field);\n  const type = field.xType || field.type;\n  const component = field.slot ? undefined : (\n    typeof type === 'string' ? getComponentType(store, {\n      type,\n      editable: field.editable,\n      array: field.array\n    }) : fixComponentDefinition(type, !field.editable)\n  );\n  const props: any = {\n    wrap,\n    field: newField,\n    path: buildArrayPath(pathPrefix, field),\n    disabled: newField.disabled || store.disabled || store.loading,\n    definition: field,\n    formValue: currentValue,\n    'onUpdate:value': (v) => {\n      setFieldValue(value, newField, v, emit);\n    },\n    key: `field-${field.property}-${index}`,\n    index\n  };\n  if (!component || component.forInput) {\n    props.value = getFieldValue(value, newField, component);\n  }\n  return <FormField {...props}/>;\n}\n\n\nexport function buildArrayPath(pathPrefix: string[], field: SchemaFormField): string[] {\n  if (pathPrefix) {\n    return pathPrefix.concat(field.property);\n  } else {\n    if (field.property) {\n      return field.property.split('.');\n    }\n    return [];\n  }\n}\n\nexport class FieldDefinition<V = any> {\n  public id: string = null;\n  public definition: SchemaFormField = null;\n  public disabled = false;\n  public enum: any[] | (() => any[] | Promise<any[]>) | Promise<any[]> = null;\n  public title: any = null;\n  public array = false;\n  public type: string | SchemaFormComponentOptions | SchemaFormComponentOptions[] = null;\n  public processor: ValueProcessor;\n  public changeEditable?: (editable: boolean | ((name: string) => boolean)) => void = null;\n  public description?: string | VNode;\n  public destructPath?: {\n    path: string,\n    destruct: any\n  } = null;\n  public destructor?: () => void = null;\n  public dirty?: boolean = null;\n  public dirtyType?: string = null;\n  public display = false;\n  public displayValue?: any = null;\n  public editable = true;\n  public effectErrors?: string[] = null;\n  public errors?: string[] = null;\n  public events?: { [key: string]: (...args: any[]) => any };\n  public fields?: FormFields = null;\n  public focus?: (event?: boolean) => any = null;\n  public hiddenFromParent?: boolean = null;\n  public default?: V = null;\n  public initialize?: (options: IFieldOptions) => void = null;\n  public invalid?: boolean = false;\n  public lastValidateValue?: V = null;\n  public loading = false;\n  public match?: (path: Path | IFormPathMatcher) => boolean = null;\n  public name?: string = null;\n  public notify?: (forceUpdate?: boolean) => void = null;\n  public onChange?: (fn: () => void) => void = null;\n  public path?: string[] = null;\n  public pathEqual?: (path: Path | IFormPathMatcher) => boolean = null;\n  public plainPath?: string = null;\n  public pristine?: boolean = null;\n  public props?: any = null;\n  public publishState?: () => IFieldState = null;\n  public required = false;\n  public min?: number;\n  public max?: number;\n  public rules?: IRuleDescription[] = null;\n  public setGetValue?: (value?: any) => any = null;\n  public shownFromParent?: boolean = null;\n  public syncContextValue?: () => void = null;\n  public store?: SchemaFormStore = null;\n  public updateState?: (fn: (state: IFieldState) => void) => void = null;\n  public valid = true;\n  public validate?: (trigger?: string) => (boolean | Promise<unknown>) = null;\n  public inputRef?: any;\n  public value: V = null;\n  public visible = true;\n  public xType: string | SchemaFormComponentOptions = null;\n  public slot?: string = null;\n  public forInput? = true;\n\n  constructor(definition: SchemaFormField,\n              store: SchemaFormStore,\n              pathPrefix: string[], currentValue: any) {\n    this.array = definition.array;\n    this.definition = definition;\n    this.disabled = false;\n    this.display = true;\n    this.enum = definition.enum || null;\n    this.id = definition.id;\n    this.processor = definition.processor;\n    this.slot = definition.slot;\n    this.store = store;\n    this.title = definition.title;\n    this.type = definition.type;\n    this.xType = definition.xType;\n    this.events = definition.events;\n    this.editable = definition.editable === undefined ? true : definition.editable;\n    this.name = definition.property;\n    this.path = buildArrayPath(pathPrefix, definition);\n    this.plainPath = buildArrayPath(pathPrefix, definition).join('.');\n    this.destructPath = parseDestructPath(definition.property);\n    this.props = Object.assign({}, definition.props);\n    this.visible = calcShowState(currentValue, definition);\n    this.valid = true;\n    this.displayValue = definition.displayValue;\n    this.required = definition.required;\n    this.min = definition.min;\n    this.max = definition.max;\n    this.fields = proxyFields(definition.fields);\n    this.effectErrors = [];\n    this.description = definition.description;\n    this.errors = [];\n    this.hiddenFromParent = false;\n    this.default = definition.default;\n    this.initialize = () => {\n      // default do nothing\n    };\n    this.invalid = false;\n    this.value = currentValue;\n    this.setGetValue = null;\n  }\n\n  public getRules() {\n    return getRulesFromProps(this.definition, this.required);\n  }\n\n\n  public generateEvents(): { [key: string]: (...args: any[]) => any } {\n\n    const getEventMetadata = (event) => {\n      return {event, path: this.plainPath, field: this};\n    };\n\n    const onFocus = (event, ...args) => {\n      if (this.events?.onFocus) {\n        this.events?.onFocus?.(this.store.context, event, ...args);\n      } else if (this.props?.onBlur) {\n        this.props?.onFocus?.(event, ...args);\n      }\n      const input = this.inputRef;\n      let el: any;\n      if (isVNode(input)) {\n        el = input.el;\n      } else {\n        el = input;\n      }\n      if (el) {\n        if (el.focus) {\n          el.focus({preventScroll: false});\n          if (event === true) {\n            el.scrollIntoView({behavior: 'smooth'});\n          }\n        }\n        this.store.context.trigger(SchemaFormEvents.fieldFocus, getEventMetadata(event));\n      }\n    };\n\n    const onKeydown = (event, ...args) => {\n      if (this.events?.onKeydown) {\n        this.events?.onKeydown?.(this.store.context, event, ...args);\n      } else if (this.props?.onKeydown) {\n        this.props?.onKeydown?.(event, ...args);\n      }\n      this.store.context.trigger(SchemaFormEvents.fieldKeydown, getEventMetadata(event));\n    };\n\n    const onKeyup = (event, ...args) => {\n      if (this.events?.onKeyup) {\n        this.events?.onKeyup?.(this.store.context, event, ...args);\n      } else if (this.props?.onKeyup) {\n        this.props?.onKeyup?.(event, ...args);\n      }\n      this.store.context.trigger(SchemaFormEvents.fieldKeyup, getEventMetadata(event));\n    };\n\n    const onBlur = (event, ...args) => {\n      if (this.events?.onBlur) {\n        this.events?.onBlur?.(this.store.context, event, ...args);\n      } else if (this.props?.onBlur) {\n        this.props?.onBlur?.(event, ...args);\n      }\n      if (this.valid) {\n        this.validate('blur');\n      } else {\n        this.validate();\n      }\n      this.store.context.trigger(SchemaFormEvents.fieldBlur, getEventMetadata(event));\n    };\n\n    const fieldEvents = {\n      onBlur, onFocus, onKeydown, onKeyup\n    };\n    if (this.events) {\n      const keys = Object.keys(fieldEvents);\n      Object.keys(this.events).filter(it => !keys.includes(it)).forEach(eventKey => {\n        fieldEvents[eventKey] = (...args) => {\n          this.events[eventKey](this.store.context, ...args);\n        };\n      });\n    }\n    return fieldEvents;\n  }\n\n  public getComponent(forDisplay = false, platform: Platform = 'desktop'): SchemaFormComponent {\n    const type = this.xType || this.type;\n    if (typeof type === 'string') {\n      return getComponentType(this.store, {\n        type,\n        editable: this.editable,\n        array: this.array\n      });\n    }\n    if (typeof type === 'function' || isVNode(type)) {\n      return {\n        component: type,\n        platform: platform,\n        type: '',\n        forArray: false,\n        forInput: !forDisplay,\n        layoutOptions: null,\n        valueProp: 'value',\n        wrap: true,\n        layout: null,\n        getProps: () => {\n          return {};\n        }\n      };\n    }\n    return fixComponentDefinition(type, forDisplay);\n  }\n\n}\n\n\nexport function createField(currentValue: any,\n                            store: SchemaFormStore,\n                            pathPrefix: string[],\n                            definition: SchemaFormField): FieldDefinition {\n  const plainPath = buildArrayPath(pathPrefix, definition).join('.');\n  const existsField: FieldDefinition = store.fields[plainPath];\n  if (existsField) {\n    return existsField;\n  } else {\n    const field = new FieldDefinition(definition, store, pathPrefix, currentValue);\n    return reactive(field) as FieldDefinition;\n  }\n}\n\nconst proxyFields = (fields: FormFields): FormFields => {\n  if (fields) {\n    if (Array.isArray(fields)) {\n      fields.forEach((field, index) => {\n        fields[index] = proxyField(field);\n      });\n    } else {\n      Object.keys(fields).forEach(key => {\n        fields[key] = proxyField(fields[key]);\n      });\n    }\n  }\n  return fields;\n};\n\nconst proxyField = (field: SchemaFormField): SchemaFormField => {\n  // return new Proxy(field, {\n  //   get: (target, property) => {\n  //     return target[property];\n  //   }\n  // });\n  return field;\n};\n\nconst getRulesFromProps = (field: SchemaFormField, required: boolean) => {\n  const rules: IRuleDescription[] = toArr(field.rules);\n  if (required && !rules.some(rule => rule.required)) {\n    rules.push({required: true, message: `${field.title ?? '该字段'}为必填项`});\n  }\n  if (field.format && !rules.some(rule => rule.format === field.format)) {\n    rules.push({format: field.format, message: `${field.title ?? '字段'}格式不正确`});\n  }\n  if (isNotNull(field.min)) {\n    rules.push({min: field.min});\n  }\n  if (isNotNull(field.max)) {\n    rules.push({max: field.max});\n  }\n  return clone(rules);\n\n};\nexport const getFieldValue = (value: any, field: FieldDefinition, component: SchemaFormComponent) => {\n  if (component?.layout) {\n    return value;\n  }\n  if (field.processor) {\n    return field.processor.getValue(value, field);\n  } else {\n    return getStructValue(value, field.destructPath.destruct || field.name);\n  }\n};\n\nexport const getFormItemComponent = (platform: Platform) => LibComponents.formItem[platform];\n\nexport const getSelectComponent = (platform: Platform) => LibComponents.select[platform];\n\nexport const getInputComponent = (platform: Platform) => LibComponents.input[platform];\n\nexport enum SchemaFormEvents {\n  fieldKeyup = 'fieldKeyup',\n  fieldKeydown = 'fieldKeydown',\n  fieldFocus = 'fieldFocus',\n  fieldBlur = 'fieldBlur',\n  fieldChange = 'fieldChange',\n  fieldCreate = 'fieldCreate',\n  validate = 'validate'\n}\n"],"sourceRoot":""}