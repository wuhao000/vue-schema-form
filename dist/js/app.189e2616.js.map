{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/schema-form/empty.tsx","webpack:///./src/components/code-container.vue?e37d","webpack:///./src/schema-form/config.ts","webpack:///./src/components/code-editor.vue?1d40","webpack:///./src/schema-form/utils/array.ts","webpack:///./src/schema-form/uform/types/types.ts","webpack:///./src/schema-form/uform/utils/array.ts","webpack:///./src/schema-form/uform/utils/lru.ts","webpack:///./src/schema-form/uform/utils/accessor.ts","webpack:///./src/schema-form/uform/utils/compare.ts","webpack:///./src/schema-form/uform/utils/isEmpty.ts","webpack:///./src/schema-form/common/base-url.tsx","webpack:///./src/schema-form/antd/utils.tsx","webpack:///./src/views/show-value.vue","webpack:///./src/views/show-value.vue?bc7c","webpack:///./src/schema-form/utils/utils.tsx","webpack:///./src/schema-form/utils/register.ts","webpack:///external \"Vue\"","webpack:///./src/schema-form/common/array-wrapper.tsx","webpack:///./src/schema-form/compatible.tsx","webpack:///./src/schema-form/internal/field.tsx","webpack:///./src/schema-form/common/base-button.ts","webpack:///./src/schema-form/antd/components/button/button.tsx","webpack:///./src/schema-form/antd/components/button/index.ts","webpack:///./src/schema-form/antd/components/date-picker/date-picker.tsx","webpack:///./src/schema-form/antd/components/date-picker/index.ts","webpack:///./src/schema-form/antd/components/form/form.tsx","webpack:///./src/schema-form/antd/components/range-picker/range-picker.tsx","webpack:///./src/schema-form/antd/components/range-picker/index.ts","webpack:///./src/schema-form/common/base-time-picker.ts","webpack:///./src/schema-form/antd/components/time-picker/time-picker.tsx","webpack:///./src/schema-form/common/base-time-range-picker.ts","webpack:///./src/schema-form/antd/components/time-picker/time-range-picker.tsx","webpack:///./src/schema-form/antd/components/time-picker/index.ts","webpack:///./src/schema-form/antd/components/select.tsx","webpack:///./src/schema-form/antd/components/form/item.tsx","webpack:///./src/schema-form/antd/components/checkbox-group.tsx","webpack:///./src/schema-form/antd/components/radio-group.tsx","webpack:///./src/schema-form/internal/field-based-component.tsx","webpack:///./src/schema-form/internal/form.tsx","webpack:///./src/schema-form/display/mobile-display-field.tsx","webpack:///./src/schema-form/display/plain-display-field.tsx","webpack:///./src/schema-form/display/range-display-field.tsx","webpack:///./src/schema-form/display/select-display-field.tsx","webpack:///./src/schema-form/display/switch-display-field.tsx","webpack:///./src/schema-form/utils/time.ts","webpack:///./src/schema-form/display/time-display-field.tsx","webpack:///./src/schema-form/display/register.ts","webpack:///./src/schema-form/uform/validator/index.ts","webpack:///./src/schema-form/utils/effects.ts","webpack:///./src/schema-form/form.tsx","webpack:///./src/schema-form/layout/card.tsx","webpack:///./src/schema-form/layout/form-block.tsx","webpack:///./src/schema-form/layout/base-layout.tsx","webpack:///./src/schema-form/layout/grid.tsx","webpack:///./src/schema-form/layout/steps.tsx","webpack:///./src/schema-form/layout/table.tsx","webpack:///./src/schema-form/layout/text-box.tsx","webpack:///./src/schema-form/layout/register.ts","webpack:///./src/schema-form/antdm/register.ts","webpack:///./src/schema-form/antd/display/file.tsx","webpack:///./src/schema-form/antd/display/rate.tsx","webpack:///./src/schema-form/antd/display/transfer.tsx","webpack:///./src/schema-form/antd/input.tsx","webpack:///./src/schema-form/antd/transfer.tsx","webpack:///./src/schema-form/utils/object.ts","webpack:///./src/schema-form/common/base-upload.tsx","webpack:///./src/schema-form/antd/upload.tsx","webpack:///./src/schema-form/antd/index.ts","webpack:///./src/schema-form/index.ts","webpack:///./src/schema-form/common/url.tsx","webpack:///./src/views/index.vue?1b6e","webpack:///./src/schema-form/antd/components/utils.ts","webpack:///./src/schema-form/utils/key.ts","webpack:///./src/schema-form/mixins/base-input.tsx","webpack:///./src/schema-form/utils/path.ts","webpack:///external \"moment\"","webpack:///./src/components/code-editor.vue?9ab9","webpack:///./src/utils/beautify.ts","webpack:///./src/components/code-editor.vue","webpack:///./src/components/code-editor.vue?c7c4","webpack:///./src/components/code-container.vue","webpack:///./src/components/code-container.vue?6b4c","webpack:///./src/components/demo-wrapper.vue","webpack:///./src/components/demo-wrapper.vue?be09","webpack:///./src/docs/demo/index.vue","webpack:///./src/docs/demo/index.vue?bd8d","webpack:///./src/utils/menu.ts","webpack:///./src/views/sub-menu.vue?2dab","webpack:///./src/views/sub-menu.vue","webpack:///./src/views/sub-menu.vue?aeb0","webpack:///./src/views/nav.tsx","webpack:///./src/router/components.ts","webpack:///./src/components/root.vue","webpack:///./src/components/root.vue?78bf","webpack:///./src/router/demo.ts","webpack:///./src/router/doc.ts","webpack:///./src/router/index.tsx","webpack:///./src/views/index.vue?e574","webpack:///./src/views/banner.vue?1c40","webpack:///./src/views/banner.vue","webpack:///./src/views/banner.vue?4ed9","webpack:///./src/views/index.vue","webpack:///./src/views/index.vue?35d6","webpack:///./src/main.ts","webpack:///./src/schema-form/uform/utils/globalThis.ts","webpack:///./src/views/banner.vue?92aa","webpack:///./src/components/demo-wrapper.vue?81bb","webpack:///./src/schema-form/uform/validator/regexp.ts","webpack:///./src/schema-form/utils/destruct.ts","webpack:///./src/schema-form/utils/field.ts","webpack:///./src/schema-form/internal/utils.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","getConfirmFunction","platform","config","confirmFn","mobile","desktop","formItemPropTransform","defaultEmptyText","getFormItemProps","component","field","getDefaultEmptyText","propsTransformer","formProps","props","title","inline","layout","transformFormProps","formPropsTransformer","fixMode","options","arrayMode","registerComponent","store","baseOptions","assign","Array","isArray","types","forEach","platforms","finalStore","addComponent","flat","array","Infinity","isType","obj","toString","isFn","isArr","isPlainObj","isStr","isNum","isObj","val","each","iterator","revert","map","res","item","every","NEWER","OLDER","LRUMap","limit","entries","copyEntries","copyLimit","this","size","oldest","newest","_keymap","Map","Entry","EntryIterator","oldestEntry","entry","KeyIterator","ValueIterator","whitespace","join","_markEntryAsUsed","Number","MAX_VALUE","clear","it","itv","next","done","set","delete","find","has","ent","keys","values","fun","thisObj","copyThisObj","toJSON","String","PathCache","getPathSegments","path","cached","pathArr","split","parts","DestructTokenizer","text","handlers","index","state","processNameStart","declareNameStart","declareNameEnd","nbraceCount","nbracketCount","char","prev","charAt","EOF","substring","processDestructStart","destructKey","destructKeyStart","destructObjectEnd","destructArrayEnd","destructObjectStart","destructArrayStart","processDestructKey","getName","processName","str","destruct","lastDestruct","root","stack","token","realKey","readyReplace","tail","pop","parse","callback","internalTraverse","internalObj","newPath","concat","parseDestructPath","lastKey","startPath","parsed","internalPath","endPath","cache","ast","mapPath","update","internalGetIn","getSchema","paths","_getIn","copyPath","copyObj","propertyIsEnumerable","_setIn","test","schema","_deleteIn","_existIn","getIn","keyList","hasProp","equal","a","b","filter","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","urlA","URL","urlB","$$typeof","isEqual","match","number","warn","baseUrlProps","disabled","Boolean","default","protocols","valueProp","useBaseUrl","ctx","domain","protocol","current","imte","label","emit","v","protocolTmp","startsWith","replace","immediate","currentValue","createComponentProxy","InputComponent","attrs","slots","getPropByPath","strict","tempObj","keyArr","len","k","noop","_hoisted_1","setup","__props","visible","show","close","_ctx","_cache","_component_a_button","_component_code_editor","_component_a_modal","onClick","_","$event","footer","__exports__","Mode","FieldTypes","DESKTOP","MOBILE","swap","x","y","registerMobileLib","LibComponents","registerDesktopLib","icons","alert","button","col","content","form","formItem","header","popover","row","sider","checkbox","card","empty","select","input","resolveOptions","enum","getDefaultValue","slot","getComponent","isNotNull","Transfer","Range","destructPath","getFormComponent","getRowComponent","getColComponent","getLayoutComponent","getSiderComponent","getContentComponent","getButtonComponent","getOptionProperty","option","addRule","rules","rule","validateType","Integer","Double","Datetime","Year","Month","Select","ExpandSelect","valueProperty","DateRange","DateTimeRange","Url","format","isNull","fixComponentDefinition","forDisplay","layoutOptions","wrap","getProps","definition","labelNumber","ComponentStore","typeDef","def","filteredComponents","includes","globalComponentStore","registerDisplay","register","registerDesktop","registerMobile","Vue","baseArrayComponentProps","maxLength","showRemoveBtn","showAddBtn","fields","addBtnText","addBtnProps","deleteBtnProps","inheritAttrs","required","cellSpan","gutter","subForm","clsPrefix","emits","editable","renderAddButton","ColComponent","ButtonComponent","buttonStyle","block","width","addButtonProps","icon","ButtonIcon","plus","onAddClick","margin","renderFields","LayoutComponent","ASideComponent","ContentComponent","position","renderDeleteBtn","overflow","loading","DeleteIcon","delBtnClass","RowComponent","$attrs","resolveWrap","createSimpleMobileFieldComponent","inputComponent","FormItem","extra","formValue","schemaPath","pathPrefix","arrayRef","inputRef","valid","validate","context","trigger","fieldChange","plainPath","deep","setCurrentValue","fieldComponent","fieldOperations","localField","addField","renderFormField","localValue","preProps","localProps","renderComponent","layoutType","layoutProps","inputProps","placeholder","getSubFields","fieldDefinitions","relatedSubFields","isDisabled","events","generateEvents","eventKey","onValueUpdate","removeArrayItem","addArrayItem","getRules","formItemProps","tip","InfoIcon","info","LibComponentsPopover","marginLeft","color","wrapperProps","noTitle","validateFields","validator","parseFloat","model","firstFields","errors","invalid","onArrayItemInput","debounce","renderArrayInputComponent","propsTmp","inputFieldDef","InputFieldComponent","ArrayComponent","arrayComponent","componentDef","arrayContent","itemProps","className","style","class","arrayIndex","oldValue","arrayProps","arrayClass","arrayStyle","ref","el","onRemove","confirmFunc","onMoveDown","onMoveUp","onAdd","noWrap","objectStore","renderInputComponent","displayValue","slotsDef","slotName","removeField","onCreated","focus","setGetValue","fieldCreate","renderDesktopComponent","FormItemComponent","span","node","display","baseButtonProps","prefixCls","circle","htmlType","Function","shape","danger","defaultSlot","$slots","install","app","toDate","convertedValue","updateCurrentValue","finalMode","okCancel","readOnly","labelCol","okText","cancelText","labelWidth","labelPosition","hideRequiredMark","onSubmit","wrapperCol","clearValidate","localFields","prop","indexOf","copyCallback","errorField","currentValidateStatus","count","invalidFields","getLayout","renderButtons","formClassName","baseTimePickerProps","locale","localeCode","clearable","convertValue","convertValueBack","stateValue","allowClear","baseTimeRangePickerProps","valueType","separator","start","end","fieldProps","components","DTimePicker","RangePicker","multiple","labelProperty","filterOption","localOptions","$props","hasFeedback","help","validateStatus","control","currentHelp","validateDisabled","fieldValue","isRequired","some","labelStyle","float","textAlign","wrapperStyle","getFilteredRule","formRules","selfRules","requiredRule","onFieldBlur","onFieldChange","descriptor","instance","setControl","localControl","onBlur","onChange","cols","Math","abs","chunks","baseFieldComponentProps","isMobile","isDesktop","isLoading","isFormDisabled","renderTitle","groups","spanGroups","lastHasSpan","fieldDefinition","vnode","renderSingleFields","FormComponent","getFormProps","preventDefault","reduce","group","wrapGroup","LayoutComponentDef","LayoutComponentDefComponent","renderAddFormButton","addSubItem","commonProps","MobileDisplayField","selected","onLabel","offLabel","fmt","date","pretty","reg1","setHours","getHours","now","nowTime","difference","floor","getFullYear","getMonth","getDay","Time","TimeRange","Text","fieldMap","queue","response","contextId","onOk","matchFields","matchedPaths","subscribes","pathsOrHandler","handler","Subject","subscribe","patterns","fieldFocus","fieldBlur","subject","hide","disable","readonly","enable","setTitle","setStates","states","toggle","setEnum","setFieldProps","onFieldCreate","setDisplayValue","onFieldFocus","onFieldCreateOrChange","takePath","appendPath","suffix","isEnabled","replaceLastPath","last","submit","forceValidate","onValidate","getValue","id","SchemaForm","actions","effects","sticky","onReset","onCancel","componentStore","comp","hasSubmitHandler","localOnOk","createSubmitButton","customBtnProps","action","hasOkHandler","btnProps","buttonProps","okProps","createButton","btnAttrs","classes","Button","createCancelButton","hasCancelHandler","cancelProps","localOnCancel","createResetButton","hasResetHandler","localOnReset","btns","buttons","cloneValue","LibComponentsContent","LibComponentsFooter","rootFieldDef","$emit","Layout","CardComponent","maxItems","addText","removeText","renderAddBtn","PlusIcon","renderOperations","DownIcon","down","UpIcon","up","EmptyComponent","baseLayoutProps","getColProps","colProps","wrapSingle","rowStyle","rowClass","colClass","colStyle","containsArray","isMixed","getRowStyle","getColStyle","getRowClass","getColClass","normalizedLayout","toGroups","tmpFields","tmp","layoutFields","LibComponentsCol","LibComponentsRow","subSpan","subindex","componentProps","titles","currentStep","iFields","getStatus","fieldErrors","iFieldGroups","getContent","copyFields","ComponentMap","Item","InfoCircleFilled","UpOutlined","DownOutlined","DeleteOutlined","PlusOutlined","registerAntdMobile","debug","confirm","catch","colon","Password","toLowerCase","pickTime","Checkbox","List","PopupList","range","dataSource","onUpdate","targetKeys","part","newObj","FILE_FIELDS","baseUpdateProps","fileList","previewUrl","listType","drag","showFileList","showUploadList","url","simpleValue","urls","uid","Dragger","UploadOutlined","hint","previewVisible","uploadProps","f","file","status","onPreview","cancelPreview","Header","Footer","Sider","Content","getTransferOptions","description","transferPropsTransform","registerAntd","File","Picture","Rate","AutoComplete","TextArea","dropdownMatchSelectWidth","Cascader","Field","Input","useOptions","op","SchemaFormStoreKey","SchemaFormFieldOperationStoreKey","SchemaFormObjectStoreKey","formField","CACHE","PATH_SEPARATOR","splitPath","matchSinglePath","findFieldPath","splits","to","isPathMatchPatterns","isPathMatchPattern","isFuzzyPath","origin","pattern","matchPath","substr","sp","moment","$setup","$data","$options","textAreaStyle","clean","copyData","trim","indent","autosemicolon","js","indent_size","html","javascript","typescript","json","kotlin","nginx","powershell","python","shell","yaml","beautify","getHints","height","theme","getRealMode","viewer","elRef","children","defaultConfig","extraKeys","Alt","indentWithTabs","lineNumbers","lineWrapping","globalVars","tabSize","fromTextArea","setSize","setValue","refresh","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","showCode","CodepenCircleOutlined","CodepenOutlined","resolveMenus","routes","menus","route","meta","_component_sub_menu","_component_a_sub_menu","_component_a_menu_item","router","openKeys","tags","redirect","history","doc","nav","_component_router_view","_component_app_banner","_component_a_layout_header","_component_a_layout_sider","_component_a_layout_content","_component_a_layout","_component_a_config_provider","zh_CN","_hoisted_6","_hoisted_7","fill","stroke","viewBox","xmlns","points","x1","x2","y1","y2","_component_a_menu","activeKey","$router","toGithub","open","AppBanner","location","pathname","warnHandler","use","antd","mount","self","global","errorMessages","integer","email","ipv6","ipv4","idcard","taodomain","qq","phone","money","zh","zip","getStructValue","parentValue","struct","destructValue","setStructValue","structValue","processor","getPropertyValueByPath","propertyPath","calcShowState","depends","condition","matchCondition","getRealFields","v4","EmptyDefinition","missingTypes","getComponentType","Edit","Display","search","typeStr","compareValue","operator","xType","renderField","lastIndexOf","newField","createField","buildArrayPath","changeEditable","destructor","dirty","dirtyType","effectErrors","hiddenFromParent","initialize","lastValidateValue","notify","pathEqual","pristine","publishState","shownFromParent","syncContextValue","updateState","min","max","getEventMetadata","onFocus","args","preventScroll","scrollIntoView","behavior","SchemaFormEvents","onKeydown","fieldKeydown","onKeyup","fieldKeyup","fieldEvents","existsField","regexp"],"mappings":"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","file":"js/app.189e2616.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-018cc3ed\":\"1f5d6e92\",\"chunk-09bc72d6\":\"1fbd1671\",\"chunk-17236152\":\"e1ebf29f\",\"chunk-18021c0a\":\"970ef7fe\",\"chunk-1913bc3c\":\"68a8f1e0\",\"chunk-212b3c97\":\"f7560d8b\",\"chunk-2466144a\":\"46b03807\",\"chunk-2699afe6\":\"536e2bdf\",\"chunk-2adc7d6e\":\"dbfda625\",\"chunk-2d0a4c4a\":\"951f67f4\",\"chunk-2d0ac3a2\":\"3b170332\",\"chunk-2d0af86c\":\"e9c78270\",\"chunk-2d0b217a\":\"6c2692ce\",\"chunk-2d0b325d\":\"ac7f9487\",\"chunk-2d0b35f0\":\"b03cebf7\",\"chunk-2d0b7257\":\"99fa82bf\",\"chunk-2d0baaaf\":\"ae6338c6\",\"chunk-2d0bdf39\":\"0287ec3f\",\"chunk-2d0be65d\":\"44dce519\",\"chunk-2d0c1ccb\":\"07a69ea2\",\"chunk-2d0c7a5c\":\"20a0d76a\",\"chunk-2d0c950d\":\"88631871\",\"chunk-2d0ced9c\":\"be575d25\",\"chunk-2d0d2aca\":\"75d45e6d\",\"chunk-2d0d3704\":\"c2931f6e\",\"chunk-2d0d43ba\":\"adb0bab8\",\"chunk-2d0d5c4d\":\"8172b6a3\",\"chunk-2d0d7d58\":\"b33b5efa\",\"chunk-2d0db448\":\"5eb8877f\",\"chunk-2d0dd0dc\":\"557e1449\",\"chunk-2d0ddc5d\":\"1e3e99b1\",\"chunk-2d0de357\":\"b46efb8c\",\"chunk-2d0e1c4d\":\"1c1fcfa4\",\"chunk-2d0e2745\":\"265802a0\",\"chunk-2d0e5783\":\"680c8802\",\"chunk-2d0e99c1\":\"bb3879e5\",\"chunk-2d2095a0\":\"8df84be7\",\"chunk-2d20fe79\":\"3def2e7b\",\"chunk-2d2105cd\":\"4da77509\",\"chunk-2d210fcb\":\"de6cea61\",\"chunk-2d210fee\":\"6bb14ef2\",\"chunk-2d213661\":\"fa70d8fa\",\"chunk-2d213a5b\":\"b465a03b\",\"chunk-2d221b5d\":\"717d6e38\",\"chunk-2d2244e3\":\"527bc85f\",\"chunk-2d226539\":\"29627cda\",\"chunk-2d230130\":\"2b6c2cf7\",\"chunk-4b0dfb6c\":\"e025c1f6\",\"chunk-4e9c3582\":\"24847818\",\"chunk-5706c823\":\"548b98d5\",\"chunk-573e7836\":\"a24f0734\",\"chunk-042d325c\":\"4185ca4c\",\"chunk-2d0f0841\":\"f7435f0c\",\"chunk-2d21f48d\":\"7c6f401a\",\"chunk-2e9086b3\":\"bb63fd44\",\"chunk-4bf17d6d\":\"8d26413c\",\"chunk-79fb6eb1\":\"15e8abc0\",\"chunk-7d9c670a\":\"95bba66f\",\"chunk-5f03e286\":\"bde461f7\",\"chunk-918ffd24\":\"2d667e42\",\"chunk-df3d5f9e\":\"81dad40b\",\"chunk-e653bfd0\":\"65f9cf9a\",\"chunk-f1630214\":\"980fae1b\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-018cc3ed\":1,\"chunk-09bc72d6\":1,\"chunk-17236152\":1,\"chunk-1913bc3c\":1,\"chunk-212b3c97\":1,\"chunk-2466144a\":1,\"chunk-2699afe6\":1,\"chunk-4b0dfb6c\":1,\"chunk-4e9c3582\":1,\"chunk-5706c823\":1,\"chunk-573e7836\":1,\"chunk-042d325c\":1,\"chunk-4bf17d6d\":1,\"chunk-79fb6eb1\":1,\"chunk-7d9c670a\":1,\"chunk-5f03e286\":1,\"chunk-df3d5f9e\":1,\"chunk-f1630214\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-018cc3ed\":\"32ae2d9a\",\"chunk-09bc72d6\":\"32ae2d9a\",\"chunk-17236152\":\"5dedbf3d\",\"chunk-18021c0a\":\"31d6cfe0\",\"chunk-1913bc3c\":\"32ae2d9a\",\"chunk-212b3c97\":\"0fb02bf0\",\"chunk-2466144a\":\"be4b6a0d\",\"chunk-2699afe6\":\"32ae2d9a\",\"chunk-2adc7d6e\":\"31d6cfe0\",\"chunk-2d0a4c4a\":\"31d6cfe0\",\"chunk-2d0ac3a2\":\"31d6cfe0\",\"chunk-2d0af86c\":\"31d6cfe0\",\"chunk-2d0b217a\":\"31d6cfe0\",\"chunk-2d0b325d\":\"31d6cfe0\",\"chunk-2d0b35f0\":\"31d6cfe0\",\"chunk-2d0b7257\":\"31d6cfe0\",\"chunk-2d0baaaf\":\"31d6cfe0\",\"chunk-2d0bdf39\":\"31d6cfe0\",\"chunk-2d0be65d\":\"31d6cfe0\",\"chunk-2d0c1ccb\":\"31d6cfe0\",\"chunk-2d0c7a5c\":\"31d6cfe0\",\"chunk-2d0c950d\":\"31d6cfe0\",\"chunk-2d0ced9c\":\"31d6cfe0\",\"chunk-2d0d2aca\":\"31d6cfe0\",\"chunk-2d0d3704\":\"31d6cfe0\",\"chunk-2d0d43ba\":\"31d6cfe0\",\"chunk-2d0d5c4d\":\"31d6cfe0\",\"chunk-2d0d7d58\":\"31d6cfe0\",\"chunk-2d0db448\":\"31d6cfe0\",\"chunk-2d0dd0dc\":\"31d6cfe0\",\"chunk-2d0ddc5d\":\"31d6cfe0\",\"chunk-2d0de357\":\"31d6cfe0\",\"chunk-2d0e1c4d\":\"31d6cfe0\",\"chunk-2d0e2745\":\"31d6cfe0\",\"chunk-2d0e5783\":\"31d6cfe0\",\"chunk-2d0e99c1\":\"31d6cfe0\",\"chunk-2d2095a0\":\"31d6cfe0\",\"chunk-2d20fe79\":\"31d6cfe0\",\"chunk-2d2105cd\":\"31d6cfe0\",\"chunk-2d210fcb\":\"31d6cfe0\",\"chunk-2d210fee\":\"31d6cfe0\",\"chunk-2d213661\":\"31d6cfe0\",\"chunk-2d213a5b\":\"31d6cfe0\",\"chunk-2d221b5d\":\"31d6cfe0\",\"chunk-2d2244e3\":\"31d6cfe0\",\"chunk-2d226539\":\"31d6cfe0\",\"chunk-2d230130\":\"31d6cfe0\",\"chunk-4b0dfb6c\":\"32ae2d9a\",\"chunk-4e9c3582\":\"32ae2d9a\",\"chunk-5706c823\":\"32ae2d9a\",\"chunk-573e7836\":\"f8b0ef91\",\"chunk-042d325c\":\"32ae2d9a\",\"chunk-2d0f0841\":\"31d6cfe0\",\"chunk-2d21f48d\":\"31d6cfe0\",\"chunk-2e9086b3\":\"31d6cfe0\",\"chunk-4bf17d6d\":\"32ae2d9a\",\"chunk-79fb6eb1\":\"32ae2d9a\",\"chunk-7d9c670a\":\"32ae2d9a\",\"chunk-5f03e286\":\"32ae2d9a\",\"chunk-918ffd24\":\"31d6cfe0\",\"chunk-df3d5f9e\":\"32ae2d9a\",\"chunk-e653bfd0\":\"31d6cfe0\",\"chunk-f1630214\":\"32ae2d9a\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export default {\r\n  render() {\r\n    return <span/>;\r\n  }\r\n};\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./code-container.vue?vue&type=style&index=0&id=4ff43cb0&lang=less\"","import {Component} from 'vue';\r\nimport {CommonFormProps, Platform, PropsTransformer, SchemaFormComponentOptions} from '../../types';\r\nimport {FieldDefinition} from './internal/utils';\r\nimport {ComponentStore, globalComponentStore} from './utils/register';\r\n\r\n\r\nexport const getConfirmFunction = (platform: Platform) => {\r\n  return platform === 'mobile' ? config.confirmFn.mobile : config.confirmFn.desktop;\r\n};\r\n\r\nconst formItemPropTransform = {\r\n  mobile: null,\r\n  desktop: null\r\n};\r\n\r\nexport const config = {\r\n  defaultEmptyText: 'N/A',\r\n  confirmFn: {\r\n    mobile: null,\r\n    desktop: null\r\n  },\r\n  formItemPropTransform,\r\n  getFormItemProps: (component: Component, field: FieldDefinition, platform: Platform) => {\r\n    if (platform === 'desktop') {\r\n      return formItemPropTransform.desktop(component, field);\r\n    }\r\n    return formItemPropTransform.mobile(component, field);\r\n  }\r\n};\r\n\r\nexport const getDefaultEmptyText = () => {\r\n  return config.defaultEmptyText;\r\n};\r\n\r\n\r\nexport const propsTransformer: PropsTransformer = {\r\n  mobile: {\r\n    formProps: (props: CommonFormProps) => {\r\n      return props;\r\n    }\r\n  },\r\n  desktop: {\r\n    formProps: (props: CommonFormProps) => {\r\n      delete props.title;\r\n      if (props.inline) {\r\n        props.layout = 'inline';\r\n      }\r\n      delete props.inline;\r\n      return props;\r\n    }\r\n  }\r\n};\r\n\r\nexport const transformFormProps = (props: CommonFormProps, platform: Platform) => {\r\n  const formPropsTransformer = platform === 'desktop' ? propsTransformer.desktop.formProps : propsTransformer.mobile.formProps;\r\n  return formPropsTransformer(props);\r\n};\r\n\r\nfunction fixMode(options: SchemaFormComponentOptions) {\r\n  if (!options.arrayMode) {\r\n    options.arrayMode = 'single';\r\n  }\r\n  if (!options.mode) {\r\n    options.mode = 'input';\r\n  }\r\n}\r\n\r\nexport const registerComponent = (\r\n    options: SchemaFormComponentOptions,\r\n    store?: ComponentStore) => {\r\n  fixMode(options);\r\n  const baseOptions = Object.assign({}, options);\r\n  if (Array.isArray(options.types)) {\r\n    options.types.forEach(types => {\r\n      registerComponent(Object.assign(baseOptions, {types}), store);\r\n    });\r\n  } else if (Array.isArray(options.platforms)) {\r\n    options.platforms.forEach(platforms => {\r\n      registerComponent(Object.assign(baseOptions, {platforms}), store);\r\n    });\r\n  } else {\r\n    const finalStore: ComponentStore = store || globalComponentStore;\r\n    finalStore.addComponent(options);\r\n  }\r\n};\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./code-editor.vue?vue&type=style&index=0&id=5de8b00a&lang=less\"","export function isSame(first: any[], second: any[], ignoreOrder = true): boolean {\r\n  if (ignoreOrder) {\r\n    return !(first.find(role => !second.includes(role))\r\n      || second.find(role => !first.includes(role)));\r\n  } else if (first.length === second.length) {\r\n    for (const i in first) {\r\n      if (first[i] !== second[i]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport const flat = (array) => {\r\n  return array.flat(Infinity);\r\n};\r\n\r\n","const isType = <T>(type: string) => (obj: unknown): obj is T =>\r\n    obj != null && Object.prototype.toString.call(obj) === `[object ${type}]`;\r\n// FIXME: isFn, isArr is incorrect\r\nexport const isFn = isType<(...args: any[]) => any>('Function');\r\nexport const isArr = Array.isArray || isType<unknown[]>('Array');\r\nexport const isPlainObj = isType<any>('Object');\r\nexport const isStr = isType<string>('String');\r\nexport const isBool = isType<boolean>('Boolean');\r\nexport const isNum = isType<number>('Number');\r\nexport const isObj = (val: unknown): boolean => typeof val === 'object';\r\nexport const isRegExp = isType<RegExp>('RegExp');\r\n","import {isArr, isObj, isStr} from '../types';\r\n\r\ntype EachArrayIterator<T> = (currentValue: T, key: number) => void | boolean;\r\ntype EachStringIterator = (currentValue: string, key: number) => void | boolean;\r\ntype EachObjectIterator<T> = (\r\n    currentValue: T[keyof T],\r\n    key: string\r\n) => void | boolean;\r\ntype MemoArrayIterator<T, U> = (\r\n    previousValue: U,\r\n    currentValue: T,\r\n    key: number\r\n) => U;\r\ntype MemoStringIterator<T> = (\r\n    previousValue: T,\r\n    currentValue: string,\r\n    key: number\r\n) => T;\r\ntype MemoObjectIterator<T, U> = (\r\n    previousValue: U,\r\n    currentValue: T[keyof T],\r\n    key: string\r\n) => U;\r\n\r\nexport const toArr = (val: any): any[] => (isArr(val) ? val : val ? [val] : []);\r\n\r\nexport function each(\r\n    val: string,\r\n    iterator: EachStringIterator,\r\n    revert?: boolean\r\n): void;\r\nexport function each<T>(\r\n    val: T[],\r\n    iterator: EachArrayIterator<T>,\r\n    revert?: boolean\r\n): void;\r\nexport function each<T extends any>(\r\n    val: T,\r\n    iterator: EachObjectIterator<T>,\r\n    revert?: boolean\r\n): void;\r\nexport function each(val: any, iterator: any, revert?: boolean): any {\r\n  if (isArr(val) || isStr(val)) {\r\n    if (revert) {\r\n      for (let i: number = val.length - 1; i >= 0; i--) {\r\n        if (iterator(val[i], i) === false) {\r\n          return;\r\n        }\r\n      }\r\n    } else {\r\n      for (let i = 0, length = val.length; i < length; i++) {\r\n        if (iterator(val[i], i) === false) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  } else if (isObj(val)) {\r\n    let key: string;\r\n    for (key in val) {\r\n      if (Object.hasOwnProperty.call(val, key)) {\r\n        if (iterator(val[key], key) === false) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function map(\r\n    val: string,\r\n    iterator: EachStringIterator,\r\n    revert?: boolean\r\n): string[];\r\nexport function map<T>(\r\n    val: T[],\r\n    iterator: EachArrayIterator<T>,\r\n    revert?: boolean\r\n): T[];\r\nexport function map<T extends any>(\r\n    val: T,\r\n    iterator: EachObjectIterator<T>,\r\n    revert?: boolean\r\n): any;\r\nexport function map(val: any, iterator: any, revert?: boolean): any {\r\n  const res = isArr(val) || isStr(val) ? [] : {};\r\n  each(\r\n      val,\r\n      (item, key) => {\r\n        const value = iterator(item, key);\r\n        if (isArr(res)) {\r\n          (res as any).push(value);\r\n        } else {\r\n          res[key] = value;\r\n        }\r\n      },\r\n      revert\r\n  );\r\n  return res;\r\n}\r\n\r\nexport function reduce<T, U>(\r\n    val: T[],\r\n    iterator: MemoArrayIterator<T, U>,\r\n    accumulator?: U,\r\n    revert?: boolean\r\n): U;\r\nexport function reduce<T>(\r\n    val: string,\r\n    iterator: MemoStringIterator<T>,\r\n    accumulator?: T,\r\n    revert?: boolean\r\n): T;\r\nexport function reduce<T extends any, U>(\r\n    val: T,\r\n    iterator: MemoObjectIterator<T, U>,\r\n    accumulator?: U,\r\n    revert?: boolean\r\n): U;\r\nexport function reduce(\r\n    val: any,\r\n    iterator: any,\r\n    accumulator?: any,\r\n    revert?: boolean\r\n): any {\r\n  let result = accumulator;\r\n  each(\r\n      val,\r\n      (item, key) => {\r\n        result = iterator(result, item, key);\r\n      },\r\n      revert\r\n  );\r\n  return result;\r\n}\r\n\r\nexport function every(\r\n    val: string,\r\n    iterator: EachStringIterator,\r\n    revert?: boolean\r\n): boolean;\r\nexport function every<T>(\r\n    val: T[],\r\n    iterator: EachArrayIterator<T>,\r\n    revert?: boolean\r\n): boolean;\r\nexport function every<T extends any>(\r\n    val: T,\r\n    iterator: EachObjectIterator<T>,\r\n    revert?: boolean\r\n): boolean;\r\nexport function every(val: any, iterator: any, revert?: boolean): boolean {\r\n  let res = true;\r\n  each(\r\n      val,\r\n      (item, key) => {\r\n        if (!iterator(item, key)) {\r\n          res = false;\r\n          return false;\r\n        }\r\n      },\r\n      revert\r\n  );\r\n  return res;\r\n}\r\n\r\nexport function some(\r\n    val: string,\r\n    iterator: EachStringIterator,\r\n    revert?: boolean\r\n): boolean;\r\nexport function some<T>(\r\n    val: T[],\r\n    iterator: EachArrayIterator<T>,\r\n    revert?: boolean\r\n): boolean;\r\nexport function some<T extends any>(\r\n    val: T,\r\n    iterator: EachObjectIterator<T>,\r\n    revert?: boolean\r\n): boolean;\r\nexport function some(val: any, iterator: any, revert?: boolean): boolean {\r\n  let res = false;\r\n  each(\r\n      val,\r\n      (item, key) => {\r\n        if (iterator(item, key)) {\r\n          res = true;\r\n          return false;\r\n        }\r\n      },\r\n      revert\r\n  );\r\n  return res;\r\n}\r\n\r\nexport function findIndex(\r\n    val: string,\r\n    iterator: EachStringIterator,\r\n    revert?: boolean\r\n): number;\r\nexport function findIndex<T>(\r\n    val: T[],\r\n    iterator: EachArrayIterator<T>,\r\n    revert?: boolean\r\n): number;\r\nexport function findIndex<T extends any>(\r\n    val: T,\r\n    iterator: EachObjectIterator<T>,\r\n    revert?: boolean\r\n): keyof T;\r\nexport function findIndex(\r\n    val: any,\r\n    iterator: any,\r\n    revert?: boolean\r\n): string | number {\r\n  let res: number | string = -1;\r\n  each(\r\n      val,\r\n      (item, key) => {\r\n        if (iterator(item, key)) {\r\n          res = key;\r\n          return false;\r\n        }\r\n      },\r\n      revert\r\n  );\r\n  return res;\r\n}\r\n\r\nexport function find(\r\n    val: string,\r\n    iterator: EachStringIterator,\r\n    revert?: boolean\r\n): any;\r\nexport function find<T>(\r\n    val: T[],\r\n    iterator: EachArrayIterator<T>,\r\n    revert?: boolean\r\n): T;\r\nexport function find<T extends any>(\r\n    val: T,\r\n    iterator: EachObjectIterator<T>,\r\n    revert?: boolean\r\n): T[keyof T];\r\nexport function find(val: any, iterator: any, revert?: boolean): any {\r\n  let res: any;\r\n  each(\r\n      val,\r\n      (item, key) => {\r\n        if (iterator(item, key)) {\r\n          res = item;\r\n          return false;\r\n        }\r\n      },\r\n      revert\r\n  );\r\n  return res;\r\n}\r\n\r\nexport function includes(\r\n    val: string[],\r\n    searchElement: string,\r\n    revert?: boolean\r\n): boolean;\r\nexport function includes<T>(\r\n    val: T[],\r\n    searchElement: T,\r\n    revert?: boolean\r\n): boolean {\r\n  return some(val, item => item === searchElement, revert);\r\n}\r\n","/**\r\n * A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\r\n * recently used items while discarding least recently used items when its limit\r\n * is reached.\r\n *\r\n * Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\r\n * See README.md for details.\r\n *\r\n * Illustration of the design:\r\n *\r\n *       entry             entry             entry             entry\r\n *       ______            ______            ______            ______\r\n *      | head |.newer => |      |.newer => |      |.newer => | tail |\r\n *      |  A   |          |  B   |          |  C   |          |  D   |\r\n *      |______| <= older.|______| <= older.|______| <= older.|______|\r\n *\r\n *  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\r\n */\r\n/* eslint-disable */\r\n\r\nconst NEWER = Symbol('newer');\r\nconst OLDER = Symbol('older');\r\n\r\nexport function LRUMap(this: any, limit: number | any, entries?: any) {\r\n  let copyEntries = entries;\r\n  let copyLimit = limit;\r\n  if (typeof copyLimit !== 'number') {\r\n    // called as (entries)\r\n    copyEntries = copyLimit;\r\n    copyLimit = 0;\r\n  }\r\n\r\n  this.size = 0;\r\n  this.limit = copyLimit;\r\n  this.oldest = this.newest = undefined;\r\n  this._keymap = new Map();\r\n\r\n  if (copyEntries) {\r\n    this.assign(copyEntries);\r\n    if (copyLimit < 1) {\r\n      this.limit = this.size;\r\n    }\r\n  }\r\n}\r\n\r\nfunction Entry(this: any, key: any, value: any) {\r\n  this.key = key;\r\n  this.value = value;\r\n  this[NEWER] = undefined;\r\n  this[OLDER] = undefined;\r\n}\r\n\r\nLRUMap.prototype._markEntryAsUsed = function(entry: any) {\r\n  if (entry === this.newest) {\r\n    // Already the most recenlty used entry, so no need to update the list\r\n    return;\r\n  }\r\n  // HEAD--------------TAIL\r\n  //   <.older   .newer>\r\n  //  <--- add direction --\r\n  //   A  B  C  <D>  E\r\n  if (entry[NEWER]) {\r\n    if (entry === this.oldest) {\r\n      this.oldest = entry[NEWER];\r\n    }\r\n    entry[NEWER][OLDER] = entry[OLDER]; // C <-- E.\r\n  }\r\n  if (entry[OLDER]) {\r\n    entry[OLDER][NEWER] = entry[NEWER]; // C. --> E\r\n  }\r\n  entry[NEWER] = undefined; // D --x\r\n  entry[OLDER] = this.newest; // D. --> E\r\n  if (this.newest) {\r\n    this.newest[NEWER] = entry; // E. <-- D\r\n  }\r\n  this.newest = entry;\r\n};\r\n\r\nLRUMap.prototype.assign = function(entries: any) {\r\n  let entry: any;\r\n  let limit = this.limit || Number.MAX_VALUE;\r\n  this._keymap.clear();\r\n  const it = entries[Symbol.iterator]();\r\n  for (let itv = it.next(); !itv.done; itv = it.next()) {\r\n    const e = new Entry(itv.value[0], itv.value[1]);\r\n    this._keymap.set(e.key, e);\r\n    if (!entry) {\r\n      this.oldest = e;\r\n    } else {\r\n      entry[NEWER] = e;\r\n      e[OLDER] = entry;\r\n    }\r\n    entry = e;\r\n    if (limit-- === 0) {\r\n      throw new Error('overflow');\r\n    }\r\n  }\r\n  this.newest = entry;\r\n  this.size = this._keymap.size;\r\n};\r\n\r\nLRUMap.prototype.get = function(key: any) {\r\n  // First, find our cache entry\r\n  const entry = this._keymap.get(key);\r\n  if (!entry) {\r\n    return;\r\n  } // Not cached. Sorry.\r\n  // As <key> was found in the cache, register it as being requested recently\r\n  this._markEntryAsUsed(entry);\r\n  return entry.value;\r\n};\r\n\r\nLRUMap.prototype.set = function(key: any, value: any) {\r\n  let entry = this._keymap.get(key);\r\n\r\n  if (entry) {\r\n    // update existing\r\n    entry.value = value;\r\n    this._markEntryAsUsed(entry);\r\n    return this;\r\n  }\r\n\r\n  // new entry\r\n  this._keymap.set(key, (entry = new Entry(key, value)));\r\n\r\n  if (this.newest) {\r\n    // link previous tail to the new tail (entry)\r\n    this.newest[NEWER] = entry;\r\n    entry[OLDER] = this.newest;\r\n  } else {\r\n    // we're first in -- yay\r\n    this.oldest = entry;\r\n  }\r\n\r\n  // add new entry to the end of the linked list -- it's now the freshest entry.\r\n  this.newest = entry;\r\n  ++this.size;\r\n  if (this.size > this.limit) {\r\n    // we hit the limit -- remove the head\r\n    this.shift();\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nLRUMap.prototype.shift = function() {\r\n  // todo: handle special case when limit == 1\r\n  const entry = this.oldest;\r\n  if (entry) {\r\n    if (this.oldest[NEWER]) {\r\n      // advance the list\r\n      this.oldest = this.oldest[NEWER];\r\n      this.oldest[OLDER] = undefined;\r\n    } else {\r\n      // the cache is exhausted\r\n      this.oldest = undefined;\r\n      this.newest = undefined;\r\n    }\r\n    // Remove last strong reference to <entry> and remove links from the purged\r\n    // entry being returned:\r\n    entry[NEWER] = entry[OLDER] = undefined;\r\n    this._keymap.delete(entry.key);\r\n    --this.size;\r\n    return [entry.key, entry.value];\r\n  }\r\n};\r\n\r\n// ----------------------------------------------------------------------------\r\n// Following code is optional and can be removed without breaking the core\r\n// functionality.\r\n\r\nLRUMap.prototype.find = function(key: any) {\r\n  const e = this._keymap.get(key);\r\n  return e ? e.value : undefined;\r\n};\r\n\r\nLRUMap.prototype.has = function(key: any) {\r\n  return this._keymap.has(key);\r\n};\r\n\r\nLRUMap.prototype.delete = function(key: any) {\r\n  const entry = this._keymap.get(key);\r\n  if (!entry) {\r\n    return;\r\n  }\r\n  this._keymap.delete(entry.key);\r\n  if (entry[NEWER] && entry[OLDER]) {\r\n    // relink the older entry with the newer entry\r\n    entry[OLDER][NEWER] = entry[NEWER];\r\n    entry[NEWER][OLDER] = entry[OLDER];\r\n  } else if (entry[NEWER]) {\r\n    // remove the link to us\r\n    entry[NEWER][OLDER] = undefined;\r\n    // link the newer entry to head\r\n    this.oldest = entry[NEWER];\r\n  } else if (entry[OLDER]) {\r\n    // remove the link to us\r\n    entry[OLDER][NEWER] = undefined;\r\n    // link the newer entry to head\r\n    this.newest = entry[OLDER];\r\n  } else {\r\n    // if(entry[OLDER] === undefined && entry.newer === undefined) {\r\n    this.oldest = this.newest = undefined;\r\n  }\r\n\r\n  this.size--;\r\n  return entry.value;\r\n};\r\n\r\nLRUMap.prototype.clear = function() {\r\n  // Not clearing links should be safe, as we don't expose live links to user\r\n  this.oldest = this.newest = undefined;\r\n  this.size = 0;\r\n  this._keymap.clear();\r\n};\r\n\r\nfunction EntryIterator(this: any, oldestEntry: any) {\r\n  this.entry = oldestEntry;\r\n}\r\n\r\nEntryIterator.prototype[Symbol.iterator] = function() {\r\n  return this;\r\n};\r\nEntryIterator.prototype.next = function() {\r\n  const ent = this.entry;\r\n  if (ent) {\r\n    this.entry = ent[NEWER];\r\n    return {done: false, value: [ent.key, ent.value]};\r\n  } else {\r\n    return {done: true, value: undefined};\r\n  }\r\n};\r\n\r\nfunction KeyIterator(this: any, oldestEntry) {\r\n  this.entry = oldestEntry;\r\n}\r\n\r\nKeyIterator.prototype[Symbol.iterator] = function() {\r\n  return this;\r\n};\r\nKeyIterator.prototype.next = function() {\r\n  const ent = this.entry;\r\n  if (ent) {\r\n    this.entry = ent[NEWER];\r\n    return {done: false, value: ent.key};\r\n  } else {\r\n    return {done: true, value: undefined};\r\n  }\r\n};\r\n\r\nfunction ValueIterator(this: any, oldestEntry) {\r\n  this.entry = oldestEntry;\r\n}\r\n\r\nValueIterator.prototype[Symbol.iterator] = function() {\r\n  return this;\r\n};\r\nValueIterator.prototype.next = function() {\r\n  const ent = this.entry;\r\n  if (ent) {\r\n    this.entry = ent[NEWER];\r\n    return {done: false, value: ent.value};\r\n  } else {\r\n    return {done: true, value: undefined};\r\n  }\r\n};\r\n\r\nLRUMap.prototype.keys = function() {\r\n  return new KeyIterator(this.oldest);\r\n};\r\n\r\nLRUMap.prototype.values = function() {\r\n  return new ValueIterator(this.oldest);\r\n};\r\n\r\nLRUMap.prototype.entries = function() {\r\n  return this;\r\n};\r\n\r\nLRUMap.prototype[Symbol.iterator] = function() {\r\n  return new EntryIterator(this.oldest);\r\n};\r\n\r\nLRUMap.prototype.forEach = function(fun: (value: any, key: any, ctx: object) => void, thisObj: any) {\r\n  let copyThisObj = thisObj;\r\n  if (typeof copyThisObj !== 'object') {\r\n    copyThisObj = this;\r\n  }\r\n  let entry = this.oldest;\r\n  while (entry) {\r\n    fun.call(copyThisObj, entry.value, entry.key, this);\r\n    entry = entry[NEWER];\r\n  }\r\n};\r\n\r\n/** Returns a JSON (array) representation */\r\nLRUMap.prototype.toJSON = function() {\r\n  const s = new Array(this.size);\r\n  let i = 0;\r\n  let entry = this.oldest;\r\n  while (entry) {\r\n    s[i++] = {key: entry.key, value: entry.value};\r\n    entry = entry[NEWER];\r\n  }\r\n  return s;\r\n};\r\n\r\n/** Returns a String representation */\r\nLRUMap.prototype.toString = function() {\r\n  let s = '';\r\n  let entry = this.oldest;\r\n  while (entry) {\r\n    s += String(entry.key) + ':' + entry.value;\r\n    entry = entry[NEWER];\r\n    if (entry) {\r\n      s += ' < ';\r\n    }\r\n  }\r\n  return s;\r\n};\r\n","import {ArrayPath, Path, PathNode} from '../../../../types';\r\nimport {isArr, isNum, isObj, isPlainObj, isStr} from '../types';\r\nimport {each, every, map} from './array';\r\nimport {LRUMap} from './lru';\r\n\r\ninterface ITokenizerHandlers {\r\n  destructArrayEnd(): void;\r\n\r\n  destructArrayStart(): void;\r\n\r\n  destructKey(str: string, isColon?: boolean): void;\r\n\r\n  destructObjectEnd(): void;\r\n\r\n  destructObjectStart(): void;\r\n\r\n  name(str: string): void;\r\n}\r\n\r\ntype Destruct =\r\n    | {\r\n  [key: string]: string\r\n}\r\n    | Path;\r\n\r\ntype Getter = (obj: any, path: Path, value?: any) => any;\r\n\r\ntype Setter = (\r\n    obj: any,\r\n    path: Path,\r\n    value?: any,\r\n    getSchema?: (path: string[] | number[]) => any\r\n) => any;\r\n\r\ntype HasIn = (obj: any, path: Path) => boolean;\r\n\r\nfunction whitespace(c: string) {\r\n  return c === ' ' || c === '\\n' || c === '\\t' || c === '\\f' || c === '\\r';\r\n}\r\n\r\nfunction toString(val: Path | null) {\r\n  if (!val) {\r\n    return '';\r\n  }\r\n  if (isArr(val)) {\r\n    return (val as string[]).join('.');\r\n  }\r\n  return isStr(val) ? val : '';\r\n}\r\n\r\nconst PathCache = new LRUMap(1000);\r\n\r\nexport function getPathSegments(path: Path): ArrayPath {\r\n  if (isArr(path)) {\r\n    return path as string[];\r\n  }\r\n  if (isStr(path) && path) {\r\n    const cached = PathCache.get(path);\r\n    if (cached) {\r\n      return cached;\r\n    }\r\n    const pathArr = (path as string).split('.');\r\n    const parts = [];\r\n\r\n    for (let i = 0; i < pathArr.length; i++) {\r\n      let p = pathArr[i];\r\n\r\n      while (p[p.length - 1] === '\\\\' && pathArr[i + 1] !== undefined) {\r\n        p = p.slice(0, -1) + '.';\r\n        p += pathArr[++i];\r\n      }\r\n\r\n      parts.push(p);\r\n    }\r\n    PathCache.set(path, parts);\r\n    return parts;\r\n  }\r\n  if (isNum(path)) {\r\n    return [path as number];\r\n  }\r\n  return [];\r\n}\r\n\r\nclass DestructTokenizer {\r\n  private EOF: boolean;\r\n  private declareNameEnd: number;\r\n  private declareNameStart: number;\r\n  private destructKey: string;\r\n  private destructKeyStart: number;\r\n  private handlers: ITokenizerHandlers;\r\n  private index: number;\r\n  private nbraceCount: number;\r\n  private nbracketCount: number;\r\n  private state: (char: string, prev?: string) => void;\r\n  private text: string;\r\n\r\n  constructor(text: string, handlers: ITokenizerHandlers) {\r\n    this.text = text;\r\n    this.index = 0;\r\n    this.handlers = handlers;\r\n    this.state = this.processNameStart;\r\n    this.declareNameStart = 0;\r\n    this.declareNameEnd = 0;\r\n    this.nbraceCount = 0;\r\n    this.nbracketCount = 0;\r\n  }\r\n\r\n  public parse() {\r\n    let char = '';\r\n    let prev = '';\r\n    const l = this.text.length;\r\n    for (; this.index < l; this.index++) {\r\n      char = this.text.charAt(this.index);\r\n      this.EOF = l - 1 === this.index;\r\n      this.state(char, prev);\r\n      prev = char;\r\n    }\r\n  }\r\n\r\n  private getName() {\r\n    return this.text.substring(this.declareNameStart, this.declareNameEnd);\r\n  }\r\n\r\n  private processDestructKey(char: string, prev: string) {\r\n    if (char === '}') {\r\n      this.nbraceCount--;\r\n\r\n      if (this.nbraceCount || this.nbracketCount) {\r\n        this.state = this.processDestructStart;\r\n      }\r\n      if (!whitespace(prev)) {\r\n        this.destructKey = this.text.substring(\r\n            this.destructKeyStart,\r\n            this.index\r\n        );\r\n      }\r\n\r\n      this.handlers.destructKey(this.destructKey);\r\n      this.handlers.destructObjectEnd();\r\n      if (!this.nbraceCount && !this.nbracketCount) {\r\n        this.index = this.text.length;\r\n      }\r\n    } else if (char === ']') {\r\n      this.nbracketCount--;\r\n\r\n      if (this.nbraceCount || this.nbracketCount) {\r\n        this.state = this.processDestructStart;\r\n      }\r\n      if (!whitespace(prev)) {\r\n        this.destructKey = this.text.substring(\r\n            this.destructKeyStart,\r\n            this.index\r\n        );\r\n      }\r\n      this.handlers.destructKey(this.destructKey);\r\n      this.handlers.destructArrayEnd();\r\n      if (!this.nbraceCount && !this.nbracketCount) {\r\n        this.index = this.text.length;\r\n      }\r\n    } else if (whitespace(char) || char === ':' || char === ',') {\r\n      if (!whitespace(prev)) {\r\n        this.destructKey = this.text.substring(\r\n            this.destructKeyStart,\r\n            this.index\r\n        );\r\n      }\r\n      if (!whitespace(char)) {\r\n        this.state = this.processDestructStart;\r\n        this.handlers.destructKey(this.destructKey, char === ':');\r\n      }\r\n    }\r\n  }\r\n\r\n  private processDestructStart(char) {\r\n    if (char === '{') {\r\n      this.nbraceCount++;\r\n      this.handlers.destructObjectStart();\r\n    } else if (char === '[') {\r\n      this.nbracketCount++;\r\n      this.handlers.destructArrayStart();\r\n    } else if (!whitespace(char)) {\r\n      this.state = this.processDestructKey;\r\n      this.destructKeyStart = this.index;\r\n      this.index--;\r\n    }\r\n  }\r\n\r\n  private processName(char: string) {\r\n    if (whitespace(char)) {\r\n      this.declareNameEnd = this.index;\r\n      this.handlers.name(this.getName());\r\n    } else if (this.EOF) {\r\n      this.declareNameEnd = this.index + 1;\r\n      this.handlers.name(this.getName());\r\n    }\r\n  }\r\n\r\n  private processNameStart(char: string) {\r\n    if (char === '{' || char === '[') {\r\n      this.state = this.processDestructStart;\r\n      this.index--;\r\n    } else if (!whitespace(char)) {\r\n      this.declareNameStart = this.index;\r\n      this.state = this.processName;\r\n    }\r\n  }\r\n}\r\n\r\nconst parseDestruct = (str: PathNode) => {\r\n  if (!isStr(str)) {\r\n    return str;\r\n  }\r\n\r\n  let destruct: Destruct;\r\n  const stack = [];\r\n  let token = '';\r\n  let realKey = '';\r\n  let lastDestruct: Destruct;\r\n  let root: Destruct;\r\n\r\n  new DestructTokenizer(str as string, {\r\n    name(key: string) {\r\n      root = key;\r\n    },\r\n    destructKey(key, readyReplace) {\r\n      if (!key) {\r\n        return;\r\n      }\r\n      token = key;\r\n      if (readyReplace) {\r\n        realKey = key;\r\n        lastDestruct = destruct;\r\n        return;\r\n      }\r\n      if (isArr(destruct)) {\r\n        (destruct as string[]).push(key);\r\n      } else if (isPlainObj(destruct)) {\r\n        destruct[realKey && lastDestruct === destruct ? realKey : key] = key;\r\n      }\r\n      realKey = '';\r\n      lastDestruct = destruct;\r\n    },\r\n    destructArrayStart() {\r\n      if (!destruct) {\r\n        root = [];\r\n        destruct = root;\r\n      } else {\r\n        destruct = [];\r\n      }\r\n      const tail = stack[stack.length - 1];\r\n      if (isPlainObj(tail)) {\r\n        tail[token] = destruct;\r\n      } else if (Array.isArray(tail)) {\r\n        (tail as any[]).push(destruct);\r\n      }\r\n      stack.push(destruct);\r\n    },\r\n    destructObjectStart() {\r\n      if (!destruct) {\r\n        root = {};\r\n        destruct = root;\r\n      } else {\r\n        destruct = {};\r\n      }\r\n      const tail = stack[stack.length - 1];\r\n      if (isPlainObj(tail)) {\r\n        tail[token] = destruct;\r\n      } else if (Array.isArray(tail)) {\r\n        (tail as any[]).push(destruct);\r\n      }\r\n      stack.push(destruct);\r\n    },\r\n    destructArrayEnd() {\r\n      stack.pop();\r\n      destruct = stack[stack.length - 1];\r\n    },\r\n    destructObjectEnd() {\r\n      stack.pop();\r\n      destruct = stack[stack.length - 1];\r\n    }\r\n  }).parse();\r\n  return root;\r\n};\r\n\r\nconst traverse = (obj: any, callback: any) => {\r\n  const internalTraverse = (internalObj: any, path: string[]) => {\r\n    if (isStr(internalObj)) {\r\n      return callback(internalObj, internalObj);\r\n    }\r\n    each(internalObj, (item: any, key: string) => {\r\n      const newPath = path.concat(key);\r\n      if (isArr(item) || isPlainObj(item)) {\r\n        internalTraverse(item, newPath);\r\n      } else {\r\n        callback(newPath, item);\r\n      }\r\n    });\r\n  };\r\n\r\n  return internalTraverse(obj, []);\r\n};\r\n\r\nconst mapReduce = (obj: any, callback: any) => {\r\n  const internalTraverse = (internalObj: any, path: string[]) => {\r\n    return map(internalObj, (item: any, key: string) => {\r\n      const newPath = path.concat(key);\r\n      if (isArr(item) || isPlainObj(item)) {\r\n        return internalTraverse(item, newPath);\r\n      } else {\r\n        return callback(\r\n            newPath,\r\n            newPath.slice(0, newPath.length - 1).concat(item)\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  return internalTraverse(obj, []);\r\n};\r\n\r\nconst parseDestructPath = (path: Path): any => {\r\n  const newPath = getPathSegments(path);\r\n  const lastKey = newPath[newPath.length - 1];\r\n  const startPath = newPath.slice(0, newPath.length - 1);\r\n  const destruct = parseDestruct(lastKey);\r\n  return {\r\n    path: newPath,\r\n    lastKey,\r\n    startPath,\r\n    destruct\r\n  };\r\n};\r\n\r\nconst parsePaths = (path: Path): any => {\r\n  const result = [];\r\n  const parsed = parseDestructPath(path);\r\n  if (isStr(parsed.destruct)) {\r\n    return path;\r\n  } else if (parsed.destruct) {\r\n    traverse(parsed.destruct, (internalPath, key) => {\r\n      result.push({\r\n        path: parsed.startPath.concat(internalPath),\r\n        startPath: parsed.startPath,\r\n        endPath: internalPath,\r\n        key\r\n      });\r\n    });\r\n    return result;\r\n  } else {\r\n    return path;\r\n  }\r\n};\r\n\r\nconst resolveGetIn = (get: Getter) => {\r\n  const cache = new Map();\r\n  return (obj: any, path: Path, value?: any): any => {\r\n    let ast = null;\r\n\r\n    if (!cache.get(path)) {\r\n      ast = parseDestructPath(path);\r\n      cache.set(path, ast);\r\n    } else {\r\n      ast = cache.get(path);\r\n    }\r\n    if (!isArr(ast.destruct) && !isPlainObj(ast.destruct)) {\r\n      return get(obj, path, value);\r\n    }\r\n    return mapReduce(ast.destruct, (mapPath, key) => {\r\n      return get(obj, ast.startPath.concat(key[key.length - 1]));\r\n    });\r\n  };\r\n};\r\n\r\nconst resolveUpdateIn = (update: Setter, internalGetIn: Getter) => {\r\n  const cache = new Map();\r\n  return (\r\n      obj: any,\r\n      path: Path,\r\n      value?: any,\r\n      getSchema?: (path: string[] | number[]) => any\r\n  ) => {\r\n    let paths: any[] = [];\r\n    if (!cache.get(path)) {\r\n      paths = parsePaths(path);\r\n      cache.set(path, paths);\r\n    } else {\r\n      paths = cache.get(path);\r\n    }\r\n    if (!isArr(paths)) {\r\n      return update(obj, path, value, getSchema);\r\n    }\r\n    if (paths && paths.length) {\r\n      each(paths, ({key, startPath, endPath}: any) => {\r\n        update(\r\n            obj,\r\n            startPath.concat(key),\r\n            internalGetIn(value, endPath),\r\n            getSchema\r\n        );\r\n      });\r\n    }\r\n    return obj;\r\n  };\r\n};\r\n\r\nconst resolveExistIn = (has: HasIn) => {\r\n  const cache = new Map();\r\n  return (obj: any, path: Path) => {\r\n    let paths: any = [];\r\n    if (!cache.get(path)) {\r\n      paths = parsePaths(path);\r\n      cache.set(path, paths);\r\n    } else {\r\n      paths = cache.get(path);\r\n    }\r\n    if (!isArr(paths)) {\r\n      return has(obj, path);\r\n    }\r\n    if (paths && paths.length) {\r\n      return every(paths, ({startPath, key}: any) => {\r\n        return has(obj, startPath.concat(key));\r\n      });\r\n    }\r\n\r\n    return false;\r\n  };\r\n};\r\n\r\nfunction _getIn(obj: any, path: Path, value: any) {\r\n  if (!isObj(obj) || !path) {\r\n    return obj;\r\n  }\r\n\r\n  const copyPath = toString(path);\r\n\r\n  if (copyPath in obj) {\r\n    return obj[copyPath as string];\r\n  }\r\n  let copyObj = obj;\r\n  const pathArr = getPathSegments(copyPath);\r\n\r\n  for (let i = 0; i < pathArr.length; i++) {\r\n    if (!Object.prototype.propertyIsEnumerable.call(copyObj, pathArr[i])) {\r\n      return value;\r\n    }\r\n\r\n    copyObj = copyObj[pathArr[i]];\r\n\r\n    if (copyObj === undefined || copyObj === null) {\r\n      // `obj` is either `undefined` or `null` so we want to stop the loop, and\r\n      // if this is not the last bit of the path, and\r\n      // if it did't return `undefined`\r\n      // it would return `null` if `obj` is `null`\r\n      // but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\r\n      if (i !== pathArr.length - 1) {\r\n        return value;\r\n      }\r\n\r\n      break;\r\n    }\r\n  }\r\n\r\n  return copyObj;\r\n}\r\n\r\nfunction _setIn(\r\n    obj: any,\r\n    path: Path,\r\n    value: any,\r\n    getSchema?: (path: string[] | number[]) => any\r\n) {\r\n  let copyObj = obj;\r\n  if (!isObj(copyObj) || !path) {\r\n    return;\r\n  }\r\n\r\n  const copyPath = toString(path);\r\n\r\n  if (copyPath in copyObj) {\r\n    copyObj[copyPath as string] = value;\r\n    return;\r\n  }\r\n\r\n  const pathArr = getPathSegments(copyPath);\r\n\r\n  for (let i = 0; i < pathArr.length; i++) {\r\n    const p = pathArr[i];\r\n    if (!isObj(copyObj[p])) {\r\n      if (copyObj[p] === undefined && value === undefined) {\r\n        return;\r\n      }\r\n      if (/^\\d+$/.test(pathArr[i + 1 + ''])) {\r\n        if (getSchema) {\r\n          const schema = getSchema(pathArr.slice(0, i) as string[]);\r\n\r\n          if (!schema || schema.type === 'array') {\r\n            copyObj[p] = [];\r\n          } else {\r\n            copyObj[p] = {};\r\n          }\r\n        } else {\r\n          copyObj[p] = [];\r\n        }\r\n      } else {\r\n        copyObj[p] = {};\r\n      }\r\n    }\r\n\r\n    if (i === pathArr.length - 1) {\r\n      copyObj[p] = value;\r\n    }\r\n\r\n    copyObj = copyObj[p];\r\n  }\r\n}\r\n\r\nfunction _deleteIn(obj: any, path: Path) {\r\n  let copyObj = obj;\r\n  if (!isObj(copyObj) || !path) {\r\n    return;\r\n  }\r\n\r\n  const copyPath = toString(path);\r\n\r\n  if (copyPath in copyObj) {\r\n    delete copyObj[copyPath as string];\r\n    return;\r\n  }\r\n\r\n  const pathArr = getPathSegments(copyPath);\r\n\r\n  for (let i = 0; i < pathArr.length; i++) {\r\n    const p = pathArr[i];\r\n\r\n    if (i === pathArr.length - 1) {\r\n      if (isArr(copyObj)) {\r\n        copyObj.splice(p as number, 1);\r\n      } else {\r\n        delete copyObj[p];\r\n      }\r\n      return;\r\n    }\r\n\r\n    copyObj = copyObj[p];\r\n\r\n    if (!isObj(copyObj)) {\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction _existIn(obj: any, path: Path) {\r\n  if (!isObj(obj) || !path) {\r\n    return false;\r\n  }\r\n\r\n  const copyPath = toString(path);\r\n\r\n  if (copyPath in obj) {\r\n    return true;\r\n  }\r\n  let copyObj = obj;\r\n  const pathArr = getPathSegments(copyPath);\r\n\r\n  for (let i = 0; i < pathArr.length; i++) {\r\n    if (isObj(copyObj)) {\r\n      if (!(pathArr[i] in copyObj)) {\r\n        return false;\r\n      }\r\n\r\n      copyObj = copyObj[pathArr[i]];\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport const getIn = resolveGetIn(_getIn);\r\nexport const setIn = resolveUpdateIn(_setIn, getIn);\r\nexport const deleteIn = resolveUpdateIn(_deleteIn, getIn);\r\nexport const existIn = resolveExistIn(_existIn);\r\nexport {parseDestructPath, parseDestruct, parsePaths};\r\n","import {isArr, isFn} from '../types';\r\n\r\nconst isArray = isArr;\r\nconst keyList = Object.keys;\r\nconst hasProp = Object.prototype.hasOwnProperty;\r\n\r\ntype Filter = (\r\n    comparies: {\r\n      a: any;\r\n      b: any\r\n    },\r\n    key: string) => boolean;\r\n\r\n/* eslint-disable */\r\nfunction equal(a: any, b: any, filter: Filter) {\r\n  // fast-deep-equal index.js 2.0.1\r\n  if (a === b) {\r\n    return true;\r\n  }\r\n\r\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\r\n    const arrA = isArray(a);\r\n    const arrB = isArray(b);\r\n    let i: number;\r\n    let length: number;\r\n    let key: string | number;\r\n\r\n    if (arrA && arrB) {\r\n      length = a.length;\r\n      if (length !== b.length) {\r\n        return false;\r\n      }\r\n      for (i = length; i-- !== 0;) {\r\n        if (!equal(a[i], b[i], filter)) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    if (arrA !== arrB) {\r\n      return false;\r\n    }\r\n\r\n    const dateA = a instanceof Date;\r\n    const dateB = b instanceof Date;\r\n    if (dateA !== dateB) {\r\n      return false;\r\n    }\r\n    if (dateA && dateB) {\r\n      return a.getTime() === b.getTime();\r\n    }\r\n\r\n    const regexpA = a instanceof RegExp;\r\n    const regexpB = b instanceof RegExp;\r\n    if (regexpA !== regexpB) {\r\n      return false;\r\n    }\r\n    if (regexpA && regexpB) {\r\n      return a.toString() === b.toString();\r\n    }\r\n    const urlA = a instanceof URL;\r\n    const urlB = b instanceof URL;\r\n    if (urlA && urlB) {\r\n      return a.href === b.href;\r\n    }\r\n    const keys = keyList(a);\r\n    length = keys.length;\r\n\r\n    if (length !== keyList(b).length) {\r\n      return false;\r\n    }\r\n\r\n    for (i = length; i-- !== 0;) {\r\n      if (!hasProp.call(b, keys[i])) {\r\n        return false;\r\n      }\r\n    }\r\n    // end fast-deep-equal\r\n\r\n    // Custom handling for React\r\n    for (i = length; i-- !== 0;) {\r\n      key = keys[i];\r\n      if (key === '_owner' && a.$$typeof) {\r\n        // React-specific: avoid traversing React elements' _owner.\r\n        //  _owner contains circular references\r\n        // and is not needed when comparing the actual elements (and not their owners)\r\n        // .$$typeof and ._store on just reasonable markers of a react element\r\n        continue;\r\n      } else {\r\n        if (isFn(filter)) {\r\n          if (filter({a: a[key], b: b[key]}, key)) {\r\n            if (!equal(a[key], b[key], filter)) {\r\n              return false;\r\n            }\r\n          }\r\n        } else {\r\n          // all other properties should be traversed as usual\r\n          if (!equal(a[key], b[key], filter)) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // fast-deep-equal index.js 2.0.1\r\n    return true;\r\n  }\r\n\r\n  if (a && b && typeof a === 'function' && typeof b === 'function') {\r\n    return a.toString() === b.toString();\r\n  }\r\n\r\n  return a !== a && b !== b;\r\n}\r\n\r\n// end fast-deep-equal\r\n\r\nexport const isEqual = function exportedEqual(a: any, b: any, filter?: Filter) {\r\n  try {\r\n    return equal(a, b, filter);\r\n  } catch (error: any) {\r\n    if (\r\n        (error.message?.match(/stack|recursion/i)) ||\r\n        error.number === -2146828260\r\n    ) {\r\n      console.warn(\r\n          'Warning: compare does not handle circular references.',\r\n          error.name,\r\n          error.message\r\n      );\r\n      return false;\r\n    }\r\n    // some other error. we should definitely know about these\r\n    throw error;\r\n  }\r\n};\r\n","const has = Object.prototype.hasOwnProperty;\r\n\r\nconst toString = Object.prototype.toString;\r\n\r\nexport function isEmpty(val: any): boolean {\r\n  // Null and Undefined...\r\n  if (val == null) {\r\n    return true;\r\n  }\r\n\r\n  // Booleans...\r\n  if (typeof val === 'boolean') {\r\n    return false;\r\n  }\r\n\r\n  // Numbers...\r\n  if (typeof val === 'number') {\r\n    return false;\r\n  }\r\n\r\n  // Strings...\r\n  if (typeof val === 'string') {\r\n    return val.length === 0;\r\n  }\r\n\r\n  // Functions...\r\n  if (typeof val === 'function') {\r\n    return val.length === 0;\r\n  }\r\n\r\n  // Arrays...\r\n  if (Array.isArray(val)) {\r\n    if (val.length === 0) {\r\n      return true;\r\n    }\r\n    for (let i = 0; i < val.length; i++) {\r\n      if (\r\n          val[i] !== undefined &&\r\n          val[i] !== null &&\r\n          val[i] !== '' &&\r\n          val[i] !== 0\r\n      ) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // Errors...\r\n  if (val instanceof Error) {\r\n    return val.message === '';\r\n  }\r\n\r\n  // Objects...\r\n  if (val.toString === toString) {\r\n    switch (val.toString()) {\r\n        // Maps, Sets, Files and Errors...\r\n      case '[object File]':\r\n      case '[object Map]':\r\n      case '[object Set]': {\r\n        return val.size === 0;\r\n      }\r\n\r\n        // Plain objects...\r\n      case '[object Object]': {\r\n        for (const key in val) {\r\n          if (has.call(val, key)) {\r\n            return false;\r\n          }\r\n        }\r\n\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Anything else...\r\n  return false;\r\n}\r\n","import {computed, PropType, ref, watch} from 'vue';\r\nimport {Platform} from '../../../types';\r\nimport {useBaseInput} from '../mixins';\r\n\r\nexport const baseUrlProps = {\r\n  disabled: {type: Boolean, default: false},\r\n  protocols: {\r\n    type: Array, default: () => ['http', 'https']\r\n  },\r\n  value: String,\r\n  platform: {\r\n    type: String as PropType<Platform>,\r\n    default: 'desktop'\r\n  },\r\n  valueProp: {\r\n    type: String,\r\n    default: 'value'\r\n  }\r\n};\r\n\r\nexport const useBaseUrl = (props, ctx) => {\r\n  const {size} = useBaseInput(props, ctx);\r\n  const domain = ref('');\r\n  const protocol = ref('https');\r\n  const current = computed(() =>\r\n      `${protocol.value ? `${protocol.value}://` : ''}${domain.value || ''}`);\r\n  const options = props.protocols.map(imte => ({\r\n    value: imte,\r\n    label: imte + '://'\r\n  }));\r\n  watch(() => current.value, (value: string) => {\r\n    ctx.emit('update:value', value);\r\n    ctx.emit('change', value);\r\n  });\r\n  watch(() => props.value, (v: string) => {\r\n    if (typeof v === 'string') {\r\n      if (v !== current.value) {\r\n        const protocolTmp = props.protocols.find(p => v.startsWith(p + '://'));\r\n        if (protocolTmp) {\r\n          protocol.value = protocolTmp;\r\n        }\r\n        domain.value = v.replace(protocolTmp + '://', '');\r\n      }\r\n    } else {\r\n      protocol.value = null;\r\n      domain.value = null;\r\n    }\r\n  }, {immediate: true});\r\n  return {\r\n    protocol, domain, options, currentValue: current, size\r\n  };\r\n};\r\n","import {useBaseInput} from '../';\r\n\r\nexport const createComponentProxy = (InputComponent: any) => {\r\n  return (props, ctx) => {\r\n    const {size} = useBaseInput(props, ctx);\r\n    return <InputComponent {...{size: size.value, ...props, ...ctx.attrs}}\r\n                           v-slots={ctx.slots}/>;\r\n  };\r\n};\r\n\r\n\r\nexport const getPropByPath = function getPropByPath(obj, path, strict?) {\r\n  let tempObj = obj;\r\n  let copyPath = path;\r\n  copyPath = copyPath.replace(/\\[(\\w+)]/g, '.$1');\r\n  copyPath = copyPath.replace(/^\\./, '');\r\n\r\n  const keyArr = copyPath.split('.');\r\n  let i = 0;\r\n  for (const len = keyArr.length; i < len - 1; ++i) {\r\n    if (!tempObj && !strict) {\r\n      break;\r\n    }\r\n    const key = keyArr[i];\r\n    if (key in tempObj) {\r\n      tempObj = tempObj[key];\r\n    } else {\r\n      if (strict) {\r\n        throw new Error('please transfer a valid prop path to form item!');\r\n      }\r\n      break;\r\n    }\r\n  }\r\n  return {\r\n    o: tempObj,\r\n    k: keyArr[i],\r\n    v: tempObj ? tempObj[keyArr[i]] : null\r\n  };\r\n};\r\n\r\nexport const noop = function noop(...args: any[]) {\r\n  // do nothing\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"确定 \")\n\nimport {ref} from 'vue';\r\n\r\n  // eslint-disable-next-line no-undef\r\n  \nexport default /*#__PURE__*/_defineComponent({\n  props: {\r\n    value: Object,\r\n    title: String\r\n  },\n  setup(__props) {\n\r\n  \r\n\r\n  const visible = ref(false);\r\n\r\n  const show = () => {\r\n    visible.value = true;\r\n  };\r\n\r\n  const close = () => {\r\n    visible.value = false;\r\n  };\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_code_editor = _resolveComponent(\"code-editor\")!\n  const _component_a_modal = _resolveComponent(\"a-modal\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_a_button, { onClick: show }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(__props.title || '查看数据'), 1)\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_a_modal, {\n      visible: visible.value,\n      \"onUpdate:visible\": _cache[0] || (_cache[0] = ($event: any) => ((visible).value = $event)),\n      \"destroy-on-close\": \"\"\n    }, {\n      footer: _withCtx(() => [\n        _createVNode(_component_a_button, {\n          type: \"primary\",\n          onClick: close\n        }, {\n          default: _withCtx(() => [\n            _hoisted_1\n          ]),\n          _: 1\n        })\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_code_editor, null, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(__props.value), 1)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ], 64))\n}\n}\n\n})","import script from \"./show-value.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./show-value.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {ILibComponents, Platform, SchemaFormComponent, SchemaFormComponentOptions} from '../../../types';\r\nimport {FieldDefinition} from '../internal/utils';\r\n\r\nexport const ASchemaForm = 'ASchemaForm';\r\n\r\nexport enum Mode {\r\n  Edit = 'edit',\r\n  Display = 'display'\r\n}\r\n\r\nexport enum FieldTypes {\r\n  Grid = 'grid',\r\n  File = 'file',\r\n  Checkbox = 'checkbox',\r\n  Picture = 'picture',\r\n  Button = 'button',\r\n  Cascader = 'cascader',\r\n  Transfer = 'transfer',\r\n  Rate = 'rate',\r\n  Upload = 'upload',\r\n  DateRange = 'daterange',\r\n  Url = 'url',\r\n  String = 'string',\r\n  Datetime = 'datetime',\r\n  Year = 'year',\r\n  Month = 'month',\r\n  Time = 'time',\r\n  Select = 'select',\r\n  Date = 'date',\r\n  DateTimeRange = 'datetimerange',\r\n  Integer = 'integer',\r\n  Number = 'number',\r\n  Double = 'double',\r\n  Boolean = 'boolean',\r\n  ExpandSelect = 'expand-select',\r\n  Range = 'range',\r\n  Empty = 'empty',\r\n  Text = 'text',\r\n  Object = 'object',\r\n  Password = 'password',\r\n  TimeRange = 'timerange',\r\n  AutoComplete = 'autocomplete',\r\n}\r\n\r\nexport const DESKTOP = 'desktop';\r\nexport const MOBILE = 'mobile';\r\n\r\n\r\nexport function swap(array, x, y) {\r\n  array.splice(x, 1, ...array.splice(y, 1, array[x]));\r\n}\r\n\r\nexport const registerMobileLib = (map: Record<keyof ILibComponents, any>) => {\r\n  Object.keys(map).forEach(key => {\r\n    LibComponents[key].mobile = map[key];\r\n  });\r\n};\r\n\r\nexport const registerDesktopLib = (map: Record<keyof ILibComponents, any>) => {\r\n  Object.keys(map).forEach(key => {\r\n    if (!LibComponents[key]) {\r\n      throw new Error(`没有${key}`);\r\n    }\r\n    LibComponents[key].desktop = map[key];\r\n  });\r\n};\r\n\r\n\r\nexport const LibComponents: ILibComponents = {\r\n  icons: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  alert: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  button: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  col: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  content: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  footer: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  form: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  formItem: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  header: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  layout: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  popover: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  row: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  sider: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  checkbox: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  card: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  empty: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  select: {\r\n    desktop: null,\r\n    mobile: null\r\n  },\r\n  input: {\r\n    desktop: null,\r\n    mobile: null\r\n  }\r\n};\r\n\r\nexport const resolveOptions = (field: FieldDefinition) => {\r\n  if (field.enum) {\r\n    if (field.props.options) {\r\n      return field.props.options;\r\n    }\r\n    if (typeof field.enum === 'function') {\r\n      const result = field.enum();\r\n      if (Array.isArray(result)) {\r\n        return result;\r\n      } else if (result.then) {\r\n        result.then(data => {\r\n          field.props.options = data;\r\n        });\r\n        return [];\r\n      }\r\n    } else if (typeof field.enum === 'object' && field.enum['then']) {\r\n      field.enum['then'](data => {\r\n        field.props.options = data;\r\n      });\r\n      return [];\r\n    }\r\n    return field.enum;\r\n  }\r\n  if (field.props?.options) {\r\n    if (typeof field.props.options === 'function') {\r\n      return field.props.options() || [];\r\n    } else if (typeof field.props.options === 'object') {\r\n      return field.props.options || [];\r\n    }\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getDefaultValue = (field: FieldDefinition) => {\r\n  if (!field.slot && field.getComponent().getDefaultValue !== undefined) {\r\n    return field.getComponent().getDefaultValue(field);\r\n  }\r\n  if (isNotNull(field.default)) {\r\n    return field.default;\r\n  }\r\n  if (field.type === FieldTypes.Transfer) {\r\n    return [];\r\n  } else if (field.type === FieldTypes.Range) {\r\n    return [0, 0];\r\n  } else if (typeof field.destructPath.destruct !== 'string') {\r\n    return null;\r\n  } else if (field.type === FieldTypes.Object) {\r\n    if (field.array) {\r\n      return [{}];\r\n    } else {\r\n      return {};\r\n    }\r\n  } else {\r\n    return field.array ? [] : null;\r\n  }\r\n};\r\n\r\n\r\nexport const getFormComponent = (platform: Platform) => LibComponents.form[platform];\r\n\r\nexport const getRowComponent = (platform: Platform) => LibComponents.row[platform];\r\n\r\nexport const getColComponent = (platform: Platform) => LibComponents.col[platform];\r\n\r\nexport const getLayoutComponent = (platform: Platform) => LibComponents.layout[platform];\r\n\r\nexport const getSiderComponent = (platform: Platform) => LibComponents.sider[platform];\r\n\r\nexport const getContentComponent = (platform: Platform) => LibComponents.content[platform];\r\n\r\nexport const getButtonComponent = (platform: Platform) => LibComponents.button[platform];\r\n\r\nexport const getAlertComponent = (platform: Platform) => LibComponents.alert[platform];\r\n\r\nexport const getOptionProperty = function getOptionProperty(option: any, property: string | ((option: any) => any)): any {\r\n  if (typeof option === 'string') {\r\n    return option;\r\n  } else if (typeof property === 'string') {\r\n    return option[property];\r\n  } else if (typeof property === 'function') {\r\n    return property(option);\r\n  }\r\n};\r\n\r\nexport function addRule(rules: any, field: FieldDefinition, rule: any) {\r\n  const type = field.type;\r\n  let validateType = 'string';\r\n  if (field.array) {\r\n    validateType = 'array';\r\n  } else if (type === 'number') {\r\n    validateType = 'number';\r\n  } else if (type === FieldTypes.Integer) {\r\n    validateType = 'number';\r\n  } else if (type === FieldTypes.Double) {\r\n    validateType = 'number';\r\n  } else if (type === FieldTypes.Object) {\r\n    validateType = 'object';\r\n  } else if (type === FieldTypes.Date || type === FieldTypes.Datetime || type === FieldTypes.Year || type === FieldTypes.Month) {\r\n    validateType = 'date';\r\n  } else if (type === FieldTypes.Select || type === FieldTypes.ExpandSelect) {\r\n    const options = resolveOptions(field);\r\n    if (options.length) {\r\n      validateType = typeof getOptionProperty(options[0], field.props && field.props.valueProperty || 'value');\r\n    }\r\n  } else if (type === FieldTypes.DateRange || type === FieldTypes.DateTimeRange) {\r\n    validateType = 'array';\r\n  }\r\n  rule.type = validateType;\r\n  if (type === FieldTypes.Url) {\r\n    rule.format = 'url';\r\n  }\r\n  rules.push(rule);\r\n}\r\n\r\nexport const isNull = (value: any) => value === undefined || value === null;\r\n\r\nexport const isNotNull = (value: any) => !isNull(value);\r\n\r\nexport const fixComponentDefinition = (value: SchemaFormComponentOptions | SchemaFormComponentOptions[],\r\n                                       forDisplay: boolean): SchemaFormComponent => {\r\n  let options: SchemaFormComponentOptions = null;\r\n  if (Array.isArray(value)) {\r\n    if (forDisplay) {\r\n      options = value.find(it => it.mode === 'display' || it.mode === 'both');\r\n    } else {\r\n      options = value.find(it => it.mode === 'input');\r\n    }\r\n  } else {\r\n    options = value;\r\n  }\r\n  return {\r\n    component: options.component,\r\n    platform: options.platforms as Platform,\r\n    mode: options.mode || 'input',\r\n    arrayMode: options.arrayMode,\r\n    layoutOptions: options.layoutOptions,\r\n    valueProp: options.valueProp || 'value',\r\n    wrap: options.wrap,\r\n    getProps: (definition: FieldDefinition) => {\r\n      const  getProps = options.getProps || (() => ({}));\r\n      const props: any = getProps(definition, options.platforms as Platform) || {};\r\n      if (definition.title && options.platforms === MOBILE && !props.labelNumber) {\r\n        props.labelNumber = typeof definition.title === 'string' ? (definition.title.length > 7 ? 7 : definition.title.length) : 7;\r\n      }\r\n      if (definition.props) {\r\n        Object.assign(props, definition.props);\r\n      }\r\n      return props;\r\n    }\r\n  };\r\n};\r\n","import {Component} from '@vue/runtime-core';\r\nimport {\r\n  ArrayMode,\r\n  DisplayComponentOptions,\r\n  FieldDefinition,\r\n  Platform,\r\n  SchemaFormComponent,\r\n  SchemaFormComponentOptions,\r\n  StorePlatformComponents\r\n} from '../../../types';\r\nimport {registerComponent} from '../config';\r\nimport {DESKTOP, fixComponentDefinition, MOBILE, Mode} from './utils';\r\n\r\n\r\nexport class ComponentStore {\r\n\r\n  public store: StorePlatformComponents = {\r\n    desktop: {},\r\n    mobile: {}\r\n  };\r\n\r\n  public addComponent(options: SchemaFormComponentOptions) {\r\n    const typeDef = this.store[options.platforms as Platform];\r\n    if (!typeDef[options.types as string]) {\r\n      typeDef[options.types as string] = [];\r\n    }\r\n    const def: SchemaFormComponent = fixComponentDefinition(options, options.mode === 'display');\r\n    typeDef[options.types as string].push(def);\r\n  }\r\n\r\n  public search(mode: Mode,\r\n                platform: Platform,\r\n                type: string,\r\n                array?: boolean) {\r\n    const typeDef = this.store[platform][type] as SchemaFormComponent[];\r\n    if (!typeDef || typeDef.length === 0) {\r\n      return;\r\n    }\r\n    let filteredComponents = [];\r\n    if (mode === 'edit') {\r\n      filteredComponents = typeDef.filter(it => it.mode === 'input' || it.mode === 'both');\r\n    } else if (mode === 'display') {\r\n      filteredComponents = typeDef.filter(it => it.mode === 'display' || it.mode === 'both');\r\n    }\r\n    let component = null;\r\n    if (array) {\r\n      component = filteredComponents.find(it => ['array', 'both'].includes(it.arrayMode));\r\n    } else if (array === false) {\r\n      component = filteredComponents.find(it => ['single', 'both'].includes(it.arrayMode));\r\n    }\r\n    if (!component) {\r\n      if (filteredComponents.length === 0) {\r\n        return typeDef.find(it => ['layout', 'render'].includes(it.mode));\r\n      }\r\n      return filteredComponents[0];\r\n    }\r\n    return component;\r\n  }\r\n}\r\n\r\nexport const globalComponentStore = new ComponentStore();\r\n\r\nexport const registerDisplay = ({\r\n                                  component,\r\n                                  platforms,\r\n                                  types,\r\n                                  arrayMode,\r\n                                  getProps = () => ({})\r\n                                }: DisplayComponentOptions) => {\r\n  registerComponent({\r\n    component,\r\n    platforms,\r\n    types,\r\n    mode: 'display',\r\n    arrayMode: arrayMode || 'single',\r\n    getProps\r\n  });\r\n};\r\n\r\n/**\r\n * 注册表单组件\r\n * @param {string | object} component 组件对象或组件名称\r\n * @param {Platform | Platform[]} platforms 支持的平台 desktop,mobile\r\n * @param {string | string[]} types 组件的类型\r\n * @param {ArrayMode} arrayMode\r\n * @param {(definition: FieldDefinition, platform: Platform) => object} getProps 组件属性转换器（可选）\r\n */\r\nexport const register = (component: string | Component,\r\n                         platforms: Platform | Platform[],\r\n                         types: string | string[],\r\n                         arrayMode: ArrayMode = 'both',\r\n                         getProps: ((definition: FieldDefinition, platform: Platform) => { [key: string]: unknown }) = () => ({})) => {\r\n  registerComponent({\r\n    component,\r\n    platforms,\r\n    types,\r\n    arrayMode: arrayMode,\r\n    getProps\r\n  });\r\n};\r\n\r\nexport const registerDesktop = (\r\n  component: string | Component,\r\n  types: string | string[],\r\n  arrayMode: ArrayMode = 'both',\r\n  getProps: ((definition: FieldDefinition, platform: Platform) => { [key: string]: unknown }) = null) => {\r\n  register(component, DESKTOP, types, arrayMode, getProps);\r\n};\r\n\r\nexport const registerMobile = (\r\n  component: string | Component,\r\n  types: string | string[],\r\n  arrayMode: ArrayMode = 'both',\r\n  getProps: ((definition: FieldDefinition, platform: Platform) => { [key: string]: unknown }) = null) => {\r\n  register(component, MOBILE, types, arrayMode, getProps);\r\n};\r\n\r\nconst ALL_PLATFORMS: Platform[] = [MOBILE, DESKTOP];\r\nexport const registerResponsiveComponent = (\r\n  component: string | Component,\r\n  types: string | string[],\r\n  arrayMode: ArrayMode = 'both',\r\n  getProps: ((definition: FieldDefinition, platform: Platform) => { [key: string]: unknown }) = null) => {\r\n  register(component, ALL_PLATFORMS, types, arrayMode, getProps);\r\n};\r\n","module.exports = Vue;","import {PlusOutlined} from '@ant-design/icons-vue';\r\nimport classNames from 'classnames';\r\nimport {computed, ComputedRef, defineComponent, inject, PropType, VNode} from 'vue';\r\nimport {BaseArrayComponentProps, SchemaFormStore} from '../../../types';\r\nimport {FieldDefinition} from '../internal/utils';\r\nimport {SchemaFormStoreKey} from '../utils/key';\r\nimport {\r\n  getButtonComponent,\r\n  getColComponent,\r\n  getContentComponent,\r\n  getLayoutComponent,\r\n  getRowComponent,\r\n  getSiderComponent,\r\n  LibComponents,\r\n  MOBILE\r\n} from '../utils/utils';\r\nimport './style/array-wrapper.less';\r\n\r\nexport const baseArrayComponentProps: BaseArrayComponentProps = {\r\n  maxLength: {type: Number, default: 0},\r\n  showRemoveBtn: {type: Boolean, default: true},\r\n  showAddBtn: {type: Boolean, default: true},\r\n  disabled: {type: Boolean, default: false},\r\n  fields: {type: [Array, Object]},\r\n  addBtnText: {type: String},\r\n  addBtnProps: {type: Object},\r\n  deleteBtnProps: {type: Object}\r\n};\r\n\r\nexport default defineComponent({\r\n  name: 'ArrayWrapper',\r\n  inheritAttrs: false,\r\n  props: {\r\n    field: {type: Object as PropType<FieldDefinition>, required: true},\r\n    cellSpan: {type: Number, default: 24},\r\n    gutter: {type: Number, default: 20},\r\n    subForm: {type: Boolean, default: false},\r\n    clsPrefix: {type: String, default: 'schema-form-array-wrapper'},\r\n    ...baseArrayComponentProps\r\n  },\r\nemits: ['add', 'remove'],\r\n  setup(props, {slots, emit}) {\r\n    const field: ComputedRef<FieldDefinition> = computed(() => {\r\n      return props.field as FieldDefinition;\r\n    });\r\n    const store: SchemaFormStore = inject(SchemaFormStoreKey);\r\n    const editable = computed(() => {\r\n      return store.editable && field.value.editable;\r\n    });\r\n    const renderAddButton = () => {\r\n      if (!editable.value || !props.showAddBtn || (props.maxLength > 0 && slots.default\r\n          && (props.fields as VNode[]).length >= props.maxLength)) {\r\n        return null;\r\n      }\r\n      const ColComponent: any = getColComponent(store.platform);\r\n      const ButtonComponent: any = getButtonComponent(store.platform);\r\n      const buttonStyle: any = {};\r\n      if ((props.addBtnProps as any)?.block) {\r\n        buttonStyle.width = '100%';\r\n      }\r\n      const addButtonProps: any = Object.assign({\r\n        icon: <PlusOutlined/>\r\n      }, props.addBtnProps);\r\n      addButtonProps.disabled = disabled.value || addButtonProps.disabled;\r\n      if (!addButtonProps.icon) {\r\n        const ButtonIcon = LibComponents.icons[store.platform].plus;\r\n        addButtonProps.icon = <ButtonIcon/>;\r\n      }\r\n      const button = <ButtonComponent onClick={onAddClick}\r\n                                      style={buttonStyle}\r\n                                      {...addButtonProps}>{props.addBtnText || '添加'}</ButtonComponent>;\r\n      if (props.subForm) {\r\n        return <div style={{margin: '10px 15px'}}>{button}</div>;\r\n      }\r\n      return <ColComponent span={props.cellSpan}>{button}</ColComponent>;\r\n    };\r\n    const onAddClick = () => {\r\n      emit('add');\r\n    };\r\n    const renderFields = () => {\r\n      const ColComponent: any = getColComponent(store.platform);\r\n      const LayoutComponent = getLayoutComponent(store.platform);\r\n      const ASideComponent = getSiderComponent(store.platform);\r\n      const ContentComponent = getContentComponent(store.platform);\r\n      if (store.platform === MOBILE) {\r\n        return (props.fields as VNode[]).map((it, index) => {\r\n          return <div style={{position: 'relative'}}>{\r\n            [renderDeleteBtn(index), it]\r\n          }</div>;\r\n        });\r\n      }\r\n      const fields = props.fields || [];\r\n      if (Array.isArray(fields)) {\r\n        return fields.map((it, index) => {\r\n          return (\r\n              <ColComponent span={props.cellSpan}>\r\n                <LayoutComponent>\r\n                  <ContentComponent style={{\r\n                    overflow: 'hidden'\r\n                  }}>{it}</ContentComponent>\r\n                  <ASideComponent\r\n                      width={props.deleteBtnProps?.['width'] ?? 'auto'}>{renderDeleteBtn(index)}</ASideComponent>\r\n                </LayoutComponent>\r\n              </ColComponent>\r\n          );\r\n        });\r\n      }\r\n      return undefined;\r\n    };\r\n    const disabled = computed(() => {\r\n      return props.disabled || store.disabled || store.loading;\r\n    });\r\n    const renderDeleteBtn = (index: any) => {\r\n      const DeleteIcon = LibComponents.icons[store.platform].delete;\r\n      if (!editable.value || !props.showRemoveBtn) {\r\n        return null;\r\n      }\r\n      const delBtnClass = classNames(props.clsPrefix + '-del-btn', {\r\n        [props.clsPrefix + '-del-btn-disabled']: disabled.value\r\n      });\r\n      return <div class={props.clsPrefix + '-del-btn-wrapper'}>\r\n        <a class={delBtnClass}\r\n           onClick={() => {\r\n             if (!disabled.value) {\r\n               emit('remove', index);\r\n             }\r\n           }}>\r\n          <DeleteIcon/>\r\n          <span>删除</span>\r\n        </a>\r\n      </div>;\r\n    };\r\n    return {\r\n      renderFields,\r\n      renderAddButton,\r\n      store\r\n    };\r\n  },\r\n  render() {\r\n    const {store} = this;\r\n    const RowComponent: any = getRowComponent(store.platform);\r\n    const content = [\r\n      this.renderFields(),\r\n      this.renderAddButton()\r\n    ];\r\n    if (this.subForm) {\r\n      return <div class={this.clsPrefix}>{content}</div>;\r\n    }\r\n\r\n    if (this.$attrs.platform === 'mobile') {\r\n      return content;\r\n    } else {\r\n      return <RowComponent gutter={this.gutter}\r\n                           class={this.clsPrefix}\r\n                           type=\"flex\">\r\n        {content}\r\n      </RowComponent>;\r\n    }\r\n  }\r\n});\r\n","import {VNode} from 'vue';\r\nimport {FieldDefinition} from './internal/utils';\r\nimport {FieldTypes, LibComponents} from './utils/utils';\r\n\r\nfunction resolveWrap(field: FieldDefinition) {\r\n  if (field.getComponent(true).wrap === false) {\r\n    return false;\r\n  }\r\n  return typeof field.getComponent(true).wrap !== 'object' || (field.getComponent().wrap as any).mobile !== false;\r\n}\r\n\r\n/**\r\n * 兼容性处理，如果需要引入新的组件库，需要修改代码进行迟滞\r\n *\r\n * @author 吴昊\r\n * @since 0.1.19\r\n */\r\n\r\nexport function createSimpleMobileFieldComponent(title: string | VNode,\r\n                                                 inputComponent: any,\r\n                                                 field: FieldDefinition) {\r\n  if (field.type === FieldTypes.Object) {\r\n    return inputComponent;\r\n  }\r\n  const props: any = {title};\r\n  const FormItem: any = LibComponents.formItem['mobile'];\r\n  const slots = {\r\n    extra: () => inputComponent\r\n  };\r\n  return resolveWrap(field) ? <FormItem {...props} v-slots={slots}/> : inputComponent;\r\n}\r\n","import {Slot} from '@vue/runtime-core';\r\nimport AsyncValidator from 'async-validator';\r\nimport classNames from 'classnames';\r\nimport _ from 'lodash';\r\nimport {\r\n  computed,\r\n  defineComponent,\r\n  inject,\r\n  isProxy,\r\n  isRef,\r\n  isVNode,\r\n  onBeforeUnmount,\r\n  PropType,\r\n  ref,\r\n  toRaw,\r\n  unref,\r\n  VNode,\r\n  watch\r\n} from 'vue';\r\nimport {IValidateResponse, SchemaFormComponent, SchemaFormField, SchemaFormStore} from '../../../types';\r\nimport ArrayWrapper from '../common/array-wrapper';\r\nimport {createSimpleMobileFieldComponent} from '../compatible';\r\nimport {config, getConfirmFunction} from '../config';\r\nimport Empty from '../empty';\r\nimport {isEqual} from '../uform/utils';\r\nimport {flat} from '../utils/array';\r\nimport {SchemaFormFieldOperationStoreKey, SchemaFormObjectStoreKey, SchemaFormStoreKey} from '../utils/key';\r\nimport {\r\n  addRule,\r\n  DESKTOP,\r\n  FieldTypes,\r\n  getColComponent,\r\n  getDefaultValue,\r\n  isNotNull,\r\n  isNull,\r\n  LibComponents,\r\n  MOBILE,\r\n  swap\r\n} from '../utils/utils';\r\nimport {\r\n  FieldDefinition,\r\n  getComponentType,\r\n  getFormItemComponent,\r\n  getRealFields,\r\n  renderField,\r\n  SchemaFormEvents\r\n} from './utils';\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'VSchemaFormField',\r\n  inheritAttrs: false,\r\n  props: {\r\n    definition: Object as PropType<SchemaFormField>,\r\n    formValue: [Object, Array],\r\n    wrap: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    value: {\r\n      type: [Object, String, Boolean, Number, Array]\r\n    },\r\n    content: {\r\n      type: [Object, String]\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    index: Number,\r\n    path: Array,\r\n    schemaPath: Array,\r\n    field: {\r\n      type: Object as PropType<FieldDefinition>,\r\n      required: true\r\n    },\r\n    pathPrefix: {type: Array as PropType<string[]>}\r\n  },\r\n  emits: ['change', 'update:value'],\r\n  setup(props, {emit}) {\r\n    const store: SchemaFormStore = inject(SchemaFormStoreKey);\r\n    const arrayRef = ref<VNode>(null);\r\n    const inputRef = ref<any>(null);\r\n    const currentValue = ref(props.value || null);\r\n    const field = computed(() => props.field);\r\n    watch(() => currentValue.value, val => {\r\n      field.value.value = val;\r\n      if (store.editable && field.value.editable) {\r\n        emit(`update:value`, val);\r\n        emit('change', val);\r\n        if (!field.value.valid) {\r\n          validate();\r\n        }\r\n      }\r\n      store.context.trigger(SchemaFormEvents.fieldChange, {\r\n        path: field.value.plainPath,\r\n        value: val,\r\n        field: field.value\r\n      });\r\n    }, {deep: true});\r\n    const setCurrentValue = value => {\r\n      const component = fieldComponent.value;\r\n      if ((!component || component.mode === 'input') && !isEqual(currentValue.value, value)) {\r\n        currentValue.value = value;\r\n      }\r\n    };\r\n    const fieldOperations: any = inject(SchemaFormFieldOperationStoreKey);\r\n    watch(() => field.value, localField => {\r\n      fieldOperations.addField(localField);\r\n    }, {immediate: true});\r\n    watch(() => props.value, value => {\r\n      if (!isEqual(currentValue.value, value)) {\r\n        setCurrentValue(value);\r\n      }\r\n    }, {deep: true});\r\n    const renderFormField = (localField: SchemaFormField,\r\n                             localValue: { [p: string]: unknown } | Array<{ [p: string]: unknown }>,\r\n                             index: number, wrap: boolean) =>\r\n      renderField(props.pathPrefix, store, localField, localValue, index, wrap, emit);\r\n    const editable = computed(() => store.editable && field.value.editable);\r\n    const fieldComponent = computed(() => {\r\n      if (field.value.slot) {\r\n        return undefined;\r\n      }\r\n      return field.value.getComponent(!editable.value, store.platform);\r\n    });\r\n    const preProps = computed<{ [key: string]: unknown }>(() => {\r\n      const localProps: { [key: string]: unknown } = {};\r\n      const renderComponent = fieldComponent.value;\r\n      if (renderComponent !== undefined) {\r\n        Object.assign(localProps, renderComponent.getProps(field.value));\r\n      }\r\n      const {platform} = store;\r\n      const {path, schemaPath} = props;\r\n      const definition = props.definition as SchemaFormField;\r\n      if (field.value.type === FieldTypes.Object) {\r\n        localProps.platform = platform;\r\n        localProps.editable = editable.value;\r\n        localProps.layoutType = definition.layoutType;\r\n        localProps.layoutProps = definition.layoutProps;\r\n        localProps.pathPrefix = path;\r\n        localProps.schemaPath = schemaPath;\r\n      }\r\n      return localProps;\r\n    });\r\n    const inputProps = computed(() => {\r\n      const localProps = preProps.value;\r\n      const definition = props.definition as SchemaFormField;\r\n      const {platform} = store;\r\n      const renderComponent = fieldComponent.value;\r\n      if (isNotNull(definition.placeholder)) {\r\n        localProps.placeholder = definition.placeholder;\r\n      }\r\n      localProps.required = field.value.required;\r\n      if (isNull(editable.value) || platform === DESKTOP) {\r\n        delete localProps.required;\r\n      }\r\n      if (!editable.value) {\r\n        localProps.definition = definition;\r\n        localProps.field = field.value;\r\n      }\r\n      if (renderComponent.mode === 'layout') {\r\n        localProps.fields = getSubFields();\r\n        localProps.layout = definition.layout;\r\n        localProps.fieldDefinitions = relatedSubFields.value;\r\n      }\r\n      localProps.disabled = isDisabled.value;\r\n      if (['input', 'display', 'both'].includes(renderComponent.mode)) {\r\n        localProps[renderComponent.valueProp] = currentValue.value;\r\n      }\r\n      if (!localProps.title && (store.platform === 'mobile' || renderComponent.mode === 'layout')) {\r\n        localProps.title = field.value.title;\r\n      }\r\n      const events = field.value.generateEvents();\r\n      Object.keys(events).forEach(eventKey => {\r\n        localProps[eventKey] = events[eventKey];\r\n      });\r\n      if (editable.value) {\r\n        localProps[`onUpdate:${renderComponent.valueProp}`] = onValueUpdate;\r\n      }\r\n      return localProps;\r\n    });\r\n\r\n    const isDisabled = computed(() => props.disabled || field.value.disabled || (field.value.props && field.value.props.disabled));\r\n    const removeArrayItem = (index: number) => {\r\n      (currentValue.value as any[]).splice(index, 1);\r\n    };\r\n    const addArrayItem = () => {\r\n      if (isNotNull(currentValue.value)) {\r\n        if (type.value === FieldTypes.Object) {\r\n          (currentValue.value as any[]).push({});\r\n        } else {\r\n          (currentValue.value as any[]).push(null);\r\n        }\r\n      } else {\r\n        if (type.value === FieldTypes.Object) {\r\n          setCurrentValue([{}]);\r\n        } else {\r\n          setCurrentValue([null]);\r\n        }\r\n      }\r\n    };\r\n    const getRules = (trigger?: string): any => {\r\n      const rules = field.value.getRules() || [];\r\n      if (rules.length === 0 && field.value.required) {\r\n        addRule(rules, field.value, {required: true, message: `${field.value.title}为必填项`});\r\n      }\r\n      if (trigger) {\r\n        return rules.filter((it: any) => it.trigger === trigger);\r\n      }\r\n      return rules;\r\n    };\r\n\r\n    const type = computed(() => field.value.type);\r\n\r\n    const getFormItemProps = () => {\r\n      const definition = props.definition as SchemaFormField;\r\n      const {platform} = store;\r\n      const component = getFormItemComponent(platform);\r\n      const formItemProps: any = {\r\n        required: editable.value ? field.value.required : null,\r\n        title: definition.title,\r\n        label: definition.title\r\n      };\r\n      if (platform === DESKTOP) {\r\n        if (definition.tip) {\r\n          const InfoIcon = LibComponents.icons[store.platform].info;\r\n          const LibComponentsPopover: any = LibComponents.popover[DESKTOP];\r\n          const slots = {\r\n            default: () => <span>\r\n              {definition.title}\r\n              <InfoIcon style={{marginLeft: '5px', color: '#247dc5'}}/>\r\n            </span>\r\n          };\r\n          formItemProps.label = <LibComponentsPopover\r\n            content={definition.tip}\r\n            v-slots={slots}\r\n            trigger=\"hover\"/>;\r\n        } else {\r\n          formItemProps.label = definition.title;\r\n        }\r\n      }\r\n      if (definition.wrapperProps) {\r\n        Object.assign(formItemProps, definition.wrapperProps);\r\n        if (definition.wrapperProps.noTitle) {\r\n          formItemProps.title = null;\r\n          formItemProps.label = null;\r\n        }\r\n      }\r\n      Object.assign(formItemProps, config.getFormItemProps(component, field.value, platform));\r\n      return formItemProps;\r\n    };\r\n    const validate = (trigger?: string): IValidateResponse[] | Promise<IValidateResponse[]> => {\r\n      if (!field.value.visible) {\r\n        return [];\r\n      }\r\n      if (fieldComponent.value?.mode === 'layout') {\r\n        return [];\r\n      }\r\n      if (type.value === FieldTypes.Object && arrayRef.value) {\r\n        const array = arrayRef.value;\r\n        const validateFields = array.props.fields.filter(it => it.validate);\r\n        return new Promise(resolve => {\r\n          Promise.all(validateFields.map(it => it.validate())).then(values => {\r\n            resolve(flat(values.filter(it => isNotNull(it))));\r\n          });\r\n        });\r\n      }\r\n      const rules = getRules(trigger);\r\n      if (rules.length) {\r\n        const validator = new AsyncValidator({\r\n          [field.value.plainPath]: rules\r\n        });\r\n        let value = currentValue.value;\r\n        if ([FieldTypes.Integer, FieldTypes.Double, FieldTypes.Number].includes(type.value as FieldTypes)) {\r\n          value = parseFloat(value as FieldTypes);\r\n        }\r\n        const model = {\r\n          [field.value.plainPath]: value\r\n        };\r\n        return new Promise(resolve => {\r\n          validator.validate(model, {firstFields: true}, (errors) => {\r\n            if (errors) {\r\n              field.value.valid = false;\r\n              field.value.errors = errors.map(error => error.message);\r\n            } else {\r\n              field.value.valid = true;\r\n              field.value.errors = [];\r\n            }\r\n            if (errors) {\r\n              resolve([{\r\n                errors: errors.map(it => it.message),\r\n                field: props.field,\r\n                invalid: errors.length > 0,\r\n                value: currentValue.value\r\n              }]);\r\n            } else {\r\n              resolve(null);\r\n            }\r\n          });\r\n        });\r\n      }\r\n      return [];\r\n    };\r\n    const onArrayItemInput = (val: any, index: number) => {\r\n      (currentValue.value as any[]).splice(index, 1, val);\r\n      onValueUpdate(currentValue.value);\r\n    };\r\n    const onValueUpdate = _.debounce((value) => {\r\n      let val = value;\r\n      if (isRef(value)) {\r\n        val = unref(value);\r\n      }\r\n      if (!isEqual(currentValue.value, val)) {\r\n        setCurrentValue(val);\r\n      }\r\n    });\r\n    const renderArrayInputComponent = (propsTmp, inputFieldDef: SchemaFormComponent) => {\r\n      const InputFieldComponent = inputFieldDef.component;\r\n      const definition = props.definition as SchemaFormField;\r\n      let ArrayComponent: any = ArrayWrapper;\r\n      if (typeof definition.arrayComponent === 'string') {\r\n        const componentDef = getComponentType(store, {\r\n          type: definition.arrayComponent\r\n        });\r\n        if (componentDef.component !== Empty) {\r\n          ArrayComponent = componentDef.component;\r\n        }\r\n      } else if (['function', 'object'].includes(typeof definition.arrayComponent)) {\r\n        ArrayComponent = definition.arrayComponent;\r\n      }\r\n      const valueProp = inputFieldDef.valueProp;\r\n      const arrayContent = currentValue.value ? (currentValue.value as any[]).map((v, index) => {\r\n        const itemProps: any = Object.assign({}, propsTmp, {\r\n          pathPrefix: (props.path as Array<string | number>).concat(index),\r\n          schemaPath: props.path\r\n        });\r\n        if (field.value.type === FieldTypes.Object) {\r\n          itemProps.definition = Object.assign({}, itemProps.definition);\r\n          delete itemProps.definition.array;\r\n        }\r\n        const events = field.value.generateEvents();\r\n\r\n        const className = itemProps.className;\r\n        const style = itemProps.style;\r\n        delete itemProps.className;\r\n        delete itemProps.style;\r\n        Object.assign(itemProps, {\r\n          ...events,\r\n          class: className,\r\n          style,\r\n          arrayIndex: index,\r\n          disabled: isDisabled.value,\r\n          key: `${field.value.plainPath}-${index}`,\r\n          [valueProp]: v,\r\n          title: store.platform === 'mobile' ? field.value.title : null,\r\n          ['onUpdate:' + valueProp]: _.debounce((val) => {\r\n            const oldValue = currentValue.value[index];\r\n            if (!isEqual(val, oldValue)) {\r\n              onArrayItemInput(val, index);\r\n            }\r\n          }, 10)\r\n        });\r\n        return <InputFieldComponent {...itemProps}/>;\r\n      }) : null;\r\n      const arrayProps = Object.assign({}, propsTmp, definition.arrayProps);\r\n      const arrayClass = arrayProps.className;\r\n      const arrayStyle = arrayProps.style;\r\n      delete arrayProps.className;\r\n      delete arrayProps.style;\r\n      // noinspection JSUnusedGlobalSymbols\r\n      Object.assign(arrayProps, {\r\n        class: arrayClass,\r\n        style: arrayStyle,\r\n        disabled: isDisabled.value,\r\n        subForm: field.value.type === FieldTypes.Object,\r\n        addBtnText: propsTmp.addBtnText,\r\n        key: field.value.plainPath,\r\n        addBtnProps: propsTmp.addBtnProps,\r\n        cellSpan: propsTmp.cellSpan,\r\n        field: field.value,\r\n        ref: el => {\r\n          arrayRef.value = el;\r\n        },\r\n        onRemove: async (index) => {\r\n          try {\r\n            const confirmFunc = getConfirmFunction(store.platform);\r\n            try {\r\n              await confirmFunc('确定删除该条吗？', '提示');\r\n              removeArrayItem(index);\r\n            } catch (e) {\r\n              // do nothing\r\n            }\r\n          } catch (e) {\r\n            console.error(e);\r\n          }\r\n        },\r\n        onMoveDown: index => {\r\n          if (index <= (currentValue.value as any[]).length - 1) {\r\n            swap(currentValue.value, index, index + 1);\r\n          }\r\n        },\r\n        onMoveUp: index => {\r\n          if (index > 0) {\r\n            swap(currentValue.value, index, index - 1);\r\n          }\r\n        },\r\n        onAdd: () => {\r\n          addArrayItem();\r\n        },\r\n        fields: arrayContent\r\n      });\r\n      return <ArrayComponent {...arrayProps}\r\n                             v-slots={{\r\n                               default: () => arrayContent\r\n                             }}/>;\r\n    };\r\n    const relatedSubFields = computed(() => {\r\n      const definition = props.definition as SchemaFormField;\r\n      return getRealFields(definition.fields);\r\n    });\r\n    const getSubFields = () => {\r\n      const definition = props.definition as SchemaFormField;\r\n      const noWrap = isNull(definition.title);\r\n      return relatedSubFields.value.map((localField, index) =>\r\n        renderFormField(localField, props.value as { [p: string]: any } | Array<{ [p: string]: any }>, index, !noWrap));\r\n    };\r\n    const objectStore = inject(SchemaFormObjectStoreKey, undefined);\r\n    const renderInputComponent = () => {\r\n      const propsTmp = {...(inputProps.value)};\r\n      const {content} = props;\r\n      const definition = props.definition as SchemaFormField;\r\n      const inputFieldDef = fieldComponent.value;\r\n      let InputFieldComponent = inputFieldDef.component;\r\n      if (isProxy(InputFieldComponent)) {\r\n        InputFieldComponent = toRaw(InputFieldComponent);\r\n      }\r\n      if (content) {\r\n        return content;\r\n      }\r\n      if (!editable.value && field.value.displayValue) {\r\n        let displayValue: any;\r\n        if (typeof field.value.displayValue === 'function') {\r\n          displayValue = field.value.displayValue(currentValue.value);\r\n        } else {\r\n          displayValue = field.value.displayValue;\r\n        }\r\n        if (typeof displayValue === 'object') {\r\n          return displayValue;\r\n        } else {\r\n          return <span>{displayValue}</span>;\r\n        }\r\n      }\r\n      // 渲染数组\r\n      if (field.value.array && inputFieldDef.arrayMode === 'single') {\r\n        return renderArrayInputComponent(propsTmp, inputFieldDef);\r\n      }\r\n      const style: any = Object.assign({}, inputProps.value.style || {});\r\n\r\n      const className = propsTmp.className;\r\n      delete propsTmp.className;\r\n      delete propsTmp.style;\r\n      const slots: { [name: string]: Slot } = {};\r\n      if (inputFieldDef.mode === 'layout') {\r\n        slots.default = () => propsTmp.fields as VNode[];\r\n      }\r\n      if (definition.slots) {\r\n        const slotsDef = definition.slots;\r\n        Object.keys(slotsDef).forEach(slotName => {\r\n          if (typeof slotsDef[slotName] === 'string') {\r\n            if (store.root.slots && store.root.slots[slotsDef[slotName] as string]) {\r\n              slots[slotName] = store.root.slots[slotsDef[slotName] as string];\r\n            }\r\n          } else {\r\n            slots[slotName] = slotsDef[slotName] as Slot;\r\n          }\r\n        });\r\n      }\r\n      return <InputFieldComponent\r\n        {...propsTmp}\r\n        v-slots={slots}\r\n        class={className}\r\n        style={style}\r\n        key={field.value.plainPath}\r\n        ref={el => {\r\n          inputRef.value = el;\r\n          field.value.inputRef = el;\r\n        }}/>;\r\n    };\r\n    onBeforeUnmount(() => {\r\n      fieldOperations.removeField(field.value);\r\n    });\r\n    const onCreated = () => {\r\n      // 设置默认值\r\n      if (isNull(currentValue.value)) {\r\n        setCurrentValue(getDefaultValue(field.value));\r\n      }\r\n      // 初始化属性\r\n      Object.assign(field.value, {\r\n        validate,\r\n        value: currentValue.value,\r\n        focus: () => {\r\n          if (isVNode(inputRef.value)) {\r\n            (inputRef.value as VNode).el.focus();\r\n          } else {\r\n            if (inputRef.value?.focus) {\r\n              inputRef.value?.focus?.();\r\n            }\r\n          }\r\n        },\r\n        setGetValue: value => {\r\n          if (value === undefined) {\r\n            return currentValue.value;\r\n          } else {\r\n            setCurrentValue(value);\r\n          }\r\n        }\r\n      });\r\n      // 触发创建事件\r\n      store.context.trigger(SchemaFormEvents.fieldCreate, {\r\n        path: field.value.plainPath,\r\n        value: currentValue.value,\r\n        field: field.value\r\n      });\r\n    };\r\n    onCreated();\r\n    const renderDesktopComponent = () => {\r\n      const inputComponent = renderInputComponent();\r\n      const definition = props.definition as SchemaFormField;\r\n      const {platform} = store;\r\n      const FormItemComponent: any = getFormItemComponent(platform);\r\n      const ColComponent: any = getColComponent(store.platform);\r\n      const formItemProps = getFormItemProps();\r\n      const style = formItemProps.style;\r\n      const inputFieldDef = fieldComponent.value;\r\n      const className = classNames(formItemProps.class, {\r\n        'is-layout': inputFieldDef.mode === 'layout'\r\n      });\r\n      delete formItemProps.className;\r\n      // 是否使用form-item组件包裹\r\n      const noWrap = (definition?.wrapperProps?.noWrap ?? inputFieldDef.layoutOptions?.noWrap) || isNull(definition.title);\r\n      // 是否使用form-item组件的title\r\n      const noTitle = !!(definition?.wrapperProps?.noTitle ?? inputFieldDef.layoutOptions?.noTitle);\r\n      const label = [];\r\n      if (noTitle) {\r\n        label.push(<span/>);\r\n      } else {\r\n        if (objectStore?.index ?? store.props?.index) {\r\n          label.push(<span class=\"form-item-index\">{props.index + 1}. </span>);\r\n        }\r\n        label.push(formItemProps.title);\r\n      }\r\n      if (formItemProps.slots) {\r\n        formItemProps.slots.label = () => label;\r\n      } else {\r\n        formItemProps.slots = {\r\n          label: () => label\r\n        };\r\n      }\r\n      const formItem = noWrap ? inputComponent :\r\n        <FormItemComponent\r\n          {...formItemProps}\r\n          v-slots={formItemProps.slots}\r\n          class={className}\r\n          style={style}>\r\n          {inputComponent}\r\n        </FormItemComponent>;\r\n      if (definition.span) {\r\n        return <ColComponent span={definition.span}>{formItem}</ColComponent>;\r\n      } else {\r\n        return formItem;\r\n      }\r\n    };\r\n    return {\r\n      editable,\r\n      store,\r\n      renderInputComponent,\r\n      renderDesktopComponent\r\n    };\r\n  },\r\n  render() {\r\n    const field = this.field;\r\n    const {editable, store: {platform}} = this;\r\n    const definition = this.definition as SchemaFormField;\r\n    if (definition.slot) {\r\n      const slot = this.store.root.slots[definition.slot];\r\n      const content = slot ? slot() : undefined;\r\n      if (Array.isArray(content)) {\r\n        content.forEach((node: VNode) => {\r\n          node.props = node.props || {};\r\n          node.props.style = node.props.style || {};\r\n          if (field.visible) {\r\n            delete node.props.style.display;\r\n          } else {\r\n            node.props.style.display = 'none';\r\n          }\r\n        });\r\n      }\r\n      return content;\r\n    }\r\n    let item = null;\r\n    if (platform === DESKTOP) {\r\n      item = this.renderDesktopComponent();\r\n    } else if (platform === MOBILE) {\r\n      const inputComponent = this.renderInputComponent();\r\n      if (editable) {\r\n        item = inputComponent;\r\n      } else {\r\n        item = createSimpleMobileFieldComponent(field.title, inputComponent, field);\r\n      }\r\n    }\r\n    const style: Partial<CSSStyleDeclaration> = {};\r\n    // 如果visible 是\r\n    if (!field.visible) {\r\n      style.display = 'none';\r\n    }\r\n    (item as VNode).props.style = style;\r\n    return item;\r\n  }\r\n});\r\n","export const baseButtonProps = {\r\n  title: String\r\n};\r\n\r\n","import {Button} from 'ant-design-vue';\r\nimport classNames from 'classnames';\r\nimport {defineComponent, PropType} from 'vue';\r\nimport {baseButtonProps} from '../../../common/base-button';\r\nimport {useBaseInput} from '../../../mixins';\r\nimport './index.less';\r\n\r\nexport default defineComponent({\r\n  name: 'DButton',\r\n  props: {\r\n    ...baseButtonProps,\r\n    prefixCls: {\r\n      type: String,\r\n      default: 'ant-btn'\r\n    },\r\n    text: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    circle: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    htmlType: {\r\n      type: String as PropType<string>,\r\n      default: 'button'\r\n    },\r\n    type: String,\r\n    onClick: Function\r\n  },\r\n  setup(props, ctx) {\r\n    const {size} = useBaseInput(props, ctx);\r\n    return {\r\n      size\r\n    };\r\n  },\r\n  render() {\r\n    const props: any = {\r\n      ...this.$attrs,\r\n      onClick: this.onClick,\r\n      htmlType: this.htmlType,\r\n      size: this.size,\r\n      class: classNames(this.$attrs.class, {\r\n        [this.prefixCls + '-text']: this.text\r\n      }),\r\n      shape: this.circle ? 'circle' : this.$attrs.shape\r\n    };\r\n    if (this.type === 'danger') {\r\n      props.danger = true;\r\n    } else {\r\n      props.type = this.type;\r\n    }\r\n    const defaultSlot = this.$slots.default;\r\n    const slots = Object.assign({}, this.$slots, {\r\n      default: () => {\r\n        return [\r\n          this.title, defaultSlot?.()\r\n        ];\r\n      }\r\n    });\r\n    return <Button {...props} v-slots={slots}/>;\r\n  }\r\n});\r\n","import {App} from 'vue';\r\nimport Button from './button';\r\n\r\nButton.install = (app: App) => {\r\n  app.component(Button.name, Button);\r\n};\r\n\r\nexport default Button;\r\n","import {DatePicker} from 'ant-design-vue';\r\nimport moment, {Moment} from 'moment';\r\nimport {computed, defineComponent, ref, watch} from 'vue';\r\n\r\nconst convertValue = (value: Date | number, format: string): any => {\r\n  if (!value) {\r\n    return undefined;\r\n  }\r\n  if (typeof value === 'string') {\r\n    return moment(value, format);\r\n  } else if (typeof value === 'number') {\r\n    return moment(value);\r\n  } else {\r\n    return moment(value);\r\n  }\r\n};\r\n\r\nconst convertValueBack = (value: Moment | undefined): Date => {\r\n  if (value === undefined || value === null) {\r\n    return null;\r\n  } else {\r\n    return value.toDate();\r\n  }\r\n};\r\n\r\nexport default defineComponent({\r\n  name: 'DDatePicker',\r\n  props: {\r\n    value: {\r\n      type: [String, Object]\r\n    },\r\n    mode: {type: String, default: 'date'}\r\n  },\r\n  emits: ['update:value', 'change'],\r\n  setup(props, {emit}) {\r\n    const currentValue = ref<Moment>(null);\r\n\r\n    const format = computed(() => {\r\n      switch (props.mode) {\r\n        case 'date':\r\n          return 'YYYY-MM-DD';\r\n        case 'datetime':\r\n          return 'YYYY-MM-DD HH:mm:ss';\r\n      }\r\n      return undefined;\r\n    });\r\n    watch(() => props.value, (value: any) => {\r\n      const convertedValue = convertValue(value, format.value);\r\n      if (currentValue.value === null || currentValue.value === undefined) {\r\n        currentValue.value = convertedValue;\r\n      } else if (!convertedValue) {\r\n        currentValue.value = null;\r\n      } else if (currentValue.value.toString() !== convertedValue.toString()) {\r\n        currentValue.value = convertedValue;\r\n      }\r\n    }, {immediate: true});\r\n    watch(() => currentValue.value, (value) => {\r\n      const val = convertValueBack(value);\r\n      if (props.value !== undefined) {\r\n        emit('update:value', val);\r\n      }\r\n      emit('change', val);\r\n    });\r\n    return {\r\n      currentValue, updateCurrentValue(value) {\r\n        currentValue.value = value;\r\n      }\r\n    };\r\n  },\r\n  render() {\r\n    const {mode, currentValue} = this;\r\n    const finalMode = mode === 'datetime' ? 'time' : mode;\r\n    const props = {\r\n      ...this.$attrs,\r\n      value: currentValue,\r\n      mode: finalMode,\r\n      'onUpdate:value': this.updateCurrentValue\r\n    };\r\n    if (mode === 'week') {\r\n      return <DatePicker.WeekPicker {...props}/>;\r\n    }\r\n    if (mode === 'month') {\r\n      return <DatePicker.MonthPicker {...props}/>;\r\n    }\r\n    return <DatePicker {...props as any}/>;\r\n  }\r\n});\r\n","import {App} from 'vue';\r\nimport DatePicker from './date-picker';\r\n\r\nDatePicker.install = (app: App) => {\r\n  app.component(DatePicker.name, DatePicker);\r\n};\r\n\r\nexport default DatePicker;\r\n","import classNames from 'classnames';\r\nimport {computed, defineComponent, PropType, provide, ref, Ref} from 'vue';\r\nimport {ValidateRules} from '../../../../../types';\r\n\r\nexport default defineComponent({\r\n  name: 'DForm',\r\n  inheritAttrs: false,\r\n  props: {\r\n    /**\r\n     * 显示取消确认按钮，分别产生cancel和ok事件，cancel和ok没有默认操作，完全由用户定义\r\n     */\r\n    okCancel: {\r\n      type: Boolean as PropType<boolean>,\r\n      default: false\r\n    },\r\n    size: {\r\n      type: String as PropType<'small' | 'large' | 'default'>,\r\n      default: 'default'\r\n    },\r\n    disabled: {\r\n      type: Boolean as PropType<boolean>,\r\n      default: false\r\n    },\r\n    readOnly: {\r\n      type: Boolean as PropType<boolean>,\r\n      default: false\r\n    },\r\n    labelCol: {\r\n      type: [Number, Object] as PropType<number | { [key: string]: unknown }>\r\n    },\r\n    okText: {\r\n      type: String as PropType<string>,\r\n      default: '确定'\r\n    },\r\n    cancelText: {\r\n      type: String as PropType<string>,\r\n      default: '取消'\r\n    },\r\n    inline: {\r\n      type: Boolean as PropType<boolean>\r\n    },\r\n    /**\r\n     * 标签宽度\r\n     */\r\n    labelWidth: {\r\n      type: [String, Number] as PropType<string | number>\r\n    },\r\n    labelPosition: {\r\n      type: String as PropType<'left' | 'right'>\r\n    },\r\n    hideRequiredMark: {\r\n      type: Boolean as PropType<boolean>\r\n    },\r\n    layout: {\r\n      type: String as PropType<'horizontal' | 'inline' | 'vertical'>,\r\n      default: 'horizontal'\r\n    },\r\n    model: {\r\n      type: Object as PropType<any>\r\n    },\r\n    rules: {\r\n      type: Object as PropType<ValidateRules>\r\n    },\r\n    onSubmit: {\r\n      type: Function as PropType<any>\r\n    },\r\n    wrapperCol: {\r\n      type: [Number, Object] as PropType<number | any>\r\n    }\r\n  },\r\nemits: ['ok', 'cancel'],\r\n  setup(props: any, {emit}) {\r\n    const prefixCls = ref('ant-form');\r\n    const fields: Ref<any[]> = ref([]);\r\n    const clearValidate = (props = []) => {\r\n      const localFields = props.length\r\n        ? (typeof props === 'string'\r\n            ? fields.value.filter(field => props === (field as any).prop)\r\n            : fields.value.filter(field => props.indexOf((field as any).prop) > -1)\r\n        ) : fields.value;\r\n      localFields.forEach(field => {\r\n        (field as any).clearValidate();\r\n      });\r\n    };\r\n    const validate = (callback) => {\r\n      if (!props.model) {\r\n        return;\r\n      }\r\n      let promise;\r\n      let copyCallback = callback;\r\n      // if no callback, return promise\r\n      if (typeof copyCallback !== 'function' && Promise) {\r\n        promise = new Promise((resolve, reject) => {\r\n          copyCallback = valid => {\r\n            const errorField = fields.value.find(it => it.currentValidateStatus === 'error');\r\n            if (errorField) {\r\n              errorField.focus();\r\n            }\r\n            valid ? resolve(valid) : reject(valid);\r\n          };\r\n        });\r\n      }\r\n\r\n      let valid = true;\r\n      let count = 0;\r\n      // 如果需要验证的fields为空，调用验证时立刻返回callback\r\n      if (fields.value.length === 0 && copyCallback) {\r\n        copyCallback(true);\r\n      }\r\n      let invalidFields = {};\r\n      fields.value.forEach(field => {\r\n        field.validate('', (message, field) => {\r\n          if (message) {\r\n            valid = false;\r\n          }\r\n          invalidFields = Object.assign({}, invalidFields, field);\r\n          if (typeof copyCallback === 'function' && ++count === fields.value.length) {\r\n            copyCallback(valid, invalidFields);\r\n          }\r\n        });\r\n      });\r\n\r\n      if (promise) {\r\n        return promise;\r\n      }\r\n    };\r\n    const getLayout = () => {\r\n      if (props.inline) {\r\n        return 'inline';\r\n      } else {\r\n        return props.layout;\r\n      }\r\n    };\r\n    const renderButtons = () => {\r\n      if (props.okCancel) {\r\n        return <div class={prefixCls.value + '-footer-btns'}>\r\n          {\r\n            <a-button onClick={(e) => {\r\n              emit('cancel', e);\r\n            }}>{props.cancelText}</a-button>\r\n          }\r\n          {\r\n            <a-button\r\n              onClick={(e) => {\r\n                emit('ok', e);\r\n              }}\r\n              type={'primary'}\r\n              style={{marginLeft: '8px'}}>{props.okText}</a-button>\r\n          }\r\n        </div>;\r\n      }\r\n    };\r\n    const form = computed(() => ({\r\n      ...props,\r\n      emit,\r\n      addField: (field) => {\r\n        if (field) {\r\n          fields.value.push(field);\r\n        }\r\n      },\r\n      removeField: (field) => {\r\n        if (field.prop) {\r\n          fields.value.splice(fields.value.indexOf(field), 1);\r\n        }\r\n      }\r\n    }));\r\n    provide('form', form);\r\n    return {\r\n      prefixCls,\r\n      fields,\r\n      clearValidate,\r\n      validate,\r\n      getLayout,\r\n      renderButtons\r\n    };\r\n  },\r\n  render(ctx) {\r\n    const {\r\n      prefixCls,\r\n      hideRequiredMark,\r\n      onSubmit,\r\n      $slots\r\n    } = ctx;\r\n    const layout = this.getLayout();\r\n    const formClassName = classNames({\r\n      [`${prefixCls}-hide-required-mark`]: hideRequiredMark\r\n    });\r\n    return (\r\n      <a-form onSubmit={onSubmit}\r\n              layout={layout}\r\n              class={formClassName}>\r\n        {$slots.default?.()}\r\n        {this.renderButtons()}\r\n      </a-form>\r\n    );\r\n  }\r\n});\r\n","import {DatePicker} from 'ant-design-vue';\r\nimport moment, {Moment} from 'moment';\r\nimport {defineComponent, ref, watch} from 'vue';\r\nimport {useBaseInput} from '../../../';\r\nimport {isNotNull} from '../../../utils/utils';\r\n\r\nconst convertValue = (value: Array<Date | number>): any => {\r\n  if (!value) {\r\n    return undefined;\r\n  }\r\n  return value.filter(it => isNotNull(it)).map(it => moment(it));\r\n};\r\n\r\nconst convertValueBack = (value: Moment[] | undefined): Date[] => {\r\n  if (value !== undefined) {\r\n    return value.map(it => it.toDate());\r\n  } else {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport default defineComponent({\r\n  name: 'DRangePicker',\r\n  props: {\r\n    value: {\r\n      type: Array\r\n    }\r\n  },\r\n  setup(props, ctx) {\r\n    const {emit} = ctx;\r\n    const currentValue = ref<Moment[]>(null);\r\n    watch(() => props.value, (value: any) => {\r\n      const convertedValue = convertValue(value);\r\n      if (!currentValue.value) {\r\n        currentValue.value = convertedValue;\r\n      } else if (!convertedValue) {\r\n        currentValue.value = [];\r\n      } else {\r\n        if (currentValue.value.toString() !== convertedValue.toString()) {\r\n          currentValue.value = convertedValue;\r\n        }\r\n      }\r\n    }, {immediate: true});\r\n    watch(() => currentValue.value, (value) => {\r\n      const val = convertValueBack(value);\r\n      if (props.value !== undefined) {\r\n        emit('update:value', val);\r\n      }\r\n      emit('change', val);\r\n    });\r\n    const {size} = useBaseInput(props, ctx);\r\n    const updateCurrentValue = (value) => {\r\n      currentValue.value = value;\r\n    };\r\n    const getProps = () => {\r\n      return {\r\n        ...ctx.attrs,\r\n        size: size.value,\r\n        value: currentValue.value,\r\n        'onUpdate:value': updateCurrentValue\r\n      };\r\n    };\r\n    return {getProps};\r\n  },\r\n  render() {\r\n    return <DatePicker.RangePicker {...this.getProps() as any}/>;\r\n  }\r\n});\r\n","import {App} from 'vue';\r\nimport RangePicker from './range-picker';\r\n\r\nRangePicker.install = (app: App) => {\r\n  app.component(RangePicker.name, RangePicker);\r\n};\r\n\r\nexport default RangePicker;\r\n","import locale from 'ant-design-vue/lib/time-picker/locale/zh_CN';\r\nimport {PropType, ref, watch} from 'vue';\r\nimport {useBaseInput} from '../mixins';\r\nimport {isNotNull, isNull} from '../utils/utils';\r\n\r\nexport const baseTimePickerProps = {\r\n  value: {\r\n    type: String\r\n  },\r\n  locale: {\r\n    type: Object as PropType<any>,\r\n    default: () => locale\r\n  },\r\n  localeCode: {\r\n    type: String as PropType<string>,\r\n    default: 'zh'\r\n  },\r\n  clearable: {\r\n    type: Boolean as PropType<boolean>,\r\n    default: false\r\n  },\r\n  format: {\r\n    type: String as PropType<string>,\r\n    default: 'HH:mm:ss'\r\n  }\r\n};\r\n\r\nexport const useBaseTimePicker = (props, {attrs, emit, convertValue, convertValueBack, valueProp}) => {\r\n  const {disabled, size} = useBaseInput(props, {attrs});\r\n  const stateValue = ref(null);\r\n  watch(() => props.value as string, (value: string) => {\r\n    const convertedValue: Date = convertValue(value);\r\n    if (isNull(stateValue.value)) {\r\n      stateValue.value = convertedValue;\r\n    } else if (!convertedValue) {\r\n      stateValue.value = null;\r\n    } else if (stateValue.value.toString() !== convertedValue.toString()) {\r\n      stateValue.value = convertedValue;\r\n    }\r\n  }, {immediate: true});\r\n  const getProps = () => {\r\n    return {\r\n      size: size.value,\r\n      disabled: disabled.value,\r\n      ...props,\r\n      ...attrs,\r\n      value: stateValue.value,\r\n      [`onUpdate:${valueProp}`]: (value) => {\r\n        if (isNotNull(value) && value.toString() === '[object InputEvent]') {\r\n          return;\r\n        }\r\n        const convertedValue = convertValueBack(value);\r\n        emit(`update:${valueProp}`, convertedValue);\r\n        stateValue.value = value;\r\n      },\r\n      onChange: (value) => {\r\n        emit('change', value);\r\n      },\r\n      allowClear: attrs.allowClear !== undefined ? attrs.allowClear : props.clearable,\r\n      format: props.format\r\n    };\r\n  };\r\n  return {\r\n    getProps,\r\n    stateValue\r\n  };\r\n};\r\n","import moment, {Moment} from 'moment';\r\nimport {defineComponent} from 'vue';\r\nimport {baseTimePickerProps, useBaseTimePicker} from '../../../common/base-time-picker';\r\nimport {isNotNull} from '../../../utils/utils';\r\n\r\nexport default defineComponent({\r\n  name: 'DTimePicker',\r\n  inheritAttrs: false,\r\n  props: {\r\n    ...baseTimePickerProps\r\n  },\r\n  setup(props, {emit, attrs}) {\r\n    const convertValue = (value: string) => {\r\n      if (!value) {\r\n        return undefined;\r\n      }\r\n      if (typeof value === 'string') {\r\n        return moment(value, props.format as string);\r\n      } else {\r\n        return moment(value);\r\n      }\r\n    };\r\n    const convertValueBack = (value: Moment) => {\r\n      if (isNotNull(value)) {\r\n        return value.format(props.format as string);\r\n      }\r\n      return value;\r\n    };\r\n    const {\r\n      getProps,\r\n      stateValue\r\n    } = useBaseTimePicker(props, {emit, attrs, convertValue, convertValueBack, valueProp: 'value'});\r\n    return {\r\n      getProps,\r\n      stateValue\r\n    };\r\n  },\r\n  render() {\r\n    return <a-time-picker {...{\r\n      ...this.getProps()\r\n    }}/>;\r\n  }\r\n});\r\n","import {computed, PropType, ref, watch} from 'vue';\r\n\r\nexport const baseTimeRangePickerProps = {\r\n  value: Array,\r\n  valueType: {\r\n    type: String as PropType<'string' | 'array'>,\r\n    default: 'array'\r\n  },\r\n  separator: {\r\n    type: String as PropType<string>,\r\n    default: '-'\r\n  },\r\n  clearable: {\r\n    type: Boolean as PropType<boolean>,\r\n    default: false\r\n  },\r\n  placeholder: {\r\n    type: Array as PropType<string[]>,\r\n    default: () => ['开始时间', '结束时间']\r\n  },\r\n  format: {\r\n    type: String as PropType<string>,\r\n    default: 'HH:mm:ss'\r\n  }\r\n};\r\n\r\nexport const useBaseTimeRangePicker = (props, {attrs, emit, convertValue, convertValueBack, valueProp}) => {\r\n  const start = ref(null);\r\n  const end = ref(null);\r\n  watch(() => props.value, (value: any) => {\r\n    const convertedValue = convertValue(value);\r\n    if (!convertedValue) {\r\n      start.value = null;\r\n      end.value = null;\r\n    } else if (start.value !== convertedValue[0] || end.value !== convertedValue[1]) {\r\n      start.value = convertedValue[0];\r\n      end.value = convertedValue[1];\r\n    }\r\n  }, {immediate: true});\r\n  watch(() => [start.value, end.value], (v) => {\r\n    const convertedValue = convertValueBack(v);\r\n    emit(`update:${valueProp}`, convertedValue);\r\n  }, {deep: true});\r\n  const fieldProps = computed(() => {\r\n    const localProps = {...attrs};\r\n    delete localProps.value;\r\n    delete localProps[`onUpdate:${valueProp}`];\r\n    return localProps;\r\n  });\r\n  return {\r\n    fieldProps,\r\n    start,\r\n    end\r\n  };\r\n};\r\n","import {defineComponent} from 'vue';\r\nimport {baseTimeRangePickerProps, useBaseTimeRangePicker} from '../../../common/base-time-range-picker';\r\nimport DTimePicker from './time-picker';\r\nimport './time-range-picker.less';\r\n\r\nexport default defineComponent({\r\n  name: 'DTimeRangePicker',\r\n  components: {\r\n    DTimePicker\r\n  },\r\n  inheritAttrs: false,\r\n  props: {\r\n    ...baseTimeRangePickerProps\r\n  },\r\n  setup(props, {attrs, emit}) {\r\n    const convertValue = (value: Array<string> | string): string[] => {\r\n      if (!value) {\r\n        return [null, null];\r\n      }\r\n      if (props.valueType === 'string') {\r\n        if (typeof value === 'string') {\r\n          return (value as string).split(props.separator as string).map(it => it);\r\n        }\r\n        throw new Error('TimeRangePicker输入值格式应为string');\r\n      }\r\n      return (value as string[]).map(it => it);\r\n    };\r\n    const convertValueBack = (value) => {\r\n      if (props.valueType === 'string') {\r\n        return value.join(props.separator);\r\n      }\r\n      return value;\r\n    };\r\n    const {\r\n      fieldProps,\r\n      start,\r\n      end\r\n    } = useBaseTimeRangePicker(props,\r\n        {emit, attrs, convertValue, convertValueBack, valueProp: 'value'});\r\n    return {\r\n      fieldProps,\r\n      start,\r\n      end\r\n    };\r\n  },\r\n  render() {\r\n    return (\r\n        <div class=\"d-time-range-picker\">\r\n          <div>\r\n            <d-time-picker {...this.fieldProps}\r\n                           v-model={[this.start, 'value']}\r\n                           allow-clear={this.clearable || this.$attrs.allowClear}\r\n                           format={this.format}\r\n                           placeholder={this.placeholder[0]}/>\r\n            <span class=\"d-time-range-picker-separator\">{this.separator}</span>\r\n            <d-time-picker {...this.fieldProps}\r\n                           v-model={[this.end, 'value']}\r\n                           allow-clear={this.clearable || this.$attrs.allowClear}\r\n                           format={this.format}\r\n                           placeholder={this.placeholder[1]}/>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n});\r\n","import {App} from 'vue';\r\nimport TimePicker from './time-picker';\r\nimport TimeRangePicker from './time-range-picker';\r\n\r\nTimePicker.RangePicker = TimeRangePicker;\r\nTimePicker.install = (app: App) => {\r\n  app.component(TimePicker.name, TimePicker);\r\n  app.component(TimeRangePicker.name, TimeRangePicker);\r\n};\r\n\r\nexport default TimePicker;\r\n","import {Select} from 'ant-design-vue';\r\nimport {defineComponent, PropType} from 'vue';\r\nimport {isNull} from '../../utils/utils';\r\nimport {useOptions} from './utils';\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'DSelect',\r\n  props: {\r\n    multiple: {\r\n      type: Boolean as PropType<boolean>, default: false\r\n    },\r\n    options: {\r\n      type: Array\r\n    },\r\n    clearable: {\r\n      type: Boolean as PropType<boolean>, default: true\r\n    },\r\n    labelProperty: {\r\n      type: String, default: 'label'\r\n    },\r\n    valueProperty: {\r\n      type: String, default: 'value'\r\n    },\r\n    filterOption: {\r\n      type: [Boolean, Function],\r\n      default: () => {\r\n        return (value, option) => {\r\n          if (isNull(value) || value === '') {\r\n            return true;\r\n          }\r\n          return option.label.toString().includes(value)\r\n              || option.value.toString().includes(value);\r\n        };\r\n      }\r\n    }\r\n  },\r\n  setup(props) {\r\n    const {options: localOptions} = useOptions(props);\r\n    return {localOptions};\r\n  },\r\n  render() {\r\n    const props: any = {\r\n      ...this.$props,\r\n      ...this.$attrs,\r\n      mode: this.multiple ? 'multiple' : this.$attrs.mode,\r\n      allowClear: this.clearable ? true : this.$attrs.allowClear,\r\n      options: this.localOptions\r\n    };\r\n    return <Select {...props}/>;\r\n  }\r\n});\r\n","import {ComponentInternalInstance} from '@vue/runtime-core';\r\nimport AsyncValidator from 'async-validator';\r\nimport debounce from 'lodash.debounce';\r\nimport {\r\n  computed,\r\n  ComputedRef,\r\n  defineComponent,\r\n  getCurrentInstance,\r\n  inject,\r\n  nextTick,\r\n  onBeforeUnmount,\r\n  PropType,\r\n  provide,\r\n  ref,\r\n  VNode\r\n} from 'vue';\r\nimport {ValidateRules} from '../../../../../types';\r\nimport {getPropByPath, noop} from '../../utils';\r\n\r\nexport interface FormItemProvider {\r\n  validate: (trigger?: string, callback?) => void;\r\n  setControl: (control: ComponentInternalInstance) => void;\r\n  onBlur: (e) => void;\r\n  onChange: (e?) => void;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'DFormItem',\r\n  props: {\r\n    hasFeedback: {\r\n      type: Boolean as PropType<boolean>,\r\n      default: false\r\n    },\r\n    help: {\r\n      type: String as PropType<string>\r\n    },\r\n    label: {\r\n      type: [String, Object] as PropType<string | VNode>,\r\n      default: ''\r\n    },\r\n    labelWidth: {\r\n      type: [String, Number] as PropType<any>\r\n    },\r\n    labelPosition: {\r\n      type: String as PropType<'left' | 'right'>\r\n    },\r\n    name: {\r\n      type: String as PropType<string>,\r\n      default: ''\r\n    },\r\n    required: {\r\n      type: Boolean as PropType<boolean>,\r\n      default: false\r\n    },\r\n    rules: {\r\n      type: [Object, Array] as PropType<any>\r\n    },\r\n    validateStatus: {\r\n      type: String as PropType<string>\r\n    },\r\n    value: {\r\n      type: [Object, String, Number, Array, Boolean]\r\n    }\r\n  },\r\n  emits: ['validate'],\r\n  setup(props, {emit, attrs}) {\r\n    const control = ref(null);\r\n    const currentHelp = ref('');\r\n    const currentValidateStatus = ref('');\r\n    const form: { value: any } = inject('form', () => undefined) as any;\r\n    const validateDisabled = ref(true);\r\n\r\n    const fieldValue = computed(() => {\r\n      if (props.value !== null && props.value !== undefined) {\r\n        return props.value;\r\n      }\r\n      const model = form && form.value.model;\r\n      if (!model || !props.name) {\r\n        return;\r\n      }\r\n\r\n      let path = props.name as string;\r\n      if (path.indexOf(':') !== -1) {\r\n        path = path.replace(/:/, '.');\r\n      }\r\n      return getPropByPath(model, path, true).v;\r\n    });\r\n    const isRequired = computed(() => {\r\n      if (props.required) {\r\n        return props.required;\r\n      } else {\r\n        return getRules().some(it => it.required);\r\n      }\r\n    });\r\n    const labelCol = computed(() => {\r\n      let labelCol: any = {};\r\n      if (attrs['label-col']) {\r\n        labelCol = attrs['label-col'];\r\n      }\r\n      if (form && form.value.labelCol) {\r\n        if (typeof form.value.labelCol === 'number') {\r\n          labelCol.span = form.value.labelCol;\r\n        } else {\r\n          labelCol = form.value.labelCol;\r\n        }\r\n      }\r\n      labelCol.style = labelStyle.value;\r\n      return labelCol;\r\n    });\r\n    const labelStyle = computed(() => {\r\n      const labelWidth = props.labelWidth ? props.labelWidth : (form && form.value.labelWidth);\r\n      const labelPosition = props.labelPosition ? props.labelPosition : (form && form.value.labelPosition) || 'right';\r\n      const style: any = {};\r\n      if (labelWidth) {\r\n        style.width = typeof labelWidth === 'number' ? (labelWidth + 'px') : labelWidth;\r\n        style.float = 'left';\r\n        style.textAlign = labelPosition;\r\n      }\r\n      return style;\r\n    });\r\n    const wrapperCol = computed(() => {\r\n      let wrapperCol: any = {};\r\n      if (attrs['wrapper-col']) {\r\n        wrapperCol = attrs['wrapper-col'];\r\n      }\r\n      if (form && form.value.wrapperCol) {\r\n        if (typeof form.value.wrapperCol === 'number') {\r\n          wrapperCol.span = form.value.wrapperCol;\r\n        } else {\r\n          wrapperCol = form.value.wrapperCol;\r\n        }\r\n      } else if (form && form.value.labelCol) {\r\n        if (typeof form.value.labelCol === 'number') {\r\n          wrapperCol.span = 24 - form.value.labelCol;\r\n        }\r\n      }\r\n      wrapperCol.style = wrapperStyle.value;\r\n      return wrapperCol;\r\n    });\r\n    const wrapperStyle = computed(() => {\r\n      return {};\r\n    });\r\n    const focus = () => {\r\n      if (control.value && control.value.focus.bind(control.value).bind(control.value).bind(control.value).bind(control.value).bind(control.value)) {\r\n        control.value.focus();\r\n      }\r\n    };\r\n    const getFilteredRule = (trigger) => {\r\n      const rules = getRules();\r\n      return rules.filter(rule => {\r\n        if (!rule.trigger || trigger === '') {\r\n          return true;\r\n        }\r\n        if (Array.isArray(rule.trigger)) {\r\n          return rule.trigger.indexOf(trigger) > -1;\r\n        } else {\r\n          return rule.trigger === trigger;\r\n        }\r\n      }).map(rule => Object.assign({}, rule));\r\n    };\r\n    const getRules = () => {\r\n      let formRules: ValidateRules = form && form.value.getRules();\r\n      const selfRules = props.rules;\r\n      const requiredRule = props.required !== undefined ? {required: props.required} : [];\r\n      const prop = getPropByPath(formRules, props.name || '');\r\n      formRules = formRules ? (prop.o[props.name as string || ''] || prop.v) : [];\r\n      return [].concat(selfRules || formRules || []).concat(requiredRule);\r\n    };\r\n    const onFieldBlur = () => {\r\n      validate('blur');\r\n    };\r\n    const onFieldChange = () => {\r\n      if (validateDisabled.value) {\r\n        validateDisabled.value = false;\r\n        return;\r\n      }\r\n      validate('change');\r\n    };\r\n    const validate = debounce((trigger, callback = noop) => {\r\n      nextTick().then(() => {\r\n        validateDisabled.value = false;\r\n        const rules = getFilteredRule(trigger);\r\n        if ((!rules || rules.length === 0) && props.required === undefined) {\r\n          callback();\r\n          return true;\r\n        }\r\n        currentValidateStatus.value = 'validating';\r\n        const descriptor = {};\r\n        if (rules && rules.length > 0) {\r\n          rules.forEach(rule => {\r\n            delete rule.trigger;\r\n          });\r\n        }\r\n        descriptor[props.name as string] = rules;\r\n        const validator = new AsyncValidator(descriptor);\r\n        const model = {\r\n          [props.name as string]: fieldValue.value\r\n        };\r\n        validator.validate(model, {firstFields: true}, (errors, invalidFields) => {\r\n          currentValidateStatus.value = !errors ? 'success' : 'error';\r\n          currentHelp.value = errors ? errors[0].message : '';\r\n          callback(currentHelp.value, invalidFields);\r\n          emit('validate', !errors, errors);\r\n          form && form.value.emit('validate', props.name, !errors, currentHelp.value || null);\r\n        });\r\n      });\r\n    }, 300);\r\n    const instance = getCurrentInstance();\r\n    onBeforeUnmount(() => {\r\n      if (props.name) {\r\n        form.value.removeField(instance);\r\n      }\r\n    });\r\n    if (props.name) {\r\n      form.value.addField(instance);\r\n    }\r\n    const formItem: ComputedRef<FormItemProvider> = computed(() => ({\r\n      ...props,\r\n      validate,\r\n      setControl: (localControl) => {\r\n        control.value = localControl;\r\n      },\r\n      onBlur: onFieldBlur,\r\n      onChange: onFieldChange\r\n    }));\r\n    provide('formItem', formItem);\r\n    return {\r\n      control,\r\n      currentHelp,\r\n      currentValidateStatus,\r\n      form,\r\n      validateDisabled,\r\n      fieldValue,\r\n      isRequired,\r\n      labelCol,\r\n      labelStyle,\r\n      wrapperCol,\r\n      wrapperStyle,\r\n      focus,\r\n      getFilteredRule,\r\n      getRules,\r\n      onFieldBlur,\r\n      onFieldChange,\r\n      validate\r\n    };\r\n  },\r\n  render() {\r\n    const props: any = {\r\n      ...this.$attrs,\r\n      ...this.$props\r\n    };\r\n    const label = props.label;\r\n    const slots = {...this.$slots};\r\n    if (typeof props.label === 'object' || slots.label) {\r\n      slots.label = this.$slots.label || (() => label);\r\n      delete props.label;\r\n    }\r\n    if (this.help || this.currentHelp) {\r\n      props.help = this.help || this.currentHelp;\r\n    } else {\r\n      props.help = undefined;\r\n    }\r\n    props.labelCol = this.labelCol;\r\n    props.validateStatus = this.validateStatus || this.currentValidateStatus;\r\n    props.wrapperCol = this.wrapperCol;\r\n    return <a-form-item {...props}\r\n                        v-slots={slots}/>;\r\n  }\r\n});\r\n","import chunk from 'lodash.chunk';\r\nimport {defineComponent, PropType} from 'vue';\r\nimport {useOptions} from './utils';\r\n\r\nexport default defineComponent({\r\n  name: 'DCheckboxGroup',\r\n  props: {\r\n    options: Array,\r\n    span: Number as PropType<number>,\r\n    labelProperty: {\r\n      type: String, default: 'label'\r\n    },\r\n    valueProperty: {\r\n      type: String, default: 'value'\r\n    }\r\n  },\r\n  setup(props) {\r\n    const {options: localOptions} = useOptions(props);\r\n    return {localOptions};\r\n  },\r\n  render() {\r\n    const props = {\r\n      ...this.$attrs\r\n    };\r\n    const slots = {\r\n      ...this.$slots\r\n    };\r\n    if (this.localOptions && this.span) {\r\n      const cols = Math.abs(24 / (this.span as number));\r\n      const chunks = chunk(this.localOptions, cols);\r\n      slots.default = () => chunks.map(c => (\r\n          <a-row>\r\n            {\r\n              c.map(o => (\r\n                  <a-col span={this.span}>\r\n                    <a-checkbox {...o}>{o.label}</a-checkbox>\r\n                  </a-col>\r\n              ))\r\n            }\r\n          </a-row>\r\n      ));\r\n    } else {\r\n      props.options = this.localOptions;\r\n    }\r\n    return <a-checkbox-group {...props}\r\n                             v-slots={slots}/>;\r\n  }\r\n});\r\n","import chunk from 'lodash.chunk';\r\nimport {defineComponent, PropType} from 'vue';\r\nimport {useOptions} from './utils';\r\n\r\nexport default defineComponent({\r\n  name: 'DRadioGroup',\r\n  props: {\r\n    options: Array,\r\n    span: Number as PropType<number>,\r\n    labelProperty: {\r\n      type: String, default: 'label'\r\n    },\r\n    valueProperty: {\r\n      type: String, default: 'value'\r\n    }\r\n  },\r\n  setup(props) {\r\n    const {options: localOptions} = useOptions(props);\r\n    return {localOptions};\r\n  },\r\n  render() {\r\n    const props = {\r\n      ...this.$attrs\r\n    };\r\n    const slots = {\r\n      ...this.$slots\r\n    };\r\n    if (this.localOptions && this.span) {\r\n      const cols = Math.abs(24 / (this.span as number));\r\n      const chunks = chunk(this.localOptions, cols);\r\n      slots.default = () => chunks.map(c => (\r\n          <a-row>\r\n            {\r\n              c.map(o => (\r\n                  <a-col span={this.span}>\r\n                    <a-radio {...o}>{o.label}</a-radio>\r\n                  </a-col>\r\n              ))\r\n            }\r\n          </a-row>\r\n      ));\r\n    } else {\r\n      props.options = this.localOptions;\r\n    }\r\n    return <a-radio-group {...props}\r\n                          v-slots={slots}/>;\r\n  }\r\n});\r\n","/*\r\n  @Prop([Array, Object])\r\n  public value: { [key: string]: any } | Array<{ [key: string]: any }>;\r\n  @Prop(Array)\r\n  public pathPrefix: string[];\r\n  public currentValue: { [key: string]: any } | Array<{ [key: string]: any }> = null;\r\n  @Inject()\r\n  public store: SchemaFormStore;\r\n\r\n */\r\n\r\nimport {SchemaFormStoreKey} from '../utils/key';\r\nimport {renderField} from './utils';\r\nimport {SchemaFormField, SchemaFormStore} from '../../../types';\r\nimport {inject, Ref, ref } from 'vue';\r\n\r\nexport const baseFieldComponentProps = {\r\n  value: [Object, Array],\r\n  pathPrefix: Array\r\n};\r\n\r\nexport const useBaseFieldComponent = (props, {emit}) => {\r\n  const currentValue: Ref<{ [key: string]: any } | Array<{ [key: string]: any }>> = ref(null);\r\n  const store: SchemaFormStore = inject(SchemaFormStoreKey);\r\n  return {\r\n    currentValue, store,\r\n    renderFormField(field: SchemaFormField, currentValue: { [p: string]: any } | Array<{ [p: string]: any }>, index: number, wrap: boolean) {\r\n      return renderField(props.pathPrefix, store, field, currentValue, index, wrap, emit);\r\n    }\r\n  };\r\n};\r\n","import {PlusOutlined} from '@ant-design/icons-vue';\r\nimport {computed, defineComponent, inject, PropType, provide, watch} from 'vue';\r\nimport {transformFormProps} from '../config';\r\nimport {isEqual} from '../uform/utils';\r\nimport {SchemaFormObjectStoreKey} from '../utils/key';\r\nimport {DESKTOP, getButtonComponent, getFormComponent, getRowComponent, MOBILE} from '../utils/utils';\r\nimport {baseFieldComponentProps, useBaseFieldComponent} from './field-based-component';\r\nimport {getComponentType, getRealFields} from './utils';\r\n\r\nexport default defineComponent({\r\n  name: 'SchemaFormInternal',\r\n  inheritAttrs: false,\r\n  props: {\r\n    title: [Object, String],\r\n    arrayIndex: Number,\r\n    pathPrefix: Array,\r\n    index: {type: Boolean as PropType<boolean>, default: false},\r\n    definition: {type: Object, required: true},\r\n    schemaPath: Array,\r\n    inline: {type: Boolean, default: false},\r\n    layoutType: [String, Object],\r\n    layoutProps: Object,\r\n    ...baseFieldComponentProps\r\n  },\r\n  emits: ['update:value', 'change'],\r\n  setup(props, {emit, slots, attrs}) {\r\n    const {currentValue, store, renderFormField} = useBaseFieldComponent(props, {emit});\r\n    const isMobile = computed(() => store.platform === MOBILE);\r\n    const isDesktop = computed(() => store.platform === DESKTOP);\r\n    const isDisabled = computed(() => store.disabled);\r\n    const isLoading = computed(() => store.loading);\r\n    const isFormDisabled = computed(() => isDisabled.value || isLoading.value);\r\n    watch(() => currentValue.value, (value) => {\r\n      emit('update:value', value);\r\n      emit('change', value);\r\n    }, {deep: true});\r\n    watch(() => props.value, (value) => {\r\n      if (!isEqual(value, currentValue.value)) {\r\n        if (props.definition.array) {\r\n          currentValue.value = value || [];\r\n        } else {\r\n          currentValue.value = value || {};\r\n        }\r\n      } else if (!value) {\r\n        currentValue.value = {};\r\n      }\r\n    }, {immediate: true, deep: true});\r\n    const objectStore = inject(SchemaFormObjectStoreKey, undefined);\r\n    provide(SchemaFormObjectStoreKey, {\r\n      index: props.index ?? objectStore?.index ?? store.props?.index\r\n    });\r\n    const renderTitle = () => {\r\n      if (slots.title) {\r\n        return slots.title();\r\n      } else if (store.props && props.title) {\r\n        return <h2 class=\"form-title\">{props.title}</h2>;\r\n      }\r\n    };\r\n\r\n    const groups = computed(() => {\r\n      const array = [];\r\n      const spanGroups = [];\r\n      let lastHasSpan = false;\r\n      getRealFields(props.definition.fields).forEach((fieldDefinition, index) => {\r\n        const vnode = renderFormField(fieldDefinition, currentValue.value, index, true);\r\n        if (fieldDefinition.span) {\r\n          if (lastHasSpan) {\r\n            spanGroups[spanGroups.length - 1].push(fieldDefinition.span);\r\n            array[array.length - 1].push(vnode);\r\n          } else {\r\n            spanGroups.push([fieldDefinition.span]);\r\n            array.push([vnode]);\r\n          }\r\n          lastHasSpan = true;\r\n        } else {\r\n          lastHasSpan = false;\r\n          spanGroups.push([]);\r\n          array.push([vnode]);\r\n        }\r\n      });\r\n      return array;\r\n    });\r\n\r\n    const renderSingleFields = () => {\r\n      const FormComponent: any = getFormComponent(store.platform);\r\n      const {definition, layoutProps, layoutType, inline} = props;\r\n      const formProps: any = getFormProps();\r\n      formProps.onSubmit = e => {\r\n        e.preventDefault();\r\n      };\r\n      const path = [].concat(...props.pathPrefix as string[]);\r\n      path.pop();\r\n      const form = (\r\n          <FormComponent {...formProps}>\r\n            {definition.array ? renderTitle() : null}\r\n            {!definition.array && isDesktop.value ? renderTitle() : null}\r\n            {inline ? groups.value.reduce((a, b) => a.concat(b)) : groups.value.map(group => wrapGroup(group))}\r\n          </FormComponent>\r\n      );\r\n      if (layoutType) {\r\n        const LayoutComponentDef = getComponentType(store, {\r\n          type: layoutType as string\r\n        });\r\n        const LayoutComponentDefComponent = LayoutComponentDef.component;\r\n        return <LayoutComponentDefComponent {...layoutProps as any}>\r\n          {form}\r\n        </LayoutComponentDefComponent>;\r\n      }\r\n      return form;\r\n    };\r\n\r\n    const renderAddFormButton = () => {\r\n      const {definition} = props;\r\n      const ButtonComponent: any = getButtonComponent(store.platform);\r\n      if (definition.array && store.editable) {\r\n        return <ButtonComponent\r\n            {...{\r\n              block: true,\r\n              icon: <PlusOutlined/>,\r\n              disabled: isDisabled.value,\r\n              class: 'm-b',\r\n              onClick: () => {\r\n                addSubItem();\r\n              }\r\n            }}>新增一条</ButtonComponent>;\r\n      }\r\n    };\r\n    const addSubItem = () => {\r\n      currentValue.value.push({});\r\n    };\r\n\r\n    const wrapGroup = (group: any) => {\r\n      const RowComponent: any = getRowComponent(store.platform);\r\n      const {props: commonProps} = store;\r\n      if (isMobile.value || group.length === 1) {\r\n        return group;\r\n      }\r\n      return <RowComponent gutter={commonProps && commonProps.gutter || 0}>{group}</RowComponent>;\r\n    };\r\n    const getFormProps = () => {\r\n      const obj: any = {\r\n        inline: props.inline,\r\n        labelCol: attrs.labelCol,\r\n        title: slots.title?.() ?? props.title,\r\n        wrapperCol: attrs.wrapperCol,\r\n        disabled: isFormDisabled.value,\r\n        ...store.props,\r\n        ...attrs\r\n      };\r\n      if (attrs.labelWidth) {\r\n        obj.labelWidth = attrs.labelWidth;\r\n      }\r\n      if (attrs.labelPosition) {\r\n        obj.labelPosition = attrs.labelPosition;\r\n      }\r\n      return transformFormProps(obj, store.platform);\r\n    };\r\n    return {\r\n      renderSingleFields,\r\n      renderAddFormButton,\r\n      currentValue\r\n    };\r\n  },\r\n  render() {\r\n    return <div class=\"schema-form-internal\">\r\n      {this.renderSingleFields()}\r\n      {this.renderAddFormButton()}\r\n    </div>;\r\n  }\r\n});\r\n","import {defineComponent} from 'vue';\r\n\r\nexport const MobileDisplayField = defineComponent({\r\n  name: 'DisplayField',\r\n  props: {\r\n    value: {\r\n      type: [Object, String, Number, Boolean, Array]\r\n    },\r\n    title: {\r\n      type: [String, Object]\r\n    }\r\n  },\r\n  render() {\r\n    const {value} = this;\r\n    return <span>{value !== undefined && value !== null ? value.toString() : null}</span>;\r\n  }\r\n});\r\n\r\nexport default MobileDisplayField;\r\n","export default (props) => {\r\n  return <span>{props.value}</span>;\r\n}\r\n","import {defineComponent} from 'vue';\r\nimport {config} from '../config';\r\n\r\nexport default defineComponent({\r\n  name: 'RangeDisplayField',\r\n  props: {\r\n    value: Array\r\n  },\r\n  render() {\r\n    if (this.value) {\r\n      return (this.value[0] ?? config.defaultEmptyText) + ' - ' + (this.value[1] ?? config.defaultEmptyText);\r\n    }\r\n    return config.defaultEmptyText;\r\n  }\r\n});\r\n","import {resolveOptions} from '../utils/utils';\r\n\r\nexport default (props) => {\r\n  const {field, value} = props;\r\n  const options = resolveOptions(field);\r\n  const valueProperty = field.props.valueProperty || 'value';\r\n\r\n  const labelProperty = field.props.labelProperty || 'label';\r\n\r\n  if (value) {\r\n    let selected = [];\r\n    if (field.array) {\r\n      selected = options.filter(it => value.includes(it[valueProperty]) || value.includes(it));\r\n    } else {\r\n      selected = options.filter(it => value === it[valueProperty] || value === it);\r\n    }\r\n    return <span>{selected.map(it => typeof it === 'object' ? it[labelProperty] : it).join('、')}</span>;\r\n  } else {\r\n    return <span/>;\r\n  }\r\n}\r\n","import { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'SwitchDisplay',\r\n  props: {\r\n    value: Boolean,\r\n    onLabel: [String, Object],\r\n    offLabel: [String, Object]\r\n  },\r\n  render() {\r\n    if (this.value) {\r\n      return this.onLabel ?? '开';\r\n    } else {\r\n      return this.offLabel ?? '关';\r\n    }\r\n  }\r\n});\r\n","import moment from 'moment';\r\n\r\nexport const formatTime = (value: Date | number | string, fmt?: string, pretty = false): string => {\r\n  let text = '';\r\n  const format = 'YYYY-MM-DD HH:mm:ss';\r\n  let date: Date;\r\n  if (typeof value === 'string') {\r\n    const reg1 = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z/;\r\n    if (reg1.test(value)) {\r\n      date = moment(value, 'YYYY-MM-DDTHH:mm:ss.sZ').toDate();\r\n      date.setHours(date.getHours() + 8);\r\n    } else {\r\n      text = value;\r\n    }\r\n  } else {\r\n    date = new Date(value);\r\n    if (!value) {\r\n      text = '';\r\n    } else {\r\n      text = moment(value).format(format);\r\n      if (fmt) {\r\n        text = moment(value).format(fmt);\r\n      }\r\n    }\r\n  }\r\n  if (pretty && date) {\r\n    const now = new Date();\r\n    const nowTime = now.getTime();\r\n    const difference: number = nowTime - date.getTime();\r\n    if (difference > 0) {\r\n      if (difference < 1000) {\r\n        text = '刚刚';\r\n      } else if (difference < 60 * 1000) {\r\n        text = `${Math.floor(difference / 1000)}秒前`;\r\n      } else if (difference < 60 * 1000 * 60) {\r\n        text = `${Math.floor(difference / 1000 / 60)}分钟前`;\r\n      } else if (now.getFullYear() === date.getFullYear()) {\r\n        if (now.getMonth() === date.getMonth()\r\n          && now.getDay() === date.getDay()) {\r\n          text = moment(date).format('HH:mm:ss');\r\n        } else {\r\n          text = moment(date).format('MM-DD HH:mm:ss');\r\n        }\r\n      }\r\n    } else if (now.getFullYear() === date.getFullYear()) {\r\n      if (now.getMonth() === date.getMonth()\r\n        && now.getDay() === date.getDay()) {\r\n        text = moment(date).format('HH:mm:ss');\r\n      } else {\r\n        text = moment(date).format('MM-DD HH:mm:ss');\r\n      }\r\n    }\r\n  }\r\n  return text;\r\n};\r\n","import {formatTime} from '../utils/time';\r\n\r\nexport default (props) => {\r\n  const {value, definition} = props;\r\n  let format = 'YYYY-MM-DD HH:mm:ss';\r\n  if (definition.type === 'date') {\r\n    format = 'YYYY-MM-DD';\r\n  } else if (definition.type === 'month') {\r\n    format = 'YYYY-MM';\r\n  } else if (definition.type === 'year') {\r\n    format = 'YYYY';\r\n  } else if (definition.type === 'daterange') {\r\n    format = 'YYYY-MM-DD';\r\n  } else if (definition.type === 'time') {\r\n    format = 'HH:mm:ss';\r\n  }\r\n  if (['daterange', 'timerange'].includes(definition.type) && value) {\r\n    return (\r\n        <span>\r\n          <span>\r\n            {formatTime(value[0], format)}\r\n          </span>\r\n          <span> - </span>\r\n          <span>\r\n            {formatTime(value[1], format)}\r\n          </span>\r\n        </span>\r\n    );\r\n  }\r\n  return (\r\n      <span>\r\n        {formatTime(value, format)}\r\n      </span>\r\n  );\r\n}\r\n","import {registerComponent} from '../config';\r\nimport InternalForm from '../internal/form';\r\nimport {registerDisplay} from '../utils/register';\r\nimport {DESKTOP, FieldTypes, MOBILE, resolveOptions} from '../utils/utils';\r\nimport MobileDisplayField from './mobile-display-field';\r\nimport PlainDisplayField from './plain-display-field';\r\nimport RangeDisplayField from './range-display-field';\r\nimport SelectDisplayField from './select-display-field';\r\nimport SwitchDisplayField from './switch-display-field';\r\nimport TimeDisplayField from './time-display-field';\r\n\r\nregisterDisplay({\r\n  component: RangeDisplayField,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: FieldTypes.Range\r\n});\r\nregisterDisplay({\r\n  component: TimeDisplayField,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: [FieldTypes.Datetime, FieldTypes.Date, FieldTypes.Year, FieldTypes.Month, FieldTypes.DateRange,\r\n    FieldTypes.Time, FieldTypes.TimeRange]\r\n});\r\nregisterDisplay({\r\n  component: SwitchDisplayField,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: FieldTypes.Boolean\r\n});\r\nregisterDisplay({\r\n  component: PlainDisplayField,\r\n  platforms: DESKTOP,\r\n  types: [FieldTypes.String, FieldTypes.Text, FieldTypes.Url, FieldTypes.Integer, FieldTypes.Double, FieldTypes.Number]\r\n});\r\nregisterDisplay({\r\n  component: MobileDisplayField,\r\n  platforms: MOBILE,\r\n  types: [FieldTypes.String, FieldTypes.Text, FieldTypes.Url, FieldTypes.Integer, FieldTypes.Double, FieldTypes.Number]\r\n});\r\nregisterDisplay({\r\n  component: SelectDisplayField,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: [FieldTypes.Select, FieldTypes.ExpandSelect],\r\n  arrayMode: 'both',\r\n  getProps: field => {\r\n    return {options: resolveOptions(field), field};\r\n  }\r\n});\r\nregisterComponent({\r\n  component: InternalForm,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: FieldTypes.Object,\r\n  arrayMode: 'single',\r\n  getProps: (definition, platform) => {\r\n    return {\r\n      platform,\r\n      definition: {fields: definition.fields}\r\n    };\r\n  }\r\n});\r\nregisterDisplay({\r\n  component: InternalForm,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: FieldTypes.Object,\r\n  arrayMode: 'single',\r\n  getProps: (definition, platform) => {\r\n    return {\r\n      platform,\r\n      definition: {fields: definition.fields}\r\n    };\r\n  }\r\n});\r\n","import {IValidateResponse} from '../../../../types';\r\nimport {FieldDefinition} from '../../internal/utils';\r\nimport {flat} from '../../utils/array';\r\nimport {isNotNull} from '../../utils/utils';\r\nimport {each, format} from './utils';\r\n\r\nexport {format};\r\n\r\nexport const runValidation = async (\r\n    fieldMap: { [key: string]: FieldDefinition }\r\n): Promise<IValidateResponse[]> => {\r\n  const queue = [];\r\n  each(fieldMap, (field: FieldDefinition) => {\r\n    if (field.visible === false ||\r\n        field.display === false ||\r\n        field.editable === false) {\r\n      return;\r\n    }\r\n    queue.push(field.validate());\r\n  });\r\n  return Promise.all(queue).then((response: Array<IValidateResponse[]>) =>\r\n      flat(response).filter(it => isNotNull(it)));\r\n};\r\n\r\nexport default runValidation;\r\n","import {Subject} from 'rxjs';\r\nimport {nextTick} from 'vue';\r\nimport {EffectsContext, EffectsHandlers, Paths, SchemaFormFieldStates, SchemaFormStore} from '../../../types';\r\nimport {FieldDefinition, SchemaFormEvents} from '../internal/utils';\r\nimport runValidation from '../uform/validator';\r\nimport {appendPath, findFieldPath, isFuzzyPath, isPathMatchPatterns, match, replaceLastPath, takePath} from './path';\r\n\r\nlet contextId = 1;\r\n\r\nexport const createContext = (store: SchemaFormStore, onOk: (forceValidate: boolean, callback?: (value) => any) => Promise<void>, currentValue: any): EffectsContext => {\r\n  const matchFields = (paths: Paths): FieldDefinition[] => {\r\n    const matchedPaths = match(paths, store.fields as any);\r\n    return matchedPaths.map(path => store.fields[path]).filter(it => !!it) as any;\r\n  };\r\n  const subscribes = {};\r\n  const subscribe = (e: string, pathsOrHandler, handler) => {\r\n    if (!subscribes[e]) {\r\n      subscribes[e] = new Subject();\r\n    }\r\n    subscribes[e].subscribe({\r\n      next: (v) => {\r\n        nextTick(() => {\r\n          if (typeof pathsOrHandler === 'function') {\r\n            pathsOrHandler(v);\r\n          } else {\r\n            const patterns = typeof pathsOrHandler === 'string' ? [pathsOrHandler]\r\n                : (Array.isArray(pathsOrHandler) ? (pathsOrHandler as any[]).map((item: any) => {\r\n                  if (typeof item === 'string') {\r\n                    return item;\r\n                  } else {\r\n                    return findFieldPath(item, store.fields as any);\r\n                  }\r\n                }) : [findFieldPath(pathsOrHandler, store.fields as any)]);\r\n            if (isPathMatchPatterns(v.field, patterns)) {\r\n              if (e === SchemaFormEvents.fieldChange || e === SchemaFormEvents.fieldCreate) {\r\n                handler(v.value, v.path);\r\n              } else if ([SchemaFormEvents.fieldFocus, SchemaFormEvents.fieldBlur].includes(e as any)) {\r\n                handler(v.path, v.event);\r\n              } else {\r\n                handler(v.value);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n  const trigger = (event: string, value: any) => {\r\n    nextTick(() => {\r\n      const subject = store.context.subscribes[event];\r\n      if (subject) {\r\n        subject.next(value);\r\n      }\r\n    });\r\n  };\r\n  const context: EffectsContext = (...paths) => {\r\n    const required = (required: boolean) => {\r\n      if (typeof required === 'boolean') {\r\n        matchFields(paths).forEach(field => {\r\n          field.required = required;\r\n        });\r\n      }\r\n      return context(...paths);\r\n    };\r\n    const hide = (hide?: boolean): EffectsHandlers => {\r\n      matchFields(paths).forEach(field => {\r\n        if (typeof hide === 'boolean') {\r\n          field.visible = !hide;\r\n        } else {\r\n          field.visible = false;\r\n        }\r\n      });\r\n      return context(...paths);\r\n    };\r\n    const show = (show?: boolean): EffectsHandlers => {\r\n      matchFields(paths).forEach(field => {\r\n        if (typeof show === 'boolean') {\r\n          field.visible = show;\r\n        } else {\r\n          field.visible = true;\r\n        }\r\n      });\r\n      return context(...paths);\r\n    };\r\n    const disable = (disable?: boolean) => {\r\n      matchFields(paths).forEach(field => {\r\n        if (typeof disable === 'boolean') {\r\n          field.disabled = disable;\r\n        } else {\r\n          field.disabled = true;\r\n        }\r\n      });\r\n      return context(...paths);\r\n    };\r\n    const editable = (value = true) => {\r\n      matchFields(paths).forEach(field => {\r\n        field.editable = value;\r\n      });\r\n      return context(...paths);\r\n    };\r\n    const readonly = (value = true) => {\r\n      matchFields(paths).forEach(field => {\r\n        field.editable = !value;\r\n      });\r\n      return context(...paths);\r\n    };\r\n    const enable = (enable?: boolean) => {\r\n      matchFields(paths).forEach(field => {\r\n        if (typeof enable === 'boolean') {\r\n          field.disabled = !enable;\r\n        } else {\r\n          field.disabled = false;\r\n        }\r\n      });\r\n      return context(...paths);\r\n    };\r\n    return {\r\n      setTitle: (title) => {\r\n        matchFields(paths).forEach(field => {\r\n          if (typeof title === 'function') {\r\n            field.title = title(field);\r\n          } else {\r\n            field.title = title;\r\n          }\r\n        });\r\n        return context(...paths);\r\n      },\r\n      setStates: (states: SchemaFormFieldStates) => {\r\n        if (states.required !== undefined) {\r\n          required(states.required);\r\n        }\r\n        if (states.visible !== undefined) {\r\n          show(states.visible);\r\n        }\r\n        if (states.editable !== undefined) {\r\n          editable(states.editable);\r\n        }\r\n        if (states.readonly !== undefined) {\r\n          readonly(states.readonly);\r\n        }\r\n        if (states.enable !== undefined) {\r\n          enable(states.enable);\r\n        }\r\n        return context(...paths);\r\n      },\r\n      paths: () => context(...paths).fields().map(it => it.plainPath),\r\n      fields: () => matchFields(paths),\r\n      field: () => {\r\n        const fields = matchFields(paths);\r\n        if (fields.length >= 2) {\r\n          throw new Error(paths + '匹配到超过1个字段');\r\n        }\r\n        return fields[0];\r\n      },\r\n      toggle: (): EffectsHandlers => {\r\n        matchFields(paths).forEach(field => {\r\n          field.visible = !field.visible;\r\n        });\r\n        return context(...paths);\r\n      },\r\n      value: (value: unknown) => {\r\n        const res = matchFields(paths).map(it => {\r\n          if (typeof value === 'function') {\r\n            it.setGetValue(value(it));\r\n          } else {\r\n            it.setGetValue(value);\r\n          }\r\n        });\r\n        if (value === undefined) {\r\n          if (paths.length === 1 && !isFuzzyPath(paths[0])) {\r\n            return res[0];\r\n          } else {\r\n            return res;\r\n          }\r\n        }\r\n      },\r\n      hide,\r\n      show,\r\n      required,\r\n      disable,\r\n      editable,\r\n      readonly,\r\n      enable,\r\n      setEnum: (options: any): EffectsHandlers => {\r\n        matchFields(paths).forEach(field => {\r\n          field.enum = options;\r\n        });\r\n        return context(...paths);\r\n      },\r\n      setFieldProps: (props): EffectsHandlers => {\r\n        matchFields(paths).forEach(field => {\r\n          field.props = Object.assign({}, field.props, props);\r\n        });\r\n        return context(...paths);\r\n      },\r\n      onFieldCreate: (callback): EffectsHandlers => {\r\n        subscribe(SchemaFormEvents.fieldCreate, paths, callback);\r\n        return context(...paths);\r\n      },\r\n      onFieldBlur: (callback): EffectsHandlers => {\r\n        subscribe(SchemaFormEvents.fieldBlur, paths, callback);\r\n        return context(...paths);\r\n      },\r\n      setDisplayValue: (value: any) => {\r\n        matchFields(paths).forEach(field => {\r\n          field.displayValue = value;\r\n        });\r\n        return context(...paths);\r\n      },\r\n      onFieldFocus: (callback): EffectsHandlers => {\r\n        subscribe(SchemaFormEvents.fieldFocus, paths, callback);\r\n        return context(...paths);\r\n      },\r\n      onFieldCreateOrChange: (callback): EffectsHandlers =>\r\n          context(...paths).onFieldCreate(callback)\r\n              .onFieldChange(callback),\r\n      onFieldChange: (callback): EffectsHandlers => {\r\n        subscribe(SchemaFormEvents.fieldChange, paths, callback);\r\n        return context(...paths);\r\n      },\r\n      subscribe: (event: string, callback): EffectsHandlers => {\r\n        subscribe(event, paths, callback);\r\n        return context(...paths);\r\n      },\r\n      trigger: (event: string, value: any): EffectsHandlers => {\r\n        matchFields(paths).forEach(field => {\r\n          trigger(event, {\r\n            path: field.plainPath,\r\n            value,\r\n            field\r\n          });\r\n        });\r\n        return context(...paths);\r\n      },\r\n      takePath: (number: number): EffectsHandlers => {\r\n        if (paths.length === 0) {\r\n          return context();\r\n        } else {\r\n          if (typeof paths[0] === 'string') {\r\n            return context(...takePath(paths as string[], number));\r\n          } else {\r\n            return context(...takePath((paths).map((it: any) => findFieldPath(\r\n                it, store.fields as any\r\n            )), number));\r\n          }\r\n        }\r\n      },\r\n      appendPath: (suffix: string): EffectsHandlers => {\r\n        if (paths.length === 0) {\r\n          return context();\r\n        } else {\r\n          if (typeof paths[0] === 'string') {\r\n            return context(...appendPath(paths as string[], suffix));\r\n          } else {\r\n            return context(...appendPath((paths).map((it: any) => findFieldPath(it, store.fields as any)), suffix));\r\n          }\r\n        }\r\n      },\r\n      isEnabled: (): boolean => !matchFields(paths).some(it => it.disabled),\r\n      replaceLastPath: (...last: string[]): EffectsHandlers =>\r\n          context(...replaceLastPath(paths as string[], last))\r\n    } as EffectsHandlers;\r\n  };\r\n  context.subscribe = subscribe;\r\n  context.submit = (forceValidate: boolean, callback: (value) => any) => {\r\n    onOk(forceValidate, callback);\r\n  };\r\n  context.validate = async (handler) => {\r\n    const errors = await runValidation(store.fields);\r\n    if (handler) {\r\n      handler(errors, context);\r\n    } else {\r\n      return errors;\r\n    }\r\n  };\r\n  context.onValidate = (handler) => {\r\n    context.subscribe(SchemaFormEvents.validate, handler);\r\n  };\r\n  context.subscribes = subscribes;\r\n  context.getValue = () => {\r\n    return currentValue.value;\r\n  };\r\n  context.trigger = trigger;\r\n  store.id = contextId++;\r\n  return context;\r\n};\r\n","import className from 'classnames';\r\nimport clone from 'lodash.clonedeep';\r\nimport {\r\n  computed,\r\n  defineComponent,\r\n  getCurrentInstance,\r\n  isVNode,\r\n  onMounted,\r\n  PropType,\r\n  provide,\r\n  reactive,\r\n  ref,\r\n  watch\r\n} from 'vue';\r\nimport {Action, Effects, IValidateResponse, Platform, SchemaFormComponentOptions, SchemaFormStore} from '../../types';\r\nimport {registerComponent} from './config';\r\nimport {renderField, SchemaFormEvents} from './internal/utils';\r\nimport {isEqual} from './uform/utils';\r\nimport runValidation from './uform/validator';\r\nimport {createContext} from './utils/effects';\r\nimport {SchemaFormFieldOperationStoreKey, SchemaFormStoreKey} from './utils/key';\r\nimport {ComponentStore} from './utils/register';\r\nimport {LibComponents} from './utils/utils';\r\n\r\nconst SchemaForm = defineComponent({\r\n  field: null,\r\n  name: 'VSchemaForm',\r\n  inheritAttrs: false,\r\n  props: {\r\n    prefixCls: {type: String as PropType<string>, default: 'schema-form'},\r\n    disabled: {type: Boolean as PropType<boolean>, default: false},\r\n    readonly: {type: Boolean as PropType<boolean>, default: false},\r\n    loading: {type: Boolean as PropType<boolean>, default: false},\r\n    actions: {type: Array as PropType<Action[]>},\r\n    platform: {type: String as PropType<Platform>, default: 'desktop'},\r\n    editable: {type: Boolean as PropType<boolean>, default: true},\r\n    effects: {type: Function as PropType<Effects>},\r\n    schema: {type: Object, required: true},\r\n    props: {type: Object},\r\n    value: [Object, Array],\r\n    title: [String, Object],\r\n    inline: {type: Boolean as PropType<boolean>},\r\n    sticky: {type: Boolean as PropType<boolean>, default: false},\r\n    components: {type: Array as PropType<SchemaFormComponentOptions[]>, default: () => []},\r\n    onChange: Function,\r\n    onReset: Function,\r\n    onCancel: Function,\r\n    onOk: Function,\r\n    onSubmit: Function\r\n  },\r\n  emits: ['update:value'],\r\n  setup(props, {emit, slots}) {\r\n    const instance = getCurrentInstance();\r\n    const currentValue = ref(props.value || {});\r\n    const componentStore = new ComponentStore();\r\n    props.components.forEach((comp: SchemaFormComponentOptions) => {\r\n      registerComponent(comp, componentStore);\r\n    });\r\n    const store: SchemaFormStore = reactive({\r\n      fields: {},\r\n      disabled: props.disabled,\r\n      loading: props.loading,\r\n      readonly: props.readonly,\r\n      platform: props.platform,\r\n      props: props.props || props.schema.props || {},\r\n      effects: props.effects,\r\n      inline: props.inline,\r\n      editable: props.editable,\r\n      context: null,\r\n      root: instance,\r\n      components: componentStore\r\n    });\r\n    watch(() => props, () => {\r\n      Object.assign(store, {\r\n        disabled: props.disabled,\r\n        loading: props.loading,\r\n        readonly: props.readonly,\r\n        platform: props.platform,\r\n        props: props.props,\r\n        effects: props.effects,\r\n        inline: props.inline,\r\n        editable: props.editable\r\n      });\r\n    }, {deep: true});\r\n    provide(SchemaFormFieldOperationStoreKey, {\r\n      addField(field) {\r\n        if (field) {\r\n          store.fields[field.plainPath] = field;\r\n        }\r\n      },\r\n      removeField(field) {\r\n        if (field) {\r\n          delete store.fields[field.plainPath];\r\n        }\r\n      }\r\n    });\r\n    provide(SchemaFormStoreKey, store);\r\n    watch(() => props, (val: any) => {\r\n      store.readonly = val.readonly;\r\n      store.disabled = val.disabled;\r\n      store.platform = val.platform as Platform;\r\n      store.props = val.props || val.schema.props || {};\r\n      store.loading = val.loading;\r\n      store.editable = val.editable;\r\n    }, {deep: true});\r\n\r\n    const hasSubmitHandler = computed(() =>\r\n        props.onOk !== undefined\r\n        || props.onSubmit\r\n        || props.onSubmit !== undefined);\r\n\r\n    const localOnOk = async (forceValidate: boolean, callback?: (value) => any) => {\r\n      if (hasSubmitHandler.value) {\r\n        if (forceValidate) {\r\n          const errors = await validate();\r\n          if (errors.length) {\r\n            errors[0].field.focus(true);\r\n            store.context.trigger(SchemaFormEvents.validate, errors);\r\n          } else {\r\n            if (callback) {\r\n              callback(currentValue.value);\r\n            } else {\r\n              props.onOk?.(currentValue.value);\r\n              props.onSubmit?.(currentValue.value);\r\n            }\r\n          }\r\n        } else {\r\n          if (callback) {\r\n            callback(currentValue.value);\r\n          } else {\r\n            props.onOk?.(currentValue.value);\r\n            props.onSubmit?.(currentValue.value);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    const setCurrentValue = () => {\r\n      if (!(currentValue.value && isEqual(props.value, currentValue.value))) {\r\n        if (props.value) {\r\n          if (isVNode(props.value)) {\r\n            console.error('VNode不能作为输入值');\r\n          } else {\r\n            currentValue.value = clone(props.value);\r\n          }\r\n        } else if (props.schema.array) {\r\n          currentValue.value = [];\r\n        } else {\r\n          currentValue.value = {};\r\n        }\r\n      }\r\n    };\r\n    const createSubmitButton = (text = '', customBtnProps: { [key: string]: unknown } = undefined, action: () => any = undefined) => {\r\n      const hasOkHandler = hasSubmitHandler.value || action !== undefined;\r\n      if (!hasOkHandler) {\r\n        return null;\r\n      }\r\n      const btnProps: {\r\n        okProps?: { [key: string]: unknown };\r\n        cancelProps?: { [key: string]: unknown };\r\n        okText?: { [key: string]: unknown };\r\n      } = props.props;\r\n      const buttonProps = customBtnProps || (btnProps && btnProps.okProps) || {};\r\n      if (!buttonProps.type) {\r\n        buttonProps.type = 'primary';\r\n      }\r\n      buttonProps.disabled = props.disabled;\r\n      buttonProps.loading = props.loading;\r\n      return createButton(\r\n          text || btnProps && btnProps.okText || '提交',\r\n          action || (() => {\r\n            localOnOk(true);\r\n          }), buttonProps, 'confirm-btn'\r\n      );\r\n    };\r\n    const createButton = (text, action, btnAttrs, classes) => {\r\n      const {platform} = props;\r\n      const buttonProps = {\r\n        ...btnAttrs,\r\n        class: classes,\r\n        onClick: (e) => {\r\n          action(store.context, e);\r\n        }\r\n      };\r\n      const ButtonComponent: any = LibComponents.button[platform as string];\r\n      const Button = <ButtonComponent {...buttonProps}>\r\n        {text}\r\n      </ButtonComponent>;\r\n      if (platform === 'mobile') {\r\n        return [<m-white-space/>, Button];\r\n      }\r\n      return Button;\r\n    };\r\n    const validate = (): Promise<IValidateResponse[]> | [] =>\r\n        runValidation(store.fields);\r\n    const createCancelButton = (text = '', customBtnProps: any = undefined, action: () => any = undefined) => {\r\n      const hasCancelHandler = props.onCancel !== undefined || action !== undefined;\r\n      if (!hasCancelHandler) {\r\n        return null;\r\n      }\r\n      const btnProps: {\r\n        cancelProps?: any;\r\n        cancelText?: any;\r\n      } = props.props;\r\n      const buttonProps = customBtnProps || (btnProps && btnProps.cancelProps) || {};\r\n      buttonProps.disabled = props.disabled || props.loading;\r\n      return createButton(\r\n          text || btnProps?.cancelText || '取消',\r\n          action || localOnCancel, buttonProps,\r\n          'cancel-btn'\r\n      );\r\n    };\r\n    const createResetButton = (text = '', customBtnProps: any = undefined, action: () => any = undefined) => {\r\n      const hasResetHandler = props.onReset !== undefined || action !== undefined;\r\n      if (!hasResetHandler) {\r\n        return null;\r\n      }\r\n      const btnProps: {\r\n        cancelProps?: any;\r\n        cancelText?: any;\r\n      } = props.props;\r\n      const buttonProps = customBtnProps || (btnProps && btnProps.cancelProps) || {};\r\n      buttonProps.disabled = props.disabled || props.loading;\r\n      return createButton(\r\n          text || btnProps && btnProps.cancelText || '重置',\r\n          action || localOnReset, buttonProps, 'reset-btn'\r\n      );\r\n    };\r\n    const localOnReset = () => {\r\n      props.onReset?.();\r\n    };\r\n    const localOnCancel = () => {\r\n      props.onCancel?.();\r\n    };\r\n    const renderButtons = () => {\r\n      const {actions} = props;\r\n      if (props && store.editable) {\r\n        if (slots.btns) {\r\n          return slots.btns;\r\n        }\r\n        const buttons = [];\r\n        if (actions) {\r\n          (actions as Action[]).forEach((action: any) => {\r\n            if (typeof action === 'string') {\r\n              switch (action) {\r\n                case 'submit':\r\n                  buttons.push(createSubmitButton());\r\n                  break;\r\n                case 'cancel':\r\n                  buttons.push(createCancelButton());\r\n                  break;\r\n                case 'reset':\r\n                  buttons.push(createResetButton());\r\n                  break;\r\n              }\r\n            } else if (typeof action === 'object') {\r\n              switch (action.name) {\r\n                case 'submit':\r\n                  buttons.push(createSubmitButton(action.text, action.props, action.action));\r\n                  break;\r\n                case 'cancel':\r\n                  buttons.push(createCancelButton(action.text, action.props, action.action));\r\n                  break;\r\n                case 'reset':\r\n                  buttons.push(createResetButton(action.text, action.props, action.action));\r\n                  break;\r\n                default:\r\n                  const btnProps: any = action.props || {};\r\n                  btnProps.disabled = props.disabled || props.loading;\r\n                  buttons.push(createButton(action.text, action.action, btnProps, null));\r\n                  break;\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          buttons.push(createCancelButton());\r\n          buttons.push(createSubmitButton());\r\n          buttons.push(createResetButton());\r\n        }\r\n        return <div class=\"action-btns\">\r\n          {buttons}\r\n        </div>;\r\n      }\r\n    };\r\n    watch(() => props.value, () => {\r\n      setCurrentValue();\r\n    });\r\n    watch(() => currentValue.value, (v) => {\r\n      if (!isEqual(currentValue.value, props.value)) {\r\n        const cloneValue = clone(v);\r\n        emit('update:value', cloneValue);\r\n        props.onChange?.(cloneValue);\r\n      }\r\n    }, {deep: true});\r\n\r\n    onMounted(() => {\r\n      if (props.effects) {\r\n        props.effects(store.context);\r\n      }\r\n    });\r\n\r\n    setCurrentValue();\r\n    store.context = createContext(store, localOnOk, currentValue);\r\n    store.editable = props.editable as boolean;\r\n\r\n    return {\r\n      createResetButton,\r\n      createCancelButton,\r\n      createButton,\r\n      createSubmitButton,\r\n      validate,\r\n      store,\r\n      renderButtons,\r\n      currentValue\r\n    };\r\n  },\r\n  render() {\r\n    const LibComponentsContent: any = LibComponents.content[this.platform as string];\r\n    const LibComponentsFooter: any = LibComponents.footer[this.platform as string];\r\n    const {title, sticky, prefixCls, store, currentValue, schema} = this;\r\n    const rootFieldDef: any = Object.assign({}, schema, {\r\n      type: 'object',\r\n      title\r\n    });\r\n    let content: any = [\r\n      this.$slots.header?.(),\r\n      renderField(\r\n          null,\r\n          store,\r\n          rootFieldDef,\r\n          currentValue,\r\n          0,\r\n          false,\r\n          this.$emit\r\n      )\r\n    ];\r\n    let footer: any = [\r\n      this.renderButtons(),\r\n      this.$slots.footer?.()\r\n    ];\r\n    const classes = className(prefixCls, {\r\n      [`${prefixCls}-sticky`]: sticky\r\n    }, `${prefixCls}-${this.platform}`, this.$attrs.class);\r\n    if (this.sticky) {\r\n      content = <LibComponentsContent>\r\n        {content}\r\n      </LibComponentsContent>;\r\n      footer = <LibComponentsFooter>\r\n        {footer}\r\n      </LibComponentsFooter>;\r\n      const Layout: any = LibComponents.layout;\r\n      return <Layout class={classes}>\r\n        {content}\r\n        {footer}\r\n      </Layout>;\r\n    }\r\n    return <div class={classes} style={this.$attrs.style}>\r\n      {content}\r\n      {footer}\r\n    </div>;\r\n  }\r\n});\r\nSchemaForm.install = app => {\r\n  app.component(SchemaForm.name, SchemaForm);\r\n};\r\nexport default SchemaForm;\r\n","import {SchemaFormStore} from '../../../types';\r\nimport {inject} from 'vue';\r\nimport {SchemaFormStoreKey} from '../utils/key';\r\nimport {LibComponents} from '../utils/utils';\r\n\r\nexport default (props, ctx) => {\r\n  const fields = ctx.slots.default();\r\n  const store: SchemaFormStore = inject(SchemaFormStoreKey);\r\n  const CardComponent = LibComponents.card[store.platform];\r\n  return <CardComponent title={props.title}>\r\n    {fields}\r\n    {ctx.slots.default?.()}\r\n  </CardComponent>;\r\n}\r\n","import {defineComponent, inject} from 'vue';\r\nimport {SchemaFormStore} from '../../../types';\r\nimport {SchemaFormStoreKey} from '../utils/key';\r\nimport {LibComponents} from '../utils/utils';\r\nimport './form-block.less';\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'FormBlock',\r\n  props: {\r\n    maxItems: Number,\r\n    addText: String,\r\n    title: {\r\n      type: [String, Object]\r\n    },\r\n    removeText: String\r\n  },\r\n  emits: ['add', 'move-down', 'move-up', 'remove'],\r\n  setup(props, {emit, slots}) {\r\n    const store: SchemaFormStore = inject(SchemaFormStoreKey);\r\n    const renderAddBtn = (index: number) => {\r\n      const fields = slots.default();\r\n      if (index !== fields.length - 1) {\r\n        return;\r\n      }\r\n      const PlusIcon = LibComponents.icons[store.platform].plus;\r\n      if (props.maxItems && props.maxItems <= fields.length) {\r\n        return;\r\n      }\r\n      return <div class=\"array-item-addition\">\r\n        <div class=\"form-block-add-btn\"\r\n             onClick={() => {\r\n               emit('add');\r\n             }}>\r\n          <PlusIcon/>\r\n          {props.addText || '添加'}\r\n        </div>\r\n      </div>;\r\n    };\r\n    const renderOperations = (index: number) => {\r\n      const fields = slots.default();\r\n      const DownIcon = LibComponents.icons[store.platform].down;\r\n      const UpIcon = LibComponents.icons[store.platform].up;\r\n      return fields.length > 1 ? [\r\n        index !== fields.length - 1\r\n          ? <div class=\"circle-btn\"\r\n                 onClick={() => {\r\n                   emit('move-down', index);\r\n                 }}>\r\n            <DownIcon/>\r\n            <span class=\"op-name\"/>\r\n          </div> : null,\r\n        index !== 0 ? <div class=\"circle-btn\" onClick={() => {\r\n          emit('move-up', index);\r\n        }}>\r\n          <UpIcon/>\r\n          <span class=\"op-name\"/>\r\n        </div> : null\r\n      ] : null;\r\n    };\r\n    const renderTitle = () => {\r\n      if (!props.title) {\r\n        return;\r\n      }\r\n      return <div class=\"schema-form-block-header\">\r\n        <div class=\"schema-form-block-main\">\r\n          <div class=\"schema-form-block-title\">{props.title}</div>\r\n        </div>\r\n      </div>;\r\n    };\r\n    return {\r\n      store,\r\n      renderAddBtn,\r\n      renderTitle,\r\n      onRemove(index: number) {\r\n        emit('remove', index);\r\n      },\r\n      renderOperations,\r\n      onAdd: () => {\r\n        emit('add');\r\n      }\r\n    };\r\n  },\r\n  render() {\r\n    const {store} = this;\r\n    const DeleteIcon = LibComponents.icons[store.platform].delete;\r\n    const PlusIcon = LibComponents.icons[store.platform].plus;\r\n    const EmptyComponent = LibComponents.empty[store.platform];\r\n    const fields = this.$slots.default();\r\n    return <div class=\"schema-form-block\">\r\n      {\r\n        fields.length ? fields.map((it, index) => {\r\n          return <div class=\"array-item\" key={'item-' + index}>\r\n            <div class=\"array-index\">\r\n              <span>{index + 1}</span>\r\n            </div>\r\n            {\r\n              this.renderTitle()\r\n            }\r\n            <div class=\"array-item-wrapper\">{it}</div>\r\n            <div class=\"array-item-operator\">\r\n              <div class=\"circle-btn\"\r\n                   onClick={() => {\r\n                     this.onRemove(index);\r\n                   }}>\r\n                <DeleteIcon/>\r\n                <span class=\"op-name\">{this.removeText || '删除'}</span>\r\n              </div>\r\n              {this.renderOperations(index)}\r\n            </div>\r\n            {this.renderAddBtn(index)}\r\n          </div>;\r\n        }) : <EmptyComponent description=\"\"\r\n                             onClick={this.onAdd}>\r\n          <div class=\"array-empty\">\r\n            <PlusIcon/>\r\n            <span>添加</span>\r\n          </div>\r\n        </EmptyComponent>\r\n      }\r\n    </div>;\r\n  }\r\n});\r\n","import {inject, PropType} from 'vue';\r\nimport {SchemaFormField, SchemaFormStore} from '../../../types';\r\nimport {SchemaFormStoreKey} from '../utils/key';\r\n\r\nexport const baseLayoutProps = {\r\n  layout: {type: Array, required: true},\r\n  fieldDefinitions: {\r\n    type: Array as PropType<SchemaFormField[]>\r\n  }\r\n};\r\n\r\nexport const useBaseLayout = (): { store: SchemaFormStore } => ({\r\n  store: inject(SchemaFormStoreKey)\r\n});\r\n","import {computed, defineComponent, PropType, VNode} from 'vue';\r\nimport {getFormItemComponent} from '../internal/utils';\r\nimport {LibComponents, MOBILE} from '../utils/utils';\r\nimport {baseLayoutProps, useBaseLayout} from './base-layout';\r\n\r\n\r\nfunction getColProps(span: number) {\r\n  const colProps: any = {};\r\n  if (typeof span === 'number') {\r\n    colProps.span = span;\r\n  } else if (typeof span === 'object') {\r\n    Object.assign(colProps, span);\r\n  }\r\n  return colProps;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'GridLayout',\r\n  props: {\r\n    ...baseLayoutProps,\r\n    layout: {\r\n      type: Array as PropType<any[]>,\r\n      required: true\r\n    },\r\n    title: {\r\n      type: [String, Object]\r\n    },\r\n    gutter: Number,\r\n    wrapSingle: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    rowStyle: [Object, Function],\r\n    rowClass: [Object, String, Function],\r\n    colClass: [Object, String, Function],\r\n    colStyle: [Object, Function]\r\n  },\r\n  setup(props, {slots}) {\r\n    const {store} = useBaseLayout();\r\n    const containsArray = computed(() => props.layout.some(it => Array.isArray(it)));\r\n    const isMixed = computed(() =>\r\n      props.layout.some(it => typeof it === 'number' || (!Array.isArray(it) && typeof it === 'object')) && props.layout.some(it => Array.isArray(it)));\r\n    const getRowStyle = (index) => {\r\n      if (typeof props.rowStyle === 'function') {\r\n        return props.rowStyle(index);\r\n      }\r\n      return props.rowStyle ?? {};\r\n    };\r\n    const getColStyle = (index) => {\r\n      if (typeof props.colStyle === 'function') {\r\n        return props.colStyle(index);\r\n      }\r\n      return props.colStyle ?? {};\r\n    };\r\n    const getRowClass = (index) => {\r\n      if (typeof props.rowClass === 'function') {\r\n        return props.rowClass(index);\r\n      }\r\n      return props.rowClass ?? {};\r\n    };\r\n    const getColClass = (index) => {\r\n      if (typeof props.colClass === 'function') {\r\n        return props.colClass(index);\r\n      }\r\n      return props.colClass ?? {};\r\n    };\r\n    const normalizedLayout = computed<Array<number | number[]>>(() => {\r\n      if (!containsArray.value) {\r\n        return [props.layout as number[]];\r\n      } else {\r\n        return props.layout as number[];\r\n      }\r\n    });\r\n    const toGroups = (fields: VNode[], layout: Array<number | number[]>) => {\r\n      if (!containsArray.value) {\r\n        return [fields];\r\n      }\r\n      const groups = [];\r\n      const tmpFields = [].concat(fields);\r\n      layout.forEach(span => {\r\n        if (Array.isArray(span)) {\r\n          const tmp = tmpFields.splice(0, span.length);\r\n          groups.push(tmp.length ? tmp : null);\r\n        } else {\r\n          const tmp = tmpFields.splice(0, 1);\r\n          groups.push(tmp.length ? tmp[0] : null);\r\n        }\r\n      });\r\n      if (tmpFields.length) {\r\n        tmpFields.forEach(field => groups.push(field));\r\n      }\r\n      return groups;\r\n    }\r\n    const layoutFields = computed(() => {\r\n      const fields = slots.default();\r\n      const layout: Array<number | number[]> = props.layout;\r\n      const groups = toGroups(fields, layout);\r\n      const LibComponentsCol: any = LibComponents.col[store.platform];\r\n      const LibComponentsRow: any = LibComponents.row[store.platform];\r\n\r\n      return normalizedLayout.value.map((span, index) => {\r\n        const group = groups[index];\r\n        if (group) {\r\n          if (Array.isArray(span)) {\r\n            return <LibComponentsRow\r\n              style={getRowStyle(index)}\r\n              class={getRowClass(index)}\r\n              gutter={props.gutter}>\r\n              {\r\n                span.map((subSpan, subindex) => {\r\n                  return (\r\n                    <LibComponentsCol\r\n                      style={getColStyle(subindex)}\r\n                      class={getColClass(subindex)}\r\n                      {...getColProps(subSpan)}>\r\n                      {group[subindex]}\r\n                    </LibComponentsCol>\r\n                  );\r\n                })\r\n              }\r\n            </LibComponentsRow>;\r\n          } else {\r\n\r\n            const col = <LibComponentsCol\r\n              style={getColStyle(index)}\r\n              class={getColClass(index)}\r\n              {...getColProps(span)}>{group}</LibComponentsCol>;\r\n            if (props.wrapSingle) {\r\n              return <LibComponentsRow\r\n                style={getRowStyle(index)}\r\n                class={getRowClass(index)}\r\n                gutter={props.gutter}>{col}</LibComponentsRow>;\r\n            }\r\n            return col;\r\n          }\r\n        }\r\n      });\r\n    });\r\n    return {\r\n      layoutFields,\r\n      isMixed,\r\n      store\r\n    };\r\n  },\r\n  render() {\r\n    const {store} = this;\r\n    const LibComponentsRow: any = LibComponents.row[store.platform];\r\n    const {store: {platform}} = this;\r\n    if (platform === MOBILE) {\r\n      return <div>{this.$slots.default()}</div>;\r\n    }\r\n    const FormItemComponent: any = getFormItemComponent(this.store.platform);\r\n    if (this.title) {\r\n      const componentProps = {...this.$attrs, title: this.title, label: this.title};\r\n      return <FormItemComponent {...componentProps}>\r\n        {this.isMixed ?\r\n          <LibComponentsRow gutter={this.gutter}>{this.layoutFields}</LibComponentsRow> : this.layoutFields}\r\n      </FormItemComponent>;\r\n    }\r\n    return this.isMixed ? <LibComponentsRow\r\n        class={'grid-layout'}\r\n        gutter={this.gutter}>{this.layoutFields}</LibComponentsRow> :\r\n      <div class={'grid-layout'}>{this.layoutFields}</div>;\r\n  }\r\n});\r\n","import {Steps} from 'ant-design-vue';\r\nimport {computed, defineComponent, PropType, ref, watch, watchEffect} from 'vue';\r\nimport {FieldDefinition, SchemaFormField} from '../../../types';\r\nimport {flat} from '../utils/array';\r\nimport {baseLayoutProps, useBaseLayout} from './base-layout';\r\nimport './steps.less';\r\n\r\nexport default defineComponent({\r\n    name: 'StepsLayout',\r\n    props: {\r\n      layout: {type: Array as PropType<any[]>, required: true},\r\n      titles: {\r\n        type: [Array]\r\n      },\r\n      currentStep: Number,\r\n      ...baseLayoutProps\r\n    },\r\n    setup(props) {\r\n      const {store} = useBaseLayout();\r\n      const current = ref(0);\r\n      const iFields = computed(() => {\r\n        return (props.fieldDefinitions as SchemaFormField[]).map(it => store.fields[it.property]);\r\n      });\r\n      const errors = computed(() => {\r\n        return iFields.value.filter(it => it !== undefined).map(it => it.errors);\r\n      });\r\n      watch(() => props.currentStep, (value: number) => {\r\n        if (value !== null && value !== undefined) {\r\n          current.value = value;\r\n        }\r\n      }, {immediate: true});\r\n      watchEffect(() => errors.value);\r\n      return {\r\n        current,\r\n        store,\r\n        getStatus: (index, fields: FieldDefinition[]) => {\r\n          const fieldErrors = flat(fields.filter(it => it !== undefined).map(it => it.errors));\r\n          if (fieldErrors.length) {\r\n            return 'error';\r\n          }\r\n          if (current.value > index) {\r\n            return 'finish';\r\n          }\r\n          if (current.value === index) {\r\n            return 'process';\r\n          }\r\n          return 'wait';\r\n        }\r\n      };\r\n    },\r\n    render() {\r\n      const iFields = this.fieldDefinitions.map(it => this.store.fields[it.property]) as FieldDefinition[];\r\n      const fields = this.$slots.default();\r\n      const groups = (this.layout as number[]).map((n) => {\r\n        return fields.splice(0, n);\r\n      });\r\n      const iFieldGroups = (this.layout as number[]).map((n) => {\r\n        return iFields.splice(0, n);\r\n      });\r\n      return <div class=\"schema-form-steps-wrapper\">\r\n        <Steps\r\n          class=\"schema-form-steps\"\r\n          v-model={[this.current, 'value']}>\r\n          {\r\n            (this.layout as number[]).map((n, index) => {\r\n              return <Steps.Step\r\n                status={\r\n                  this.getStatus(index, iFieldGroups[index])\r\n                }\r\n                title={this.titles[index]}/>;\r\n            })\r\n          }\r\n        </Steps>\r\n        {\r\n          groups.map((n, index) => {\r\n            return <div style={{\r\n              display: index === this.current ? 'block' : 'none'\r\n            }}>\r\n              {n}\r\n            </div>;\r\n          })\r\n        }\r\n        {\r\n          <div class=\"schema-form-steps-operations\">\r\n            <a-button\r\n              class=\"prev-step\"\r\n              disabled={this.current <= 0}\r\n              onClick={() => {\r\n                if (this.current > 0) {\r\n                  this.current = this.current - 1;\r\n                }\r\n              }}>上一步\r\n            </a-button>\r\n            <a-button\r\n              class=\"next-step\"\r\n              disabled={this.current >= this.layout.length - 1}\r\n              onClick={() => {\r\n                const fields = iFieldGroups[this.current];\r\n                Promise.all(fields.map(it => it.validate())).then(data => {\r\n                  if (!data.some(it => it && (it as string[]).length) && this.current < this.layout.length - 1) {\r\n                    this.current = this.current + 1;\r\n                  }\r\n                });\r\n              }}>下一步\r\n            </a-button>\r\n          </div>\r\n        }\r\n      </div>;\r\n    }\r\n  }\r\n);\r\n","import {baseLayoutProps} from './base-layout';\r\nimport {defineComponent} from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'TableLayout',\r\n  props: {\r\n    ...baseLayoutProps\r\n  },\r\n  render() {\r\n    return <table>\r\n        {this.$slots.default().map(row => {\r\n          return <tr>\r\n            {row}\r\n          </tr>;\r\n        })}\r\n    </table>;\r\n  }\r\n});\r\n","import {defineComponent} from 'vue';\r\nimport './text-box.less';\r\n\r\nexport default defineComponent({\r\n  name: 'TextBox',\r\n  props: {\r\n    layout: {type: String, required: true}\r\n  },\r\n  setup(props, {slots}) {\r\n    const getContent = () => {\r\n      const layout = props.layout as any;\r\n      let array = [];\r\n      const fields = slots.default();\r\n      const copyFields = [...fields];\r\n      if (layout) {\r\n        const split = layout.split('%s');\r\n        split.forEach((item) => {\r\n          if (item.length) {\r\n            array.push(<span class=\"vf-layout-text-box--text\">{item}</span>);\r\n          }\r\n          array.push(copyFields.splice(0, 1));\r\n        });\r\n      }\r\n      if (copyFields.length) {\r\n        array = array.concat(copyFields);\r\n      }\r\n      return array;\r\n    };\r\n    return {getContent};\r\n  },\r\n  render() {\r\n    const content = this.getContent();\r\n    return <div class=\"vf-layout-text-box\">{content}</div>;\r\n  }\r\n});\r\n","import {Component} from 'vue';\r\nimport {ArrayMode, FieldDefinition, LayoutOptions, Platform} from '../../../types';\r\nimport {registerComponent} from '../config';\r\nimport {DESKTOP, MOBILE} from '../utils/utils';\r\nimport Card from './card';\r\nimport FormBlock from './form-block';\r\nimport GridLayout from './grid';\r\nimport StepsLayout from './steps';\r\nimport Table from './table';\r\nimport TextBox from './text-box';\r\n\r\n/**\r\n *\r\n * @param options\r\n */\r\nexport const registerLayout = (options: {\r\n  component: string | Component,\r\n  platforms: Platform | Platform[],\r\n  arrayMode?: ArrayMode,\r\n  types: string | string[],\r\n  layoutOptions?: LayoutOptions,\r\n  getProps?: ((definition: FieldDefinition, platform: Platform) => any)\r\n}) => {\r\n  registerComponent({\r\n    component: options.component,\r\n    platforms: options.platforms,\r\n    mode: 'layout',\r\n    arrayMode: options.arrayMode ?? 'both',\r\n    types: options.types,\r\n    layoutOptions: options.layoutOptions,\r\n    getProps: options.getProps\r\n  });\r\n};\r\n\r\nregisterLayout({\r\n  component: StepsLayout,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: 'steps',\r\n  layoutOptions: {\r\n    noTitle: true,\r\n    noWrap: true\r\n  }\r\n});\r\n\r\nregisterLayout({\r\n  component: GridLayout,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: 'grid',\r\n  layoutOptions: {\r\n    noTitle: true,\r\n    noWrap: true\r\n  }\r\n});\r\nregisterLayout({\r\n  component: Table,\r\n  platforms: DESKTOP,\r\n  arrayMode: 'array',\r\n  types: 'table'\r\n});\r\nregisterLayout({\r\n  component: FormBlock,\r\n  platforms: DESKTOP,\r\n  types: 'block',\r\n  arrayMode: 'array',\r\n  layoutOptions: {\r\n    noTitle: true,\r\n    noWrap: true\r\n  }\r\n});\r\nregisterLayout({\r\n  component: Card,\r\n  platforms: [DESKTOP],\r\n  types: ['card'],\r\n  layoutOptions: {\r\n    noTitle: true,\r\n    noWrap: true\r\n  }\r\n});\r\nregisterLayout({\r\n  component: TextBox,\r\n  platforms: [DESKTOP, MOBILE],\r\n  types: 'text-box'\r\n});\r\n","import {DeleteOutlined, DownOutlined, InfoCircleFilled, PlusOutlined, UpOutlined} from '@ant-design/icons-vue';\r\nimport {\r\n  Button,\r\n  Calendar,\r\n  Card,\r\n  Checkbox,\r\n  DatePicker,\r\n  Input,\r\n  List,\r\n  Modal,\r\n  Picker,\r\n  Popover,\r\n  Radio,\r\n  Slider,\r\n  Switch,\r\n  Textarea\r\n} from 'antd-mobile-vue-next';\r\nimport {config, FieldTypes, register, registerComponent, registerMobile, registerMobileLib, resolveOptions} from '../';\r\nimport {ILibComponents} from '../../../types';\r\n\r\nexport const ComponentMap: Record<keyof ILibComponents, any> = {\r\n  alert: null,\r\n  col: null,\r\n  content: null,\r\n  empty: null,\r\n  footer: null,\r\n  header: null,\r\n  layout: null,\r\n  row: null,\r\n  sider: null,\r\n  card: Card,\r\n  checkbox: Checkbox,\r\n  button: Button,\r\n  form: List,\r\n  formItem: List.Item,\r\n  popover: Popover,\r\n  icons: {\r\n    info: InfoCircleFilled,\r\n    up: UpOutlined,\r\n    down: DownOutlined,\r\n    delete: DeleteOutlined,\r\n    plus: PlusOutlined\r\n  },\r\n  input: Input,\r\n  select: null\r\n};\r\n\r\n\r\nexport function registerAntdMobile() {\r\n  console.debug('注册Ant Design Mobile Vue表单组件');\r\n  registerMobileLib(ComponentMap);\r\n  config.confirmFn.mobile = (content: string, title?: string) => {\r\n    return new Promise((resolve, reject) => {\r\n      Modal.confirm(\r\n        title, content\r\n      ).then(value => {\r\n        resolve(value);\r\n      }).catch(err => {\r\n        reject(err);\r\n      });\r\n    });\r\n  };\r\n  config.formItemPropTransform.mobile = (component, field) => {\r\n    const props: any = {};\r\n    props.help = field.errors.join('、');\r\n    if (props.help) {\r\n      props.hasFeedback = true;\r\n      props.validateStatus = 'error';\r\n    }\r\n    if (field.definition?.wrapperProps?.noTitle || !field?.definition?.title) {\r\n      props.colon = false;\r\n      props.required = false;\r\n    }\r\n    return props;\r\n  };\r\n  // todo\r\n  // registerMobile(ImagePicker, [FieldTypes.Picture, FieldTypes.File]);\r\n  registerMobile(Input, [FieldTypes.String, FieldTypes.Url], 'single',\r\n    () => ({textAlign: 'right'}));\r\n  registerMobile(Input, [FieldTypes.Number, FieldTypes.Integer], 'single',\r\n    () => ({type: 'number', textAlign: 'right'}));\r\n  registerMobile(Input, [FieldTypes.Double], 'single',\r\n    () => ({type: 'digit', textAlign: 'right'}));\r\n  registerMobile(Input, [FieldTypes.Password], 'single',\r\n    () => ({type: 'password'}));\r\n  // registerMobile(Range, [FieldTypes.Range], 'single');\r\n  registerMobile(Textarea, [FieldTypes.Text], 'single');\r\n  registerMobile(DatePicker.Item, [\r\n      FieldTypes.Date,\r\n      FieldTypes.Year,\r\n      FieldTypes.Month,\r\n      FieldTypes.Datetime],\r\n    'single', (definition) => ({mode: (definition.type as string).toLowerCase()}));\r\n  registerMobile(Calendar.Item, [FieldTypes.DateRange], 'single', () => ({type: 'range'}));\r\n  registerMobile(Calendar.Item, [FieldTypes.DateTimeRange], 'single', () => ({type: 'range', pickTime: true}));\r\n  registerMobile(Checkbox, FieldTypes.Checkbox, 'single');\r\n\r\n  registerComponent({\r\n    component: Switch.Item,\r\n    types: FieldTypes.Boolean,\r\n    platforms: 'mobile',\r\n    valueProp: 'checked'\r\n  });\r\n  registerComponent({\r\n    component: Button,\r\n    types: FieldTypes.Button,\r\n    mode: 'render',\r\n    platforms: 'mobile',\r\n    getProps: field => {\r\n      return {title: field.title};\r\n    },\r\n    wrap: false\r\n  });\r\n  registerMobile(Checkbox.List, FieldTypes.ExpandSelect, 'array', field => {\r\n    return {options: resolveOptions(field), multiple: true};\r\n  });\r\n  registerMobile(Radio.List, FieldTypes.ExpandSelect, 'single', field => {\r\n    return {options: resolveOptions(field)};\r\n  });\r\n  registerMobile(Picker.Item, FieldTypes.Transfer, 'single');\r\n  registerMobile(Checkbox.PopupList, FieldTypes.Select, 'array', field => {\r\n    return {options: resolveOptions(field), multiple: true};\r\n  });\r\n  registerMobile(Radio.PopupList, FieldTypes.Select, 'single', field => {\r\n    return {options: resolveOptions(field)};\r\n  });\r\n  register(Slider, 'mobile', FieldTypes.Range, 'single', () => {\r\n    return {range: true};\r\n  });\r\n}\r\n","import {defineComponent} from 'vue';\r\nimport {getDefaultEmptyText} from '../../';\r\n\r\nexport default defineComponent({\r\n  name: 'FileDisplay',\r\n  props: {\r\n    value: {\r\n      type: [Object, Array, String]\r\n    }\r\n  },\r\n  render() {\r\n    if (this.value) {\r\n      return this.value;\r\n    }\r\n    return getDefaultEmptyText();\r\n  }\r\n});\r\n","import {Rate} from 'ant-design-vue';\r\nimport {defineComponent} from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'RateDisplay',\r\n  props: {\r\n    value: {\r\n      type: Number\r\n    },\r\n    disabled: Boolean\r\n  },\r\n  render() {\r\n    const props = {value: this.value, disabled: true}\r\n    return <Rate {...props}/>;\r\n  }\r\n});\r\n","import {defineComponent, PropType} from 'vue';\r\nimport {getDefaultEmptyText} from '../../';\r\n\r\nexport default defineComponent({\r\n  name: 'TransferDisplay',\r\n  props: {\r\n    value: Array as PropType<Array<any>>,\r\n    dataSource: {type: Array as PropType<Array<any>>, default: () => ([])}\r\n  },\r\n  render() {\r\n    if (!this.value || this.value.length === 0) {\r\n      return getDefaultEmptyText();\r\n    }\r\n    return this.dataSource.filter(it => this.value.includes(it.key))\r\n      .map(it => it.title).join('、');\r\n  }\r\n});\r\n","import {defineComponent, ref, watch} from 'vue';\r\nimport {useBaseInput} from '../mixins';\r\n\r\nexport default defineComponent({\r\n  name: 'InputComp',\r\n  props: {\r\n    value: {type: [String, Number]}\r\n  },\r\n  emits: ['update:value'],\r\n  setup(props, ctx) {\r\n    const {size} = useBaseInput(props, ctx);\r\n    const localValue = ref(props.value);\r\n    const onUpdate = (value) => {\r\n      localValue.value = value;\r\n      ctx.emit('update:value', value);\r\n    };\r\n    watch(() => props.value, (value) => {\r\n      if (value !== localValue.value) {\r\n        localValue.value = value;\r\n      }\r\n    });\r\n    return {\r\n      size, localValue, onUpdate\r\n    };\r\n  },\r\n  render(ctx) {\r\n    const props = {\r\n      size: ctx.size,\r\n      ...ctx.$attrs,\r\n      ...ctx.$props,\r\n      value: this.localValue,\r\n      'onUpdate:value': this.onUpdate\r\n    };\r\n    return <a-input {...props} v-slots={this.$slots}/>;\r\n  }\r\n});\r\n","import {Transfer} from 'ant-design-vue';\r\nimport {defineComponent} from 'vue';\r\n\r\n\r\nexport default defineComponent({\r\n  name: 'Transfer',\r\n  props: {\r\n    value: Array\r\n  },\r\n  emits: ['update:value'],\r\n  render() {\r\n    const props: any = {\r\n      ...this.$attrs, targetKeys: this.value, onChange: (value) => {\r\n        this.$emit('update:value', value);\r\n      }\r\n    };\r\n    return <Transfer {...props}/>;\r\n  }\r\n});\r\n","export const part = <T>(obj: T, fields: Array<keyof T>): { [key in keyof T]?: unknown; } => {\r\n  type keys = keyof T;\r\n  const newObj: { [key in keys]?: unknown } = {};\r\n\r\n  fields.forEach(key => {\r\n    newObj[key] = obj[key];\r\n  });\r\n\r\n  return newObj;\r\n};\r\n\r\n","import {computed, PropType, ref, watch} from 'vue';\r\nimport {part} from '../utils/object';\r\n\r\ninterface SimpleFile {\r\n  name?: string;\r\n  url?: string;\r\n  size?: number;\r\n  type?: string;\r\n  uid?: string;\r\n}\r\n\r\nconst FILE_FIELDS = ['name', 'uid', 'size', 'type', 'url'];\r\n\r\nexport const baseUpdateProps = {\r\n  mode: String as PropType<'card' | 'dragger' | 'picture'>,\r\n  multiple: {type: Boolean, default: false},\r\n  valueType: {\r\n    type: String as PropType<'string' | 'object'>,\r\n    default: 'string'\r\n  },\r\n  value: [String, Object, Array] as PropType<string | SimpleFile | string[] | SimpleFile[]>\r\n};\r\nexport const useBaseUpload = (props, {emit}) => {\r\n  const fileList = ref([]);\r\n  const previewUrl = ref(null);\r\n  const localProps = computed(() => {\r\n    const obj: any = Object.assign({}, props);\r\n    if (props.mode === 'card') {\r\n      obj.listType = 'picture-card';\r\n    } else if (props.mode === 'dragger') {\r\n      obj.drag = true;\r\n      delete obj.listType;\r\n    } else if (props.mode) {\r\n      obj.listType = props.listType;\r\n    }\r\n    if (!obj.limit) {\r\n      if (!props.multiple) {\r\n        obj.limit = 1;\r\n      }\r\n    }\r\n    if (!obj.showFileList && props.mode === 'picture') {\r\n      obj.showFileList = false;\r\n    }\r\n    if (!obj.showUploadList && props.mode === 'picture') {\r\n      obj.showUploadList = false;\r\n    }\r\n    obj.multiple = props.multiple;\r\n    return obj;\r\n  });\r\n  watch(() => fileList.value, value => {\r\n    if (value.some(it => !it.url)) {\r\n      return;\r\n    }\r\n    let simpleValue = null;\r\n    if (props.multiple) {\r\n      simpleValue = value.map(it => {\r\n        return props.valueType === 'string' ? it.url : part(it, FILE_FIELDS) as SimpleFile;\r\n      });\r\n    } else {\r\n      if (value.length) {\r\n        simpleValue = props.valueType === 'string' ? value[0].url : part(value[0], FILE_FIELDS) as SimpleFile;\r\n      }\r\n    }\r\n    emit('update:value', simpleValue);\r\n  }, {deep: true});\r\n  watch(() => props.value, (value) => {\r\n    const urls = fileList.value?.map(it => it.url) ?? [];\r\n    if (props.multiple) {\r\n      if (!value || !value.length) {\r\n        fileList.value = [];\r\n      } else if (props.valueType === 'object') {\r\n        fileList.value = [...props.value];\r\n      } else {\r\n        value.forEach((v, index) => {\r\n          if (props.valueType === 'string') {\r\n            if (!urls.includes(v)) {\r\n              fileList.value.push({\r\n                url: v,\r\n                uid: `file-${index}`,\r\n                name: `file-${index}`\r\n              });\r\n            }\r\n          } else if (!urls.includes(v.url)) {\r\n            fileList.value.push(v);\r\n          }\r\n        });\r\n      }\r\n    } else if (!value) {\r\n      fileList.value = [];\r\n    } else if (props.valueType === 'string') {\r\n      if (!urls.includes(value)) {\r\n        fileList.value = [{\r\n          url: value,\r\n          uid: 'file-0',\r\n          name: 'file-0'\r\n        }];\r\n      }\r\n    } else if (!urls.includes(value.url)) {\r\n      fileList.value = [value];\r\n    }\r\n  }, {immediate: true});\r\n  return {\r\n    fileList,\r\n    previewUrl,\r\n    props: localProps\r\n  };\r\n};\r\n","import {PlusOutlined, UploadOutlined} from '@ant-design/icons-vue';\r\nimport {Upload} from 'ant-design-vue';\r\nimport {computed, defineComponent, ref} from 'vue';\r\nimport {useBaseInput} from '../';\r\nimport {AntUploadObject} from '../../../types';\r\nimport {baseUpdateProps, useBaseUpload} from '../common/base-upload';\r\nimport Button from './components/button';\r\nimport './upload.less';\r\n\r\nexport default defineComponent({\r\n  name: 'DUpload',\r\n  components: {\r\n    [Upload.name]: Upload,\r\n    [Upload.Dragger.name]: Upload.Dragger,\r\n    PlusOutlined: PlusOutlined as any, UploadOutlined\r\n  },\r\n  props: {\r\n    hint: String,\r\n    ...baseUpdateProps\r\n  },\r\n  emits: ['change', 'preview', 'update:value'],\r\n  setup(props, ctx) {\r\n    const {fileList} = useBaseUpload(props, ctx);\r\n    const previewVisible = ref(false);\r\n    const listType = computed(() => {\r\n      switch (props.mode) {\r\n        case 'picture':\r\n          return 'picture';\r\n        case 'card':\r\n          return 'picture-card';\r\n        default:\r\n          return 'text';\r\n      }\r\n    });\r\n    const uploadProps = Object.assign({}, ctx.attrs, props);\r\n    const {size} = useBaseInput(props, ctx);\r\n    const previewUrl = ref();\r\n    return {\r\n      size,\r\n      listType,\r\n      fileList,\r\n      uploadProps,\r\n      previewVisible,\r\n      previewUrl,\r\n      onChange(f: AntUploadObject) {\r\n        if (!props.multiple && fileList.value.length > 1) {\r\n          fileList.value = [f.file];\r\n        }\r\n        if (f.file.status && f.file.response?.code === 0) {\r\n          const file = f.fileList.find(it => it.uid === f.file.uid);\r\n          if (file) {\r\n            file.url = f.file.response.data.url;\r\n          }\r\n        }\r\n        ctx.emit('change', f);\r\n      },\r\n      onPreview(f) {\r\n        previewUrl.value = f.url;\r\n        previewVisible.value = true;\r\n        ctx.emit('preview', f);\r\n      },\r\n      cancelPreview() {\r\n        previewVisible.value = false;\r\n      }\r\n    };\r\n  },\r\n  render() {\r\n    if (this.mode === 'dragger') {\r\n      return <a-upload-dragger {...this.uploadProps}>\r\n        <div class={{disabled: this.$attrs.disabled}}>\r\n          <p class=\"ant-upload-drag-icon\">\r\n            <upload-outlined/>\r\n          </p>\r\n          <p class=\"ant-upload-text\">点击或者拖动文件到虚线框内上传</p>\r\n          <p class=\"ant-upload-hint\">{this.hint}</p>\r\n        </div>\r\n      </a-upload-dragger>;\r\n    } else {\r\n      let content = null;\r\n      if (this.listType === 'picture-card') {\r\n        if (this.multiple || this.fileList.length === 0) {\r\n          content = (\r\n              <div class=\"ant-upload-select-btn\">\r\n                <plus-outlined/>\r\n                <div class=\"ant-upload-text\">选择文件</div>\r\n              </div>\r\n          );\r\n        }\r\n      } else if (this.listType === 'picture') {\r\n        content = (\r\n          <div class=\"ant-upload-image-wrapper\">\r\n            {\r\n              this.fileList.length && this.fileList[0].url ? (\r\n                  <img src={this.fileList[0].url}\r\n                       alt=\"\"\r\n                       style=\"height: 100%;width: 100%;\"/>\r\n                )\r\n                : (\r\n                  <div class=\"ant-upload-plus\">\r\n                    <plus-outlined/>\r\n                  </div>\r\n                )\r\n            }\r\n          </div>\r\n        );\r\n      } else if (this.listType === 'text') {\r\n        content = (\r\n          <a-button\r\n            disabled={this.$attrs.disabled}\r\n            size={this.size}>选择文件\r\n          </a-button>\r\n        );\r\n      }\r\n      return (\r\n        <>\r\n          <a-upload {...this.uploadProps}\r\n                    listType={this.listType}\r\n                    v-model={[this.fileList, 'fileList']}\r\n                    onChange={this.onChange}\r\n                    onPreview={this.onPreview}\r\n                    size={this.size}>\r\n            {content}\r\n            {this.$slots.default?.()}\r\n          </a-upload>\r\n          <a-modal visible={this.previewVisible}\r\n                   footer={() => {\r\n                     return <Button type=\"primary\"\r\n                                    onClick={() => {\r\n                                      this.cancelPreview();\r\n                                    }}>确定</Button>;\r\n                   }}\r\n                   onCancel={() => {\r\n                     this.cancelPreview();\r\n                   }}>\r\n            <img alt=\"example\"\r\n                 style=\"width: 100%\"\r\n                 src={this.previewUrl}/>\r\n          </a-modal>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n});\r\n","import {DeleteOutlined, DownOutlined, InfoCircleFilled, PlusOutlined, UpOutlined} from '@ant-design/icons-vue';\r\nimport {\r\n  Alert,\r\n  AutoComplete,\r\n  Card,\r\n  Cascader,\r\n  Checkbox,\r\n  Col,\r\n  Empty,\r\n  Input,\r\n  InputNumber,\r\n  Layout,\r\n  Modal,\r\n  Popover,\r\n  Rate,\r\n  Row,\r\n  Slider,\r\n  Switch\r\n} from 'ant-design-vue';\r\nimport {App, Component} from 'vue';\r\nimport {\r\n  config,\r\n  FieldTypes,\r\n  register,\r\n  registerComponent,\r\n  registerDesktop,\r\n  registerDesktopLib,\r\n  registerDisplay,\r\n  resolveOptions\r\n} from '../';\r\nimport {ILibComponents, SchemaFormField} from '../../../types';\r\nimport DUrl from '../common/url';\r\nimport Button from './components/button';\r\nimport CheckboxGroup from './components/checkbox-group';\r\nimport DatePicker from './components/date-picker';\r\nimport Form from './components/form/form';\r\nimport Item from './components/form/item';\r\nimport RadioGroup from './components/radio-group';\r\nimport RangePicker from './components/range-picker';\r\nimport Select from './components/select';\r\nimport TimePicker from './components/time-picker';\r\nimport FileDisplay from './display/file';\r\nimport RateDisplay from './display/rate';\r\nimport TransferDisplay from './display/transfer';\r\nimport InputField from './input';\r\nimport Transfer from './transfer';\r\nimport AntdUpload from './upload';\r\nimport {createComponentProxy} from './utils';\r\n\r\nconst ComponentMap: Record<keyof ILibComponents, any> = {\r\n  card: Card,\r\n  checkbox: Checkbox,\r\n  empty: Empty,\r\n  select: Select,\r\n  input: Input,\r\n  button: Button,\r\n  row: Row,\r\n  col: Col,\r\n  form: Form,\r\n  formItem: Item,\r\n  alert: Alert,\r\n  layout: Layout,\r\n  header: Layout.Header,\r\n  footer: Layout.Footer,\r\n  sider: Layout.Sider,\r\n  content: Layout.Content,\r\n  popover: Popover,\r\n  icons: {\r\n    info: InfoCircleFilled,\r\n    up: UpOutlined,\r\n    down: DownOutlined,\r\n    delete: DeleteOutlined,\r\n    plus: PlusOutlined\r\n  }\r\n};\r\n\r\n\r\nfunction getTransferOptions(array) {\r\n  return array.map((item: any) => {\r\n    if (typeof item === 'string') {\r\n      return {key: item, title: item};\r\n    } else {\r\n      return {\r\n        key: (item.key || item.value).toString(),\r\n        title: item.title || item.label,\r\n        description: item.description || item.label,\r\n        disabled: !!item.disabled\r\n      };\r\n    }\r\n  });\r\n}\r\n\r\nconst transferPropsTransform = (def: SchemaFormField) => {\r\n  if (typeof def.enum === 'function') {\r\n    const result = def.enum();\r\n    if (Array.isArray(result)) {\r\n      return {dataSource: getTransferOptions(result), render: (item) => item.title};\r\n    }\r\n    if (result.then) {\r\n      result.then(data => {\r\n        def.props.dataSource = getTransferOptions(data);\r\n      });\r\n    }\r\n    return {render: (item) => item.title};\r\n  } else if (typeof def.enum === 'object' && def.enum['then']) {\r\n    def.enum['then'](data => {\r\n      def.props.dataSource = getTransferOptions(data);\r\n    });\r\n    return {render: (item) => item.title};\r\n  }\r\n  const dataSource = def.props?.dataSource || getTransferOptions(def.enum || []);\r\n  return {dataSource, render: (item) => item.title};\r\n};\r\n\r\nexport function registerAntd() {\r\n  console.debug('注册Ant Design Vue表单组件');\r\n  registerDesktopLib(ComponentMap);\r\n  config.confirmFn.desktop = (content: string, title?: string) => {\r\n    return new Promise((resolve, reject) => {\r\n      Modal.confirm({\r\n        content,\r\n        title,\r\n        onCancel: () => {\r\n          reject();\r\n        },\r\n        onOk: () => {\r\n          resolve(undefined);\r\n        }\r\n      });\r\n    });\r\n  };\r\n  config.formItemPropTransform.desktop = (component: Component, field) => {\r\n    const props: any = {};\r\n    if (field.errors.length) {\r\n      props.help = field.errors.join('、');\r\n      props.validateStatus = 'error';\r\n    } else if (field.description) {\r\n      props.help = field.description;\r\n    }\r\n    if (props.help) {\r\n      props.hasFeedback = true;\r\n    }\r\n    if (field.definition?.wrapperProps?.noTitle || !field?.definition?.title) {\r\n      props.colon = false;\r\n      props.required = false;\r\n    }\r\n    return props;\r\n  };\r\n  registerDisplay({\r\n    component: FileDisplay,\r\n    platforms: 'desktop',\r\n    types: [FieldTypes.File, FieldTypes.Picture]\r\n  });\r\n  registerDisplay({\r\n    component: TransferDisplay,\r\n    platforms: 'desktop',\r\n    types: FieldTypes.Transfer,\r\n    getProps: transferPropsTransform\r\n  });\r\n  registerDisplay({\r\n    component: RateDisplay,\r\n    platforms: 'desktop',\r\n    types: FieldTypes.Rate\r\n  });\r\n  registerDesktop(createComponentProxy(Input.Password), [FieldTypes.Password], 'single');\r\n  registerComponent({\r\n    component: AntdUpload,\r\n    arrayMode: 'both',\r\n    types: FieldTypes.Picture,\r\n    platforms: 'desktop',\r\n    getProps: definition => {\r\n      return {multiple: definition.array, mode: 'picture'};\r\n    }\r\n  });\r\n  registerDesktop(createComponentProxy(TimePicker),\r\n      [FieldTypes.Time],\r\n      'single', (definition) => ({mode: (definition.type as string).toLowerCase()}));\r\n  registerComponent({\r\n    component: AutoComplete,\r\n    platforms: 'desktop',\r\n    types: [FieldTypes.AutoComplete]\r\n  });\r\n  registerComponent({\r\n    component: TimePicker.RangePicker,\r\n    platforms: 'desktop',\r\n    types: [FieldTypes.TimeRange]\r\n  });\r\n  registerComponent({\r\n    component: AntdUpload,\r\n    arrayMode: 'both',\r\n    types: FieldTypes.File,\r\n    platforms: 'desktop',\r\n    getProps: definition => {\r\n      return {multiple: definition.array};\r\n    }\r\n  });\r\n  registerDesktop(createComponentProxy(RangePicker), [FieldTypes.DateRange], 'single');\r\n  registerDesktop(createComponentProxy(InputField), [FieldTypes.String], 'single');\r\n  registerDesktop(createComponentProxy(Input.TextArea), [FieldTypes.Text], 'single');\r\n  registerDesktop(createComponentProxy(DatePicker),\r\n      [FieldTypes.Date, FieldTypes.Year, FieldTypes.Month, FieldTypes.Datetime],\r\n      'single', (definition) => ({mode: (definition.type as string).toLowerCase()}));\r\n  registerDesktop(createComponentProxy(TimePicker), [FieldTypes.Time], 'single',\r\n      (definition) => ({mode: (definition.type as string).toLowerCase()}));\r\n  registerDesktop(createComponentProxy(InputNumber), [FieldTypes.Double, FieldTypes.Integer, FieldTypes.Number], 'single');\r\n  registerComponent({\r\n    component: createComponentProxy(Checkbox),\r\n    types: FieldTypes.Checkbox,\r\n    platforms: 'desktop',\r\n    valueProp: 'checked'\r\n  });\r\n  registerComponent({\r\n    component: createComponentProxy(Switch),\r\n    types: FieldTypes.Boolean,\r\n    platforms: 'desktop',\r\n    valueProp: 'checked'\r\n  });\r\n  registerDesktop(createComponentProxy(DUrl), FieldTypes.Url, 'single', (def, platform) => {\r\n    return {\r\n      platform\r\n    };\r\n  });\r\n  registerDesktop(createComponentProxy(Select), FieldTypes.Select, 'both', field => {\r\n    return {\r\n      dropdownMatchSelectWidth: false,\r\n      mode: field.array ? 'multiple' : field.props?.mode,\r\n      options: resolveOptions(field as any)\r\n    };\r\n  });\r\n  registerComponent({\r\n    component: createComponentProxy(Button),\r\n    types: FieldTypes.Button,\r\n    platforms: 'desktop',\r\n    mode: 'render',\r\n    getProps: field => {\r\n      return {title: field.title};\r\n    },\r\n    wrap: false\r\n  });\r\n\r\n  registerDesktop(createComponentProxy(Cascader), FieldTypes.Cascader, 'single', field => {\r\n    return {options: resolveOptions(field)};\r\n  });\r\n  registerDesktop(createComponentProxy(CheckboxGroup), FieldTypes.ExpandSelect, 'array', field => {\r\n    return {options: resolveOptions(field)};\r\n  });\r\n  registerDesktop(createComponentProxy(RadioGroup), FieldTypes.ExpandSelect, 'single', field => {\r\n    return {options: resolveOptions(field)};\r\n  });\r\n  registerDesktop(createComponentProxy(Rate), FieldTypes.Rate);\r\n  registerDesktop(createComponentProxy(Transfer), FieldTypes.Transfer, 'single', transferPropsTransform);\r\n  register(createComponentProxy(Slider), 'desktop',\r\n      FieldTypes.Range, 'single', () => {\r\n    return {range: true};\r\n  });\r\n}\r\n\r\nexport default (app: App) => {\r\n  app.component(Form.name, Form);\r\n  app.component(Item.name, Item);\r\n}\r\n","import {App} from 'vue';\r\nimport {CheckboxGroup, Form, FormItem, RadioGroup} from './antd/components';\r\nimport DUrl from './common/url';\r\nimport {config} from './config';\r\nimport './display/register';\r\nimport SchemaForm from './form';\r\nimport SchemaFormField from './internal/field';\r\nimport './layout/register';\r\nimport './styles/fix.less';\r\nimport './styles/style.less';\r\n\r\nSchemaForm.Field = SchemaFormField;\r\n\r\nSchemaForm.install = (app) => {\r\n  app.component('VSchemaForm', SchemaForm);\r\n  app.component('VSchemaFormField', SchemaForm.field);\r\n};\r\n\r\nSchemaForm.config = config;\r\n\r\nexport {\r\n  DUrl\r\n};\r\n\r\nexport {\r\n  Button as DButton,\r\n  CheckboxGroup,\r\n  RadioGroup,\r\n  TimePicker as DTimePicker,\r\n  RangePicker as DRangePicker,\r\n  DatePicker as DDatePicker,\r\n  TimeRangePicker as DTimeRangePicker,\r\n  Form as DForm,\r\n  FormItem as DFormItem,\r\n  Select as DSelect\r\n} from './antd/components';\r\n\r\nexport {SchemaFormStoreKey} from './utils/key';\r\n\r\nexport {registerAntdMobile} from './antdm/register';\r\nexport {registerAntd} from './antd';\r\nexport {registerDesktopLib, resolveOptions, FieldTypes, registerMobileLib} from './utils/utils';\r\nexport {MobileDisplayField} from './display/mobile-display-field';\r\nexport {\r\n  registerDesktop,\r\n  register,\r\n  registerDisplay,\r\n  registerMobile,\r\n  registerResponsiveComponent\r\n} from './utils/register';\r\nexport {registerComponent} from './config';\r\nexport * from './common/base-button';\r\nexport * from './common/base-url';\r\nexport * from './common/base-upload';\r\nexport * from './config';\r\nexport * from './mixins';\r\nexport {SchemaFormEvents} from './internal/utils';\r\n\r\nSchemaForm.install = (app: App) => {\r\n  app.component(Form.name, Form);\r\n  app.component(FormItem.name, FormItem);\r\n  app.component(CheckboxGroup.name, CheckboxGroup);\r\n  app.component(RadioGroup.name, RadioGroup);\r\n  app.component(DUrl.name, DUrl);\r\n  app.component(SchemaForm.name, SchemaForm);\r\n};\r\n\r\nexport default SchemaForm as typeof SchemaForm & {\r\n  install: (app) => void;\r\n};\r\n","import {defineComponent} from 'vue';\r\nimport {getInputComponent, getSelectComponent} from '../internal/utils';\r\nimport {baseUrlProps, useBaseUrl} from './base-url';\r\nimport './url.less';\r\n\r\nexport default defineComponent({\r\n  name: 'DUrl',\r\n  props: {\r\n    ...baseUrlProps\r\n  },\r\n  setup(props, ctx) {\r\n    return {\r\n      ...useBaseUrl(props, ctx)\r\n    };\r\n  },\r\n  render() {\r\n    const Select = getSelectComponent(this.platform);\r\n    const Input = getInputComponent(this.platform);\r\n    const inputProps = {\r\n      [this.valueProp]: this.domain,\r\n      ['onUpdate:' + this.valueProp]: value => {\r\n        this.domain = value;\r\n      }\r\n    };\r\n    return (\r\n        <div class=\"d-url-input\">\r\n          <div>\r\n            <Select v-model={[this.protocol, this.valueProp]}\r\n                    disabled={this.disabled}\r\n                    options={this.options}\r\n                    size={this.size}\r\n                    class=\"protocol-select\"\r\n                    placeholder=\"请选择\">\r\n            </Select>\r\n            <Input {...inputProps}\r\n                   disabled={this.disabled}\r\n                   class=\"input-with-select\"\r\n                   size={this.size}\r\n                   placeholder=\"请输入内容\"\r\n                   style=\"display:block\">\r\n            </Input>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n});\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=4684d1f2&lang=less\"","import {computed} from 'vue';\r\n\r\nexport const getOptionProperty = function getOptionProperty(option: any, property: string | ((option: any) => any)): any {\r\n  if (typeof option === 'string') {\r\n    return option;\r\n  } else if (typeof property === 'string') {\r\n    return option[property];\r\n  } else if (typeof property === 'function') {\r\n    return property(option);\r\n  }\r\n};\r\nexport const useOptions = (props) => {\r\n  const options = computed(() => {\r\n    if (props.options) {\r\n      return props.options.map(option => {\r\n        const op: any = Object.assign({}, option);\r\n        op.label = getOptionProperty(option, props.labelProperty);\r\n        op.value = getOptionProperty(option, props.valueProperty);\r\n        return op;\r\n      });\r\n    } else {\r\n      return null;\r\n    }\r\n  });\r\n  return {options};\r\n};\r\n","export const SchemaFormStoreKey = 'schemaFormStore';\r\nexport const SchemaFormFieldOperationStoreKey = Symbol('SchemaFormFieldOperationStore');\r\nexport const SchemaFormObjectStoreKey = Symbol('SchemaFormObjectStoreKey');\r\n","import {computed, getCurrentInstance, inject} from 'vue';\r\nimport {SchemaFormStore} from '../../../types';\r\nimport {SchemaFormStoreKey} from '../utils/key';\r\n\r\nexport const useBaseInput = (props: any, ctx) => {\r\n  const instance = getCurrentInstance();\r\n  const store: SchemaFormStore = inject(SchemaFormStoreKey, undefined);\r\n  const form: any = inject('form', undefined);\r\n  const formField: any = inject('formField', undefined);\r\n  if (formField) {\r\n    formField.setControl(instance);\r\n  }\r\n  const size = computed(() => {\r\n    return form?.value?.size ?? store?.props?.size;\r\n  });\r\n  const field = props.field || ctx.attrs.field;\r\n  const editable = computed(() => {\r\n    return store.editable && field.editable;\r\n  });\r\n  const disabled = computed(() => {\r\n    return (props.disabled || ctx.attrs.disabled || form?.value?.disabled || store?.loading) ?? false;\r\n  });\r\n  return {\r\n    store, field, editable, disabled, form, size, formField\r\n  };\r\n};\r\n","import {FieldDefinition} from '../internal/utils';\r\nimport {SchemaFormField} from '../../../types';\r\nimport {Paths} from '../../../types';\r\nimport {flat} from './array';\r\n\r\nconst CACHE = {};\r\n\r\nexport const PATH_SEPARATOR = '.';\r\n\r\nexport const splitPath = (path: string): string[] => {\r\n  if (CACHE[path]) {\r\n    return CACHE[path];\r\n  } else {\r\n    return path.split(PATH_SEPARATOR);\r\n  }\r\n};\r\n\r\nexport function match(paths: Paths, fields: { [key: string]: FieldDefinition }): string[] {\r\n  return flat(paths.map(it => {\r\n    if (typeof it === 'string') {\r\n      return matchSinglePath(it, fields);\r\n    } else {\r\n      const field = findFieldPath(it, fields);\r\n      return field ? [field] : [];\r\n    }\r\n  }));\r\n}\r\n\r\nexport function findFieldPath(def: SchemaFormField, fields: { [key: string]: FieldDefinition }): string {\r\n  const field = Object.values(fields).find(it => it.id === def.id);\r\n  return field && field.plainPath;\r\n}\r\n\r\nexport function replaceLastPath(paths: string[], last: string[]): string[] {\r\n  return paths.map(it => {\r\n    const splits = splitPath(it);\r\n    splits.splice(splits.length - last.length, last.length, ...last);\r\n    return splits.join(PATH_SEPARATOR);\r\n  });\r\n}\r\n\r\nexport function appendPath(paths: string[], suffix: string): string[] {\r\n  if (paths) {\r\n    return paths.map(path => path + PATH_SEPARATOR + suffix);\r\n  } else {\r\n    return [suffix];\r\n  }\r\n}\r\n\r\nexport function takePath(paths: string[], to: number): string[] {\r\n  return paths.map(path => splitPath(path).slice(0, to).join(PATH_SEPARATOR));\r\n}\r\n\r\nexport function isPathMatchPatterns(field: FieldDefinition, patterns: string[]): boolean {\r\n  return patterns.some(it => isPathMatchPattern(field, it));\r\n}\r\n\r\nexport function isFuzzyPath(path: string | SchemaFormField) {\r\n  return typeof path === 'string' && (path.includes('*') || path.includes('?'));\r\n}\r\n\r\nfunction isPathMatchPattern(origin: FieldDefinition, pattern: string) {\r\n  if (isFuzzyPath(pattern)) {\r\n    return matchPath(splitPath(pattern), splitPath(origin.plainPath));\r\n  } else {\r\n    if (pattern.startsWith('#')) {\r\n      const id = pattern.substr(1);\r\n      return origin.id === id;\r\n    } else {\r\n      return origin.plainPath === pattern;\r\n    }\r\n  }\r\n}\r\n\r\nexport function matchSinglePath(path: string, fields: { [key: string]: FieldDefinition }): string[] {\r\n  if (isFuzzyPath(path)) {\r\n    if (path.startsWith('#')) {\r\n      throw new Error('ID匹配不允许包含模糊匹配字符');\r\n    }\r\n    const sp = splitPath(path);\r\n    return Object.keys(fields).filter(it => matchPath(sp, splitPath(it)));\r\n  } else {\r\n    if (path.startsWith('#')) {\r\n      const id = path.substr(1);\r\n      return Object.keys(fields).filter(p => fields[p].id === id);\r\n    }\r\n    if (fields[path]) {\r\n      return [path];\r\n    }\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction matchPath(origin: string[], path: string[]): boolean {\r\n  if (origin.length) {\r\n    if (origin[0] === path[0] || (origin[0] === '?' && !!path[0])) {\r\n      return matchPath(origin.slice(1), path.slice(1));\r\n    } else {\r\n      return origin.length === 1 && (origin[0] === '*' && path.length > 0);\r\n    }\r\n  } else if (origin.length === 0 && path.length === 0) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n","module.exports = moment;","import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"code-editor\", 'code-editor-' + _ctx.mode])\n  }, [\n    _createElementVNode(\"textarea\", {\n      ref: \"elRef\",\n      style: _normalizeStyle(_ctx.textAreaStyle),\n      value: _ctx.value\n    }, null, 12, _hoisted_1)\n  ], 2))\n}","'use strict';\r\n\r\nimport cssbeautify from 'cssbeautify';\r\nimport {prettyPrint as html} from 'html';\r\nimport {js_beautify as jsBeautify} from 'js-beautify';\r\n\r\nconst clean = (data: any) => {\r\n  if (~['\"', '\\''].indexOf(data[0]) &&\r\n      ~['\"', '\\''].indexOf(data[data.length - 1]) &&\r\n      data[0] === data[data.length - 1]\r\n  ) {\r\n    return data.substring(1, data.length - 1);\r\n  }\r\n  return data;\r\n};\r\n\r\nconst beautify = (data: string, o: any) => {\r\n  let copyData = data;\r\n  if (!copyData || !copyData.length) {\r\n    return '';\r\n  }\r\n  copyData = clean(copyData.trim());\r\n  switch (o.format) {\r\n    case 'css':\r\n      return cssbeautify(copyData, {\r\n        indent: '    ',\r\n        autosemicolon: true\r\n      });\r\n    case 'json':\r\n      return jsBeautify(copyData, {\r\n        indent_size: 2\r\n      });\r\n    case 'js':\r\n      return jsBeautify(copyData, {\r\n        indent_size: 2\r\n      });\r\n    case 'html':\r\n      return html(copyData, {\r\n        indent_size: 2\r\n      });\r\n    case 'xml':\r\n      return html(copyData, {\r\n        indent_size: 2\r\n      });\r\n  }\r\n};\r\nexport default beautify;\r\n","\r\n  import CodeMirror, {EditorConfiguration} from 'codemirror';\r\n  import 'codemirror/addon/hint/show-hint';\r\n  import 'codemirror/lib/codemirror.css';\r\n  import 'codemirror/mode/javascript/javascript';\r\n  import 'codemirror/mode/htmlmixed/htmlmixed';\r\n  import 'codemirror/theme/blackboard.css';\r\n  import {defineComponent, nextTick, onMounted, PropType, ref, shallowRef} from 'vue';\r\n  import beautify from '../utils/beautify';\r\n\r\n  const types = {\r\n    html: 'text/html',\r\n    javascript: 'text/javascript',\r\n    typescript: 'text/typescript',\r\n    json: 'application/ld+json',\r\n    kotlin: 'text/x-kotlin',\r\n    nginx: 'text/x-nginx-conf',\r\n    powershell: 'application/x-powershell',\r\n    python: 'text/x-python',\r\n    shell: 'application/x-sh',\r\n    yaml: 'text/x-yaml'\r\n  };\r\n\r\n  export default defineComponent({\r\n    name: 'CodeEditor',\r\n    props: {\r\n      beautify: {type: Boolean, default: false},\r\n      config: {\r\n        type: Object as PropType<EditorConfiguration>\r\n      },\r\n      editable: {type: Boolean, default: true},\r\n      getHints: {\r\n        type: Function\r\n      },\r\n      /**\r\n       * 编辑区高度\r\n       */\r\n      height: String,\r\n      /**\r\n       * 是否显示代码提示\r\n       */\r\n      hint: {type: Boolean, default: false},\r\n      /**\r\n       * 代码类型（同codemirror的mode）\r\n       * 'json' | 'shell' | 'powershell' | 'python' | 'javascript' | 'kotlin' | 'html' | 'nginx' | string\r\n       */\r\n      mode: String,\r\n      /**\r\n       * 主题\r\n       */\r\n      theme: {type: String, default: 'blackboard'},\r\n      /**\r\n       * 编辑的内容，支持v-model\r\n       */\r\n      value: String,\r\n      /**\r\n       * 编辑区域宽度，默认自动\r\n       */\r\n      width: String\r\n    },\r\n    emits: ['update:value'],\r\n    setup(props, {slots}) {\r\n\r\n      const getRealMode = () => types[props.mode] || props.mode || 'application/ld+json';\r\n      /*\r\n       * 如果这里使用了ref，将导致代码提示框无法正常关闭\r\n       * 在show-hint.js的第90行，this.cm.state.completionActive == this;\r\n       * 在使用ref的情况下，this.cm.state.completionActive将是一个代理对象，导致这个判断永远为false，\r\n       */\r\n      const viewer = shallowRef<CodeMirror.EditorFromTextArea>(null);\r\n      const elRef = ref(null);\r\n\r\n      const getValue = () => {\r\n        if (props.value) {\r\n          if (props.beautify) {\r\n            return beautify(props.value, {format: props.mode || 'json'});\r\n          }\r\n          return props.value.trim();\r\n        }\r\n        if (slots.default) {\r\n          const content = slots.default()[0].children;\r\n          if (typeof content === 'string') {\r\n            return content.trim();\r\n          }\r\n        }\r\n        return '';\r\n      };\r\n      const create = () => {\r\n        let config = {\r\n          size: [props.width || 'auto', props.height || 'auto']\r\n        };\r\n        if (props.config) {\r\n          config = Object.assign({}, config, props.config);\r\n        }\r\n        const text = getValue();\r\n        const defaultConfig: EditorConfiguration = {\r\n          extraKeys: {Alt: 'autocomplete'},\r\n          indentWithTabs: false,\r\n          lineNumbers: true,\r\n          lineWrapping: false,\r\n          mode: {\r\n            globalVars: true,\r\n            name: getRealMode()\r\n          } as any,\r\n          readOnly: !props.editable,\r\n          tabSize: 2,\r\n          theme: props.theme,\r\n          value: text\r\n        };\r\n        viewer.value = CodeMirror.fromTextArea(elRef.value as HTMLTextAreaElement, Object.assign(defaultConfig, config));\r\n        if (config.size) {\r\n          viewer.value.setSize(config.size[0], config.size[1]);\r\n        }\r\n        viewer.value.setValue(text);\r\n        viewer.value.refresh();\r\n      };\r\n      onMounted(() => {\r\n        create();\r\n      });\r\n      const refresh = () => {\r\n        nextTick().then(() => {\r\n          viewer.value.refresh();\r\n        });\r\n      };\r\n      return {\r\n        elRef,\r\n        refresh,\r\n        textAreaStyle: {\r\n          display: 'none'\r\n        }\r\n      };\r\n    }\r\n  });\r\n","import { render } from \"./code-editor.vue?vue&type=template&id=5de8b00a&ts=true\"\nimport script from \"./code-editor.vue?vue&type=script&lang=ts\"\nexport * from \"./code-editor.vue?vue&type=script&lang=ts\"\n\nimport \"./code-editor.vue?vue&type=style&index=0&id=5de8b00a&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace_web\\\\v-schema-form-next\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"wrapper\" }\n\nimport {useSlots} from 'vue';\r\n  import CodeEditor from './code-editor.vue';\r\n\r\n  \nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\r\n  const slots = useSlots();\r\n\r\n  const code = slots.default?.()?.[0]?.children;\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(CodeEditor, {\n      value: _unref(code),\n      height: \"auto\"\n    }, null, 8, [\"value\"])\n  ]))\n}\n}\n\n})","import script from \"./code-container.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./code-container.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./code-container.vue?vue&type=style&index=0&id=4ff43cb0&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-52917708\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"demo-box\" }\nconst _hoisted_2 = { class: \"demo-box-demo\" }\nconst _hoisted_3 = { class: \"demo-box-actions\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = { key: 0 }\n\nimport {CodepenOutlined, CodepenCircleOutlined} from '@ant-design/icons-vue';\r\n  import {ref} from 'vue';\r\n\r\n  \nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\r\n  // noinspection ES6UnusedImports\r\n  const showCode = ref(false);\r\n\r\n  const toggle = () => {\r\n    showCode.value = !showCode.value;\r\n  };\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"a\", {\n        title: showCode.value ? '收起代码' : '查看代码',\n        onClick: toggle\n      }, [\n        (showCode.value)\n          ? (_openBlock(), _createBlock(_unref(CodepenCircleOutlined), { key: 0 }))\n          : (_openBlock(), _createBlock(_unref(CodepenOutlined), { key: 1 }))\n      ], 8, _hoisted_4)\n    ]),\n    (showCode.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _renderSlot(_ctx.$slots, \"code\")\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./demo-wrapper.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./demo-wrapper.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./demo-wrapper.vue?vue&type=style&index=0&id=52917708&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace_web\\\\v-schema-form-next\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-52917708\"]])\n\nexport default __exports__","<template>\r\n  <router-view/>\r\n</template>\r\n","import { render } from \"./index.vue?vue&type=template&id=4655df9e\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\workspace_web\\\\v-schema-form-next\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {RouteRecordRaw} from 'vue-router';\r\n\r\nexport interface MenuItem {\r\n  id: string;\r\n  name: string;\r\n  path: string;\r\n  children: Array<MenuItem>;\r\n}\r\n\r\nexport const resolveMenus = (routes: RouteRecordRaw[]): MenuItem[] => {\r\n  const menus: MenuItem[] = [];\r\n  routes.forEach(route => {\r\n    menus.push({\r\n      id: route.path,\r\n      name: route.meta.name as string,\r\n      path: route.path,\r\n      children: resolveMenus(route.children || [])\r\n    });\r\n  });\r\n  return menus;\r\n}\r\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_sub_menu = _resolveComponent(\"sub-menu\", true)!\n  const _component_a_sub_menu = _resolveComponent(\"a-sub-menu\")!\n  const _component_a_menu_item = _resolveComponent(\"a-menu-item\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menus, (item, key) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: key }, [\n      (item.children && item.children.length)\n        ? (_openBlock(), _createBlock(_component_a_sub_menu, {\n            key: item.path,\n            title: item.name\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.title) + \" \", 1),\n              _createVNode(_component_sub_menu, {\n                menus: item.children\n              }, null, 8, [\"menus\"])\n            ]),\n            _: 2\n          }, 1032, [\"title\"]))\n        : (_openBlock(), _createBlock(_component_a_menu_item, {\n            key: item.path,\n            onClick: ($event: any) => (_ctx.to(item.path))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(item.name), 1)\n            ]),\n            _: 2\n          }, 1032, [\"onClick\"]))\n    ], 64))\n  }), 128))\n}","\r\n  import {defineComponent} from 'vue';\r\n  import {useRouter} from 'vue-router';\r\n\r\n  export default defineComponent({\r\n    name: 'SubMenu',\r\n    props: {\r\n      menus: Array,\r\n      title: [String, Object]\r\n    },\r\n    setup() {\r\n      const router = useRouter();\r\n      return {\r\n        to(path: string) {\r\n          return router.push(path);\r\n        }\r\n      };\r\n    }\r\n  });\r\n","import { render } from \"./sub-menu.vue?vue&type=template&id=0539f782&ts=true\"\nimport script from \"./sub-menu.vue?vue&type=script&lang=ts\"\nexport * from \"./sub-menu.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\workspace_web\\\\v-schema-form-next\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {defineComponent, ref} from 'vue';\r\nimport {useRouter} from 'vue-router';\r\nimport {resolveMenus} from '../utils/menu';\r\nimport SubMenu from './sub-menu.vue';\r\n\r\nexport default (routes) => {\r\n  return defineComponent({\r\n    name: 'DocNav',\r\n    setup() {\r\n      const router = useRouter();\r\n      const openKeys = ref([]);\r\n      const menus = resolveMenus(routes);\r\n      return {\r\n        openKeys,\r\n        menus,\r\n        to(path: string) {\r\n          return router.push(path);\r\n        }\r\n      };\r\n    },\r\n    render() {\r\n      return (\r\n          <a-menu\r\n              openKeys={this.openKeys}\r\n              mode=\"inline\">\r\n            {\r\n              this.menus.map((item) => {\r\n                if (item.children.length) {\r\n                  return (\r\n                      <a-sub-menu\r\n                          key={item.path}\r\n                          title={item.name}>\r\n                        <SubMenu\r\n                            menus={item.children}\r\n                            title={item.path}>\r\n                        </SubMenu>\r\n                      </a-sub-menu>\r\n                  );\r\n                } else {\r\n                  return (\r\n                      <a-menu-item\r\n                          key={item.path}\r\n                          onClick={() => {\r\n                            this.to(item.path);\r\n                          }}>\r\n                        {item.name}\r\n                      </a-menu-item>\r\n                  );\r\n                }\r\n              })\r\n            }\r\n          </a-menu>\r\n      );\r\n    }\r\n  });\r\n};\r\n","import {RouteRecordRaw} from 'vue-router';\r\nimport RootComponent from '../components/root.vue';\r\n\r\nexport default [{\n  path: '/components/URL',\n  component: () => import('../generated/components/URL/index.vue'),\n  meta: {\n    tags: [],\n    name: 'URL'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/components/xialakuang',\n  component: () => import('../generated/components/xialakuang/index.vue'),\n  meta: {\n    tags: [],\n    name: '下拉框'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/components/tupian',\n  component: () => import('../generated/components/tupian/index.vue'),\n  meta: {\n    tags: [],\n    name: '图片'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/components/fuxuankuang',\n  component: () => import('../generated/components/fuxuankuang/index.vue'),\n  meta: {\n    tags: [],\n    name: '复选框'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/components/anniu',\n  component: () => import('../generated/components/anniu/index.vue'),\n  meta: {\n    tags: [],\n    name: '按钮'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/components/wenjian',\n  component: () => import('../generated/components/wenjian/index.vue'),\n  meta: {\n    tags: [],\n    name: '文件'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/components/shijianxuanzeqi',\n  component: () => import('../generated/components/shijianxuanzeqi/index.vue'),\n  meta: {\n    tags: [],\n    name: '时间选择器'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/components/wangge',\n  component: () => import('../generated/components/wangge/index.vue'),\n  meta: {\n    tags: [],\n    name: '网格'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/components/biaodan',\n  component: () => import('../generated/components/biaodan/index.vue'),\n  meta: {\n    tags: [],\n    name: '表单'\n  },\n  children: [\n    \n  ]\n}] as RouteRecordRaw[];\r\n","<template>\r\n  <router-view/>\r\n</template>\r\n","import { render } from \"./root.vue?vue&type=template&id=09758afd\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\workspace_web\\\\v-schema-form-next\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {RouteRecordRaw} from 'vue-router';\r\nimport RootComponent from '../components/root.vue';\r\n\r\nexport default [{\n  path: '/demo/AntDesignVue',\n  redirect: '/demo/AntDesignVue/jiandanchangjing',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: 'Ant Design Vue'\n  },\n  children: [\n    {\n  path: '/demo/AntDesignVue/jiandanchangjing',\n  component: () => import('../generated/demo/AntDesignVue/jiandanchangjing/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '简单场景'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/biaodanxiangqing',\n  component: () => import('../generated/demo/AntDesignVue/biaodanxiangqing/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '表单详情'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/biaodanliandong',\n  component: () => import('../generated/demo/AntDesignVue/biaodanliandong/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '表单联动'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/biaodanxiaoyan',\n  component: () => import('../generated/demo/AntDesignVue/biaodanxiaoyan/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '表单校验'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/biaodanliebiao',\n  component: () => import('../generated/demo/AntDesignVue/biaodanliebiao/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '表单列表'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/dongtaibiaodan',\n  component: () => import('../generated/demo/AntDesignVue/dongtaibiaodan/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '动态表单'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVue/zidingyizujian',\n  component: () => import('../generated/demo/AntDesignVue/zidingyizujian/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue'],\n    name: '自定义组件'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/AntDesignVueMobile',\n  redirect: '/demo/AntDesignVueMobile/jiandanbuju',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: 'Ant Design Vue Mobile'\n  },\n  children: [\n    {\n  path: '/demo/AntDesignVueMobile/jiandanbuju',\n  component: () => import('../generated/demo/AntDesignVueMobile/jiandanbuju/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '简单布局'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/xiangqingmoshi',\n  component: () => import('../generated/demo/AntDesignVueMobile/xiangqingmoshi/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '详情模式'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/shujuxiaoyan',\n  component: () => import('../generated/demo/AntDesignVueMobile/shujuxiaoyan/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '数据校验'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/fuzuoyonghanshu',\n  component: () => import('../generated/demo/AntDesignVueMobile/fuzuoyonghanshu/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '副作用函数'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/dongtaibiaodan',\n  component: () => import('../generated/demo/AntDesignVueMobile/dongtaibiaodan/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '动态表单'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/jiegoufuzhi',\n  component: () => import('../generated/demo/AntDesignVueMobile/jiegoufuzhi/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '解构赋值'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/AntDesignVueMobile/duixiangliebiao',\n  component: () => import('../generated/demo/AntDesignVueMobile/duixiangliebiao/index.vue'),\n  meta: {\n    tags: ['Ant Design Vue Mobile'],\n    name: '对象列表'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/Element',\n  redirect: '/demo/Element/liebiao',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: 'Element'\n  },\n  children: [\n    {\n  path: '/demo/Element/liebiao',\n  component: () => import('../generated/demo/Element/liebiao/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '列表'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/dongtaibiaodan',\n  component: () => import('../generated/demo/Element/dongtaibiaodan/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '动态表单'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/xiaoyan',\n  component: () => import('../generated/demo/Element/xiaoyan/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '校验'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/jiandanchangjing',\n  component: () => import('../generated/demo/Element/jiandanchangjing/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '简单场景'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/liandong',\n  component: () => import('../generated/demo/Element/liandong/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '联动'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/jiegou',\n  component: () => import('../generated/demo/Element/jiegou/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '解构'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/Element/xiangqing',\n  component: () => import('../generated/demo/Element/xiangqing/index.vue'),\n  meta: {\n    tags: ['Element'],\n    name: '详情'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/zibiaodan',\n  redirect: '/demo/zibiaodan/yidongduan',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: '子表单'\n  },\n  children: [\n    {\n  path: '/demo/zibiaodan/yidongduan',\n  component: () => import('../generated/demo/zibiaodan/yidongduan/index.vue'),\n  meta: {\n    tags: ['子表单'],\n    name: '移动端'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zibiaodan/bianji',\n  component: () => import('../generated/demo/zibiaodan/bianji/index.vue'),\n  meta: {\n    tags: ['子表单'],\n    name: '编辑'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/zibiaodan/xiangqing',\n  component: () => import('../generated/demo/zibiaodan/xiangqing/index.vue'),\n  meta: {\n    tags: ['子表单'],\n    name: '详情'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/buju',\n  redirect: '/demo/buju/fenbu',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: '布局'\n  },\n  children: [\n    {\n  path: '/demo/buju/fenbu',\n  component: () => import('../generated/demo/buju/fenbu/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '分步'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/kapian',\n  component: () => import('../generated/demo/buju/kapian/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '卡片'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/qiantao',\n  component: () => import('../generated/demo/buju/qiantao/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '嵌套'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/shuzu',\n  component: () => import('../generated/demo/buju/shuzu/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '数组'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/wenbenchuanlian',\n  component: () => import('../generated/demo/buju/wenbenchuanlian/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '文本串联'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/zhage',\n  component: () => import('../generated/demo/buju/zhage/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '栅格'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/denglu',\n  component: () => import('../generated/demo/buju/denglu/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '登录'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/jiandan',\n  component: () => import('../generated/demo/buju/jiandan/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '简单'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/xianxing',\n  component: () => import('../generated/demo/buju/xianxing/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '线性'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/buju/biaoge',\n  component: () => import('../generated/demo/buju/biaoge/index.vue'),\n  meta: {\n    tags: ['布局'],\n    name: '表格'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}, {\n  path: '/demo/texing',\n  redirect: '/demo/texing/shijianchuli',\n  component: RootComponent,\n  meta: {\n    tags: [],\n    name: '特性'\n  },\n  children: [\n    {\n  path: '/demo/texing/shijianchuli',\n  component: () => import('../generated/demo/texing/shijianchuli/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '事件处理'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/qiyongjinyong',\n  component: () => import('../generated/demo/texing/qiyongjinyong/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '启用禁用'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/xiangqingmoshi',\n  component: () => import('../generated/demo/texing/xiangqingmoshi/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '详情模式'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/biaodanxiaoyan',\n  component: () => import('../generated/demo/texing/biaodanxiaoyan/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '表单校验'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/zidingyizujian',\n  component: () => import('../generated/demo/texing/zidingyizujian/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '自定义组件'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/jiegoufuzhi',\n  component: () => import('../generated/demo/texing/jiegoufuzhi/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '解构赋值'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/yibujiazaixuanxiang',\n  component: () => import('../generated/demo/texing/yibujiazaixuanxiang/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '异步加载选项'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/morenzhi',\n  component: () => import('../generated/demo/texing/morenzhi/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '默认值'\n  },\n  children: [\n    \n  ]\n},\n{\n  path: '/demo/texing/xuhao',\n  component: () => import('../generated/demo/texing/xuhao/index.vue'),\n  meta: {\n    tags: ['特性'],\n    name: '序号'\n  },\n  children: [\n    \n  ]\n}\n  ]\n}] as RouteRecordRaw[];\r\n","import {RouteRecordRaw} from 'vue-router';\r\nimport RootComponent from '../components/root.vue';\r\n\r\nexport default [{\n  path: '/doc/jieshao',\n  component: () => import('../generated/doc/jieshao/index.vue'),\n  meta: {\n    tags: [],\n    name: '介绍'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/anzhuangshiyong',\n  component: () => import('../generated/doc/anzhuangshiyong/index.vue'),\n  meta: {\n    tags: [],\n    name: '安装使用'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/kuozhanguifan',\n  component: () => import('../generated/doc/kuozhanguifan/index.vue'),\n  meta: {\n    tags: [],\n    name: '扩展规范'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/biaodanxiangleixingshuoming',\n  component: () => import('../generated/doc/biaodanxiangleixingshuoming/index.vue'),\n  meta: {\n    tags: [],\n    name: '表单项类型说明'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/fuzuoyonghanshu',\n  component: () => import('../generated/doc/fuzuoyonghanshu/index.vue'),\n  meta: {\n    tags: [],\n    name: '副作用函数'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/biangengjilu',\n  component: () => import('../generated/doc/biangengjilu/index.vue'),\n  meta: {\n    tags: [],\n    name: '变更记录'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/neizhileixing',\n  component: () => import('../generated/doc/neizhileixing/index.vue'),\n  meta: {\n    tags: [],\n    name: '内置类型'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/neizhibujuleixing',\n  component: () => import('../generated/doc/neizhibujuleixing/index.vue'),\n  meta: {\n    tags: [],\n    name: '内置布局类型'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/jiegoufuzhi',\n  component: () => import('../generated/doc/jiegoufuzhi/index.vue'),\n  meta: {\n    tags: [],\n    name: '解构赋值'\n  },\n  children: [\n    \n  ]\n}, {\n  path: '/doc/jiekou',\n  component: () => import('../generated/doc/jiekou/index.vue'),\n  meta: {\n    tags: [],\n    name: '接口'\n  },\n  children: [\n    \n  ]\n}] as RouteRecordRaw[];\r\n","import {createRouter, createWebHistory} from 'vue-router';\r\nimport DemoIndex from '../docs/demo/index.vue';\r\nimport createNav from '../views/nav';\r\nimport components from './components';\r\nimport demoRoutes from './demo';\r\nimport docRoutes from './doc';\r\n\r\nexport default createRouter({\r\n  history: createWebHistory(),\r\n  routes: [{\r\n    path: '/',\r\n    redirect: docRoutes[0].path\r\n  }, {\r\n    path: '/doc',\r\n    redirect: docRoutes[0]?.path,\r\n    components: {\r\n      default: DemoIndex,\r\n      nav: createNav(docRoutes)\r\n    },\r\n    children: docRoutes\r\n  }, {\r\n    path: '/demo',\r\n    name: 'demo',\r\n    components: {\r\n      default: DemoIndex,\r\n      nav: createNav(demoRoutes)\r\n    },\r\n    redirect: demoRoutes[0]?.path,\r\n    children: demoRoutes\r\n  }, {\r\n    path: '/components',\r\n    name: 'components',\r\n    components: {\r\n      default: DemoIndex,\r\n      nav: createNav(components)\r\n    },\r\n    redirect: components[0]?.path,\r\n    children: components\r\n  }]\r\n});\r\n","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"full-height\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n  const _component_app_banner = _resolveComponent(\"app-banner\")!\n  const _component_a_layout_header = _resolveComponent(\"a-layout-header\")!\n  const _component_a_layout_sider = _resolveComponent(\"a-layout-sider\")!\n  const _component_a_layout_content = _resolveComponent(\"a-layout-content\")!\n  const _component_a_layout = _resolveComponent(\"a-layout\")!\n  const _component_a_config_provider = _resolveComponent(\"a-config-provider\")!\n\n  return (_openBlock(), _createBlock(_component_a_config_provider, { locale: _ctx.zh_CN }, {\n    default: _withCtx(() => [\n      (_ctx.mobile)\n        ? (_openBlock(), _createBlock(_component_router_view, { key: 0 }))\n        : (_openBlock(), _createBlock(_component_a_layout, {\n            key: 1,\n            class: \"ant-pro-fixed-header ant-pro-fixed-sider root-layout\",\n            theme: \"light\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_layout_header, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_app_banner)\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_a_layout, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_a_layout_sider, { width: \"200px\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_router_view, { name: \"nav\" })\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_a_layout_content, { class: \"bg-white\" }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_1, [\n                        _createVNode(_component_router_view)\n                      ])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }))\n    ]),\n    _: 1\n  }, 8, [\"locale\"]))\n}","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-787a2d2e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header-content\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"logo-wrapper\",\n  href: \"/\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"logo\" }, \" V SCHEMA FORM \")\n], -1))\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" 文档 \")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" 场景示例 \")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" 组件 \")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" GitHub \")\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  fill: \"none\",\n  height: \"1em\",\n  stroke: \"currentColor\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  \"stroke-width\": \"2\",\n  class: \"github-icon\",\n  viewBox: \"0 0 24 24\",\n  width: \"1em\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" }),\n  /*#__PURE__*/_createElementVNode(\"polyline\", { points: \"15 3 21 3 21 9\" }),\n  /*#__PURE__*/_createElementVNode(\"line\", {\n    x1: \"10\",\n    x2: \"21\",\n    y1: \"14\",\n    y2: \"3\"\n  })\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_a_menu_item = _resolveComponent(\"a-menu-item\")!\n  const _component_a_menu = _resolveComponent(\"a-menu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(_component_a_menu, {\n      \"active-key\": $setup.activeKey,\n      class: \"top-nav\",\n      mode: \"horizontal\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_a_menu_item, {\n          key: \"doc\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$router.push('/doc')))\n        }, {\n          default: _withCtx(() => [\n            _hoisted_3\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_a_menu_item, {\n          key: \"demo\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => ($setup.to('/demo')))\n        }, {\n          default: _withCtx(() => [\n            _hoisted_4\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_a_menu_item, {\n          key: \"components\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => ($setup.to('/components')))\n        }, {\n          default: _withCtx(() => [\n            _hoisted_5\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_a_menu_item, { onClick: $setup.toGithub }, {\n          default: _withCtx(() => [\n            _hoisted_6,\n            _hoisted_7\n          ]),\n          _: 1\n        }, 8, [\"onClick\"])\n      ]),\n      _: 1\n    }, 8, [\"active-key\"])\n  ]))\n}","\r\n  import {computed} from 'vue';\r\n  import {useRoute, useRouter} from 'vue-router';\r\n\r\n  export default {\r\n    name: 'AppBanner',\r\n    setup() {\r\n      const route = useRoute();\r\n      const activeKey = computed(() => {\r\n        if (route.path === '/doc/changelog') {\r\n          return 'changelog';\r\n        }\r\n        if (route.path) {\r\n          return route.path.split('/').filter(it => it.length > 0)[0];\r\n        }\r\n        return 'doc';\r\n      });\r\n      const router = useRouter();\r\n      return {\r\n        activeKey,\r\n        toGithub() {\r\n          window.open('https://gitee.com/wuhao000/v-schema-form-next');\r\n        },\r\n        to(path) {\r\n          router.push({\r\n            path\r\n          });\r\n        }\r\n      };\r\n    }\r\n  };\r\n","import { render } from \"./banner.vue?vue&type=template&id=787a2d2e&scoped=true&ts=true\"\nimport script from \"./banner.vue?vue&type=script&lang=ts\"\nexport * from \"./banner.vue?vue&type=script&lang=ts\"\n\nimport \"./banner.vue?vue&type=style&index=0&id=787a2d2e&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace_web\\\\v-schema-form-next\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-787a2d2e\"]])\n\nexport default __exports__","\r\n  import zh_CN from 'ant-design-vue/lib/locale-provider/zh_CN';\r\n  import {defineComponent, ref} from 'vue';\r\n  import AppBanner from './banner.vue';\r\n\r\n  export default defineComponent({\r\n    name: 'HomePage',\r\n    components: {\r\n      AppBanner\r\n    },\r\n    setup() {\r\n      const mobile = ref(false);\r\n      if (window.location.pathname.indexOf('/mobile') === 0) {\r\n        mobile.value = true;\r\n      }\r\n      return {\r\n        zh_CN, mobile\r\n      };\r\n    }\r\n  });\r\n","import { render } from \"./index.vue?vue&type=template&id=4684d1f2&ts=true\"\nimport script from \"./index.vue?vue&type=script&lang=tsx\"\nexport * from \"./index.vue?vue&type=script&lang=tsx\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4684d1f2&lang=less\"\n\nimport exportComponent from \"D:\\\\workspace_web\\\\v-schema-form-next\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import antd from 'ant-design-vue';\r\nimport 'ant-design-vue/dist/antd.css';\r\nimport Antdm from 'antd-mobile-vue-next';\r\nimport 'default-passive-events';\r\nimport vant from 'vant';\r\nimport 'vant/lib/index.css';\r\nimport {createApp} from 'vue';\r\nimport CodeContainer from './components/code-container.vue';\r\nimport CodeEditor from './components/code-editor.vue';\r\nimport DemoWrapper from './components/demo-wrapper.vue';\r\nimport router from './router';\r\nimport SchemaForm from './schema-form';\r\nimport './styles';\r\nimport './styles/github-markdown.less';\r\nimport App from './views/index.vue';\r\nimport ShowValue from './views/show-value.vue';\r\n\r\nconst app = createApp(App);\r\napp.config.warnHandler = () => {\r\n  // do not show\r\n};\r\napp.use(Antdm);\r\napp.use(router);\r\napp.use(vant);\r\napp.use(antd);\r\napp.use(SchemaForm);\r\napp.component('DemoWrapper', DemoWrapper);\r\napp.component('CodeContainer', CodeContainer);\r\napp.component('CodeEditor', CodeEditor);\r\napp.component('ShowValue', ShowValue);\r\napp.mount('#app');\r\n","export const globalThisPolyfill =\r\n    self || window || global || Function('return this')();\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./banner.vue?vue&type=style&index=0&id=787a2d2e&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./demo-wrapper.vue?vue&type=style&index=0&id=52917708&lang=less&scoped=true\"","import {DefaultPatternRule} from '../../../../types';\r\n\r\nexport const errorMessages: {[key in DefaultPatternRule]: string} = {\r\n  number: '该字段不是合法的数字',\r\n  integer: '该字段不是合法的整型数字',\r\n  url: '该字段不是合法的url',\r\n  email: '该字段不是合法的邮箱格式',\r\n  ipv6: '该字段不是合法的ipv6格式',\r\n  ipv4: '该字段不是合法的ipv4格式',\r\n  idcard: '该字段不是合法的身份证格式',\r\n  taodomain: '该字段不符合淘系域名规则',\r\n  qq: '该字段不符合QQ号格式',\r\n  phone: '该字段不是有效的手机号',\r\n  money: '该字段不是有效货币格式',\r\n  zh: '该字段不是合法的中文字符串',\r\n  date: '该字段不是合法的日期格式',\r\n  zip: '该字段不是合法的邮编格式'\r\n}\r\n\r\nexport default {\r\n  url: new RegExp(\r\n    // protocol identifier\r\n    '^(?:(?:(?:https?|ftp):)?//)' +\r\n      // user:pass authentication\r\n      '(?:\\\\S+(?::\\\\S*)?@)?' +\r\n      '(?:' +\r\n      // IP address exclusion - private & local networks\r\n      // Reference: https://www.arin.net/knowledge/address_filters.html\r\n\r\n      // filter 10.*.*.* and 127.*.*.* adresses\r\n      '(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})' +\r\n      // filter 169.254.*.* and 192.168.*.*\r\n      '(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})' +\r\n      // filter 172.16.0.0 - 172.31.255.255\r\n      // TODO: add test to validate that it invalides address in 16-31 range\r\n      '(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})' +\r\n      // IP address dotted notation octets\r\n      // excludes loopback network 0.0.0.0\r\n      // excludes reserved space >= 224.0.0.0\r\n      // excludes network & broacast addresses\r\n      // (first & last IP address of each class)\r\n\r\n      // filter 1. part for 1-223\r\n      '(?:22[0-3]|2[01]\\\\d|[1-9]\\\\d?|1\\\\d\\\\d)' +\r\n      // filter 2. and 3. part for 0-255\r\n      '(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1?\\\\d{1,2})){2}' +\r\n      // filter 4. part for 1-254\r\n      '(?:\\\\.(?:25[0-4]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d?))' +\r\n      '|' +\r\n      // host name\r\n      '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)' +\r\n      // domain name\r\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*' +\r\n      // TLD identifier\r\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))' +\r\n      ')' +\r\n      // port number\r\n      '(?::\\\\d{2,5})?' +\r\n      // resource path\r\n      '(?:/\\\\S*)?$'\r\n  ),\r\n  email: /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/,\r\n\r\n  ipv6: /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:)(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\r\n\r\n  ipv4: /^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/,\r\n\r\n  number: /^[+-]?\\d+(\\.\\d+)?$/,\r\n\r\n  integer: /^[+-]?\\d+$/,\r\n\r\n  qq: /^(\\+?[1-9]\\d*|0)$/,\r\n\r\n  phone: /^\\d{3}-\\d{8}$|^\\d{4}-\\d{7}$|^\\d{11}$/,\r\n\r\n  idcard: /^\\d{15}$|^\\d{17}(\\d|x|X)$/,\r\n\r\n  taodomain: /^(https?:)?\\/\\/[a-zA-Z0-9.-]+\\.(taobao|tmall|alitrip|yao\\.95095)(\\.daily)?\\.(com|net|hk(\\/hk)?)/,\r\n\r\n  money: /^([\\u0024\\u00A2\\u00A3\\u00A4\\u20AC\\u00A5\\u20B1\\20B9\\uFFE5]\\s*)(\\d+,?)+\\.?\\d*\\s*$/,\r\n\r\n  zh: /^[\\u4e00-\\u9fa5]+$/,\r\n\r\n  date: /^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\131)|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\\229)(\\s+([01][0-9]:|2[0-3]:)?[0-5][0-9]:[0-5][0-9])?$/,\r\n\r\n  zip: /^[0-9]{6}$/\r\n};\r\n","import {isEqual} from '../uform/utils';\r\n\r\nexport function getStructValue(parentValue: { [key: string]: unknown }, struct: string | any[] | { [key: string]: string | any[] }) {\r\n  if (Array.isArray(struct)) {\r\n    return struct.map(key => getStructValue(parentValue, key));\r\n  } else if (typeof struct === 'string') {\r\n    if (parentValue && parentValue[struct] === undefined) {\r\n      parentValue[struct] = null;\r\n    }\r\n    return parentValue && parentValue[struct];\r\n  } else if (typeof struct === 'object') {\r\n    const value = {};\r\n    Object.keys(struct).forEach(key => {\r\n      const destructValue = struct[key];\r\n      if (typeof destructValue === 'string') {\r\n        value[key] = parentValue?.[destructValue];\r\n      } else {\r\n        value[key] = getStructValue(parentValue, destructValue);\r\n      }\r\n    });\r\n    return value;\r\n  } else {\r\n    return parentValue;\r\n  }\r\n}\r\n\r\n\r\nexport function setStructValue(parentValue: { [key: string]: unknown }, struct: string | any[] | { [key: string]: string | any[] },\r\n                               structValue: any) {\r\n  if (typeof struct === 'string') {\r\n    const oldValue = parentValue[struct];\r\n    if (!isEqual(structValue, oldValue)) {\r\n      parentValue[struct] = structValue;\r\n    }\r\n  } else if (Array.isArray(struct)) {\r\n    struct.forEach((key, index) => {\r\n      parentValue[key] = structValue ? structValue[index] : undefined;\r\n    });\r\n  } else if (struct) {\r\n    Object.keys(struct).forEach(key => {\r\n      const destructValue = struct[key];\r\n      if (typeof destructValue === 'string') {\r\n        parentValue[destructValue] = structValue[key];\r\n      } else {\r\n        setStructValue(parentValue, destructValue, structValue[key]);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {FieldDefinition} from '../internal/utils';\r\nimport { isRef, unref } from 'vue';\r\nimport {setStructValue} from './destruct';\r\n\r\nexport const setFieldValue = (parentValue: { [key: string]: unknown }, field: FieldDefinition, fieldValue: any, emit) => {\r\n  const value = isRef(fieldValue) ? unref(fieldValue) : fieldValue;\r\n  if (field.getComponent().mode === 'layout') {\r\n    return;\r\n  }\r\n  if (!field.plainPath) {\r\n    emit('update:value', value);\r\n    emit('change', value);\r\n  } else if (field.processor) {\r\n    field.processor.setValue(parentValue, field, value);\r\n  } else {\r\n    setStructValue(parentValue, field.destructPath.destruct || field.name, value);\r\n  }\r\n};\r\n","import clone from 'lodash.clonedeep';\r\nimport get from 'lodash.get';\r\nimport uuid from 'uuid';\r\nimport {isVNode, reactive, VNode} from 'vue';\r\nimport {\r\n  DefaultPatternRule,\r\n  FormFields,\r\n  IFieldOptions,\r\n  IFieldState,\r\n  IFormPathMatcher,\r\n  IRuleDescription,\r\n  Path,\r\n  Platform,\r\n  SchemaFormComponent,\r\n  SchemaFormComponentOptions,\r\n  SchemaFormField,\r\n  SchemaFormStore,\r\n  ShowFieldCondition,\r\n  ValueProcessor\r\n} from '../../../types';\r\nimport Empty from '../empty';\r\nimport {isArr, parseDestructPath} from '../uform/utils';\r\nimport regexp, {errorMessages} from '../uform/validator/regexp';\r\nimport {getStructValue} from '../utils/destruct';\r\nimport {setFieldValue} from '../utils/field';\r\nimport {splitPath} from '../utils/path';\r\nimport {globalComponentStore} from '../utils/register';\r\nimport {fixComponentDefinition, isNotNull, LibComponents, Mode} from '../utils/utils';\r\nimport FormField from './field';\r\n\r\nexport function getPropertyValueByPath(property: string, currentValue: { [p: string]: any } | Array<{ [p: string]: any }>) {\r\n  const propertyPath = splitPath(property);\r\n  let tmp = currentValue;\r\n  propertyPath.forEach(path => {\r\n    if (!tmp[path]) {\r\n      tmp[path] = {};\r\n    }\r\n    tmp = tmp[path];\r\n  });\r\n  return get(currentValue, property);\r\n}\r\n\r\nexport function calcShowState(currentValue, definition: SchemaFormField) {\r\n  if (definition.depends) {\r\n    if (typeof definition.depends === 'function') {\r\n      return definition.depends(currentValue);\r\n    } else {\r\n      return !definition.depends\r\n        .map(condition => matchCondition(currentValue, condition))\r\n        .some(it => !it);\r\n    }\r\n  } else {\r\n    return definition.visible || definition.visible === null || definition.visible === undefined;\r\n  }\r\n}\r\n\r\nexport function getRealFields(fields: FormFields) {\r\n  if (typeof fields === 'object') {\r\n    return Object.keys(fields)\r\n      .filter(key => fields[key])\r\n      .map(key => {\r\n        const field = fields[key];\r\n        if (!field.id) {\r\n          field.id = uuid.v4();\r\n        }\r\n        if (!field.property) {\r\n          field.property = key;\r\n        }\r\n        return field;\r\n      });\r\n  } else {\r\n    return (fields as SchemaFormField[]).filter(it => it !== null && it !== undefined);\r\n  }\r\n}\r\n\r\nconst EmptyDefinition = {\r\n  component: Empty,\r\n  mode: 'both',\r\n  arrayMode: 'both',\r\n  platform: 'desktop',\r\n  getProps: () => ({})\r\n} as SchemaFormComponent;\r\n\r\nconst missingTypes = [];\r\n\r\nexport function getComponentType(store: SchemaFormStore,\r\n                                 definition: {\r\n                                   type: string,\r\n                                   editable?: boolean,\r\n                                   array?: boolean\r\n                                 }): SchemaFormComponent {\r\n  const type = definition.type;\r\n  const array = definition.array ?? false;\r\n  const mode: Mode = (!store.editable || definition.editable === false) ? Mode.Display : Mode.Edit;\r\n  const component: SchemaFormComponent = store.components.search(mode, store.platform, type, array)\r\n    || globalComponentStore.search(mode, store.platform, type, array) || EmptyDefinition;\r\n  if (component.component === Empty) {\r\n    const typeStr = type + mode + store.platform + array;\r\n    if (!missingTypes.includes(typeStr)) {\r\n      console.warn(`类型${type}${array ? '（数组）' : ''}没有对应的${store.platform}${mode === 'display' ? '详情' : '编辑'}组件`);\r\n      missingTypes.push(typeStr);\r\n    }\r\n  }\r\n  return component;\r\n}\r\n\r\n\r\nexport function matchCondition(value: any, condition: ShowFieldCondition): boolean {\r\n  if (!value) {\r\n    return false;\r\n  }\r\n  const currentValue = value[condition.property];\r\n  const compareValue = condition.value;\r\n  if (currentValue === null || currentValue === undefined) {\r\n    switch (condition.operator) {\r\n      case 'in':\r\n        return compareValue.includes(currentValue);\r\n      case 'notIn':\r\n        return !compareValue.includes(currentValue);\r\n    }\r\n    return false;\r\n  } else {\r\n    switch (condition.operator) {\r\n      case '=':\r\n        return compareValue.toString() === currentValue.toString();\r\n      case '<':\r\n        return parseFloat(currentValue) < parseFloat(compareValue);\r\n      case '>':\r\n        return parseFloat(currentValue) > parseFloat(compareValue);\r\n      case '>=':\r\n        return parseFloat(currentValue) >= parseFloat(compareValue);\r\n      case '<=':\r\n        return parseFloat(currentValue) <= parseFloat(compareValue);\r\n      case 'in':\r\n        return compareValue.includes(currentValue);\r\n      case 'notIn':\r\n        return !compareValue.includes(currentValue);\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction getComponent(field: SchemaFormField,\r\n                      store: SchemaFormStore,\r\n                      forDisplay = false,\r\n                      platform: Platform = 'desktop'): SchemaFormComponent {\r\n  const type = field.xType || field.type;\r\n  if (field.slot) {\r\n    return undefined;\r\n  }\r\n  if (typeof type === 'string') {\r\n    return getComponentType(store, {\r\n      type,\r\n      editable: field.editable,\r\n      array: field.array\r\n    });\r\n  }\r\n  if (typeof type === 'function' || isVNode(type)) {\r\n    return {\r\n      component: type,\r\n      platform,\r\n      mode: forDisplay ? 'display' : 'input',\r\n      arrayMode: 'single',\r\n      layoutOptions: null,\r\n      valueProp: 'value',\r\n      wrap: true,\r\n      getProps: () => {\r\n        return {};\r\n      }\r\n    };\r\n  }\r\n  return fixComponentDefinition(type, !field.editable);\r\n}\r\n\r\nexport function renderField(pathPrefix: string[] | null,\r\n                            store: SchemaFormStore,\r\n                            fieldDefinition: SchemaFormField,\r\n                            currentValue: { [p: string]: any } | Array<{ [p: string]: any }>,\r\n                            index: number, wrap: boolean, emit) {\r\n  let value = null;\r\n  if (fieldDefinition.property?.includes('.')) {\r\n    value = getPropertyValueByPath(fieldDefinition.property.substr(0, fieldDefinition.property.lastIndexOf('.')), currentValue);\r\n  } else {\r\n    value = currentValue;\r\n  }\r\n  const newField = createField(currentValue, store, pathPrefix, fieldDefinition);\r\n  const component = getComponent(fieldDefinition, store);\r\n  const props: any = {\r\n    wrap,\r\n    field: newField,\r\n    path: newField.path,\r\n    disabled: newField.disabled || store.disabled || store.loading,\r\n    definition: fieldDefinition,\r\n    formValue: currentValue,\r\n    'onUpdate:value': v => {\r\n      setFieldValue(value, newField, v, emit);\r\n    },\r\n    key: `field-${fieldDefinition.property}-${index}`,\r\n    index\r\n  };\r\n  props.value = getFieldValue(value, newField, component);\r\n  return <FormField {...props}/>;\r\n}\r\n\r\n\r\nexport function buildArrayPath(pathPrefix: string[], field: SchemaFormField): string[] {\r\n  if (pathPrefix) {\r\n    return pathPrefix.concat(field.property);\r\n  } else {\r\n    if (field.property) {\r\n      return field.property.split('.');\r\n    }\r\n    return [];\r\n  }\r\n}\r\n\r\nexport class FieldDefinition<V = any> {\r\n  public id: string = null;\r\n  public definition: SchemaFormField = null;\r\n  public disabled = false;\r\n  public enum: any[] | (() => any[] | Promise<any[]>) | Promise<any[]> = null;\r\n  public title: any = null;\r\n  public array = false;\r\n  public type: string | SchemaFormComponentOptions | SchemaFormComponentOptions[] = null;\r\n  public processor: ValueProcessor;\r\n  public changeEditable?: (editable: boolean | ((name: string) => boolean)) => void = null;\r\n  public description?: string | VNode;\r\n  public destructPath?: {\r\n    path: string,\r\n    destruct: any\r\n  } = null;\r\n  public destructor?: () => void = null;\r\n  public dirty?: boolean = null;\r\n  public dirtyType?: string = null;\r\n  public display = false;\r\n  public displayValue?: any = null;\r\n  public editable = true;\r\n  public effectErrors?: string[] = null;\r\n  public errors?: string[] = null;\r\n  public events?: { [key: string]: (...args: any[]) => any };\r\n  public fields?: FormFields = null;\r\n  public focus?: (event?: boolean) => any = null;\r\n  public hiddenFromParent?: boolean = null;\r\n  public default?: V = null;\r\n  public initialize?: (options: IFieldOptions) => void = null;\r\n  public invalid?: boolean = false;\r\n  public lastValidateValue?: V = null;\r\n  public loading = false;\r\n  public match?: (path: Path | IFormPathMatcher) => boolean = null;\r\n  public name?: string = null;\r\n  public notify?: (forceUpdate?: boolean) => void = null;\r\n  public onChange?: (fn: () => void) => void = null;\r\n  public path?: string[] = null;\r\n  public pathEqual?: (path: Path | IFormPathMatcher) => boolean = null;\r\n  public plainPath?: string = null;\r\n  public pristine?: boolean = null;\r\n  public props?: { [key: string]: any } = null;\r\n  public publishState?: () => IFieldState = null;\r\n  public required = false;\r\n  public min?: number;\r\n  public max?: number;\r\n  public rules?: IRuleDescription[] = null;\r\n  public setGetValue?: (value?: any) => any = null;\r\n  public shownFromParent?: boolean = null;\r\n  public syncContextValue?: () => void = null;\r\n  public store?: SchemaFormStore = null;\r\n  public updateState?: (fn: (state: IFieldState) => void) => void = null;\r\n  public valid = true;\r\n  public validate?: (trigger?: string) => (boolean | Promise<unknown>) = null;\r\n  public inputRef?: any;\r\n  public value: V = null;\r\n  public visible = true;\r\n  public xType: string | SchemaFormComponentOptions = null;\r\n  public slot?: string = null;\r\n\r\n  constructor(definition: SchemaFormField,\r\n              store: SchemaFormStore,\r\n              pathPrefix: string[], currentValue: any) {\r\n    this.array = definition.array;\r\n    this.definition = definition;\r\n    this.disabled = false;\r\n    this.display = true;\r\n    this.enum = definition.enum || null;\r\n    this.id = definition.id;\r\n    this.processor = definition.processor;\r\n    this.slot = definition.slot;\r\n    this.store = store;\r\n    this.title = definition.title;\r\n    this.type = definition.type;\r\n    this.xType = definition.xType;\r\n    this.events = definition.events;\r\n    this.editable = definition.editable === undefined ? true : definition.editable;\r\n    this.name = definition.property;\r\n    this.path = buildArrayPath(pathPrefix, definition);\r\n    this.plainPath = buildArrayPath(pathPrefix, definition).join('.');\r\n    this.destructPath = parseDestructPath(definition.property);\r\n    this.props = Object.assign({}, definition.props);\r\n    this.visible = calcShowState(currentValue, definition);\r\n    this.valid = true;\r\n    this.displayValue = definition.displayValue;\r\n    this.required = definition.required;\r\n    this.min = definition.min;\r\n    this.max = definition.max;\r\n    this.fields = definition.fields;\r\n    this.effectErrors = [];\r\n    this.description = definition.description;\r\n    this.errors = [];\r\n    this.hiddenFromParent = false;\r\n    this.default = definition.default;\r\n    this.initialize = () => {\r\n      // default do nothing\r\n    };\r\n    this.invalid = false;\r\n    this.value = currentValue;\r\n    this.setGetValue = null;\r\n  }\r\n\r\n  public getRules() {\r\n    return getRulesFromProps(this.definition, this.required);\r\n  }\r\n\r\n\r\n  public generateEvents(): { [key: string]: (...args: any[]) => any } {\r\n\r\n    const getEventMetadata = (event) => {\r\n      return {event, path: this.plainPath, field: this};\r\n    };\r\n\r\n    const onFocus = (event, ...args) => {\r\n      if (this.events?.onFocus) {\r\n        this.events?.onFocus?.(this.store.context, event, ...args);\r\n      } else if (this.props?.onBlur) {\r\n        this.props?.onFocus?.(event, ...args);\r\n      }\r\n      const input = this.inputRef;\r\n      let el: any;\r\n      if (isVNode(input)) {\r\n        el = input.el;\r\n      } else {\r\n        el = input;\r\n      }\r\n      if (el) {\r\n        if (el.focus) {\r\n          el.focus({preventScroll: false});\r\n          if (event === true) {\r\n            el.scrollIntoView({behavior: 'smooth'});\r\n          }\r\n        }\r\n        this.store.context.trigger(SchemaFormEvents.fieldFocus, getEventMetadata(event));\r\n      }\r\n    };\r\n\r\n    const onKeydown = (event, ...args) => {\r\n      if (this.events?.onKeydown) {\r\n        this.events?.onKeydown?.(this.store.context, event, ...args);\r\n      } else if (this.props?.onKeydown) {\r\n        this.props?.onKeydown?.(event, ...args);\r\n      }\r\n      this.store.context.trigger(SchemaFormEvents.fieldKeydown, getEventMetadata(event));\r\n    };\r\n\r\n    const onKeyup = (event, ...args) => {\r\n      if (this.events?.onKeyup) {\r\n        this.events?.onKeyup?.(this.store.context, event, ...args);\r\n      } else if (this.props?.onKeyup) {\r\n        this.props?.onKeyup?.(event, ...args);\r\n      }\r\n      this.store.context.trigger(SchemaFormEvents.fieldKeyup, getEventMetadata(event));\r\n    };\r\n\r\n    const onBlur = (event, ...args) => {\r\n      if (this.events?.onBlur) {\r\n        this.events?.onBlur?.(this.store.context, event, ...args);\r\n      } else if (this.props?.onBlur) {\r\n        this.props?.onBlur?.(event, ...args);\r\n      }\r\n      if (this.valid) {\r\n        this.validate('blur');\r\n      } else {\r\n        this.validate();\r\n      }\r\n      this.store.context.trigger(SchemaFormEvents.fieldBlur, getEventMetadata(event));\r\n    };\r\n\r\n    const fieldEvents = {\r\n      onBlur, onFocus, onKeydown, onKeyup\r\n    };\r\n    if (this.events) {\r\n      const keys = Object.keys(fieldEvents);\r\n      Object.keys(this.events).filter(it => !keys.includes(it)).forEach(eventKey => {\r\n        fieldEvents[eventKey] = (...args) => {\r\n          this.events[eventKey](this.store.context, ...args);\r\n        };\r\n      });\r\n    }\r\n    return fieldEvents;\r\n  }\r\n\r\n  public getComponent(forDisplay = false, platform: Platform = 'desktop'): SchemaFormComponent {\r\n    return getComponent(this, this.store, forDisplay, platform);\r\n  }\r\n\r\n}\r\n\r\n\r\nexport function createField(currentValue: any,\r\n                            store: SchemaFormStore,\r\n                            pathPrefix: string[],\r\n                            definition: SchemaFormField): FieldDefinition {\r\n  const plainPath = buildArrayPath(pathPrefix, definition).join('.');\r\n  const existsField: FieldDefinition = store.fields[plainPath];\r\n  if (existsField) {\r\n    return existsField;\r\n  } else {\r\n    const field = new FieldDefinition(definition, store, pathPrefix, currentValue);\r\n    return reactive(field) as FieldDefinition;\r\n  }\r\n}\r\n\r\nconst resolveRule = (rule: IRuleDescription | DefaultPatternRule): IRuleDescription => {\r\n  if (typeof rule === 'string') {\r\n    return {\r\n      pattern: regexp[rule],\r\n      message: errorMessages[rule]\r\n    };\r\n  } else {\r\n    return rule;\r\n  }\r\n};\r\n\r\nconst getRulesFromProps = (field: SchemaFormField, required: boolean) => {\r\n  const rules: IRuleDescription[] = [];\r\n  if (isArr(field.rules)) {\r\n    field.rules.forEach(rule => {\r\n      rules.push(resolveRule(rule));\r\n    });\r\n  } else {\r\n    resolveRule(field.rules);\r\n  }\r\n  if (required && !rules.some(rule => rule.required)) {\r\n    rules.push({required: true, message: `${field.title ?? '该字段'}为必填项`});\r\n  }\r\n  if (field.format && !rules.some(rule => rule.format === field.format)) {\r\n    rules.push({format: field.format, message: `${field.title ?? '字段'}格式不正确`});\r\n  }\r\n  if (isNotNull(field.min)) {\r\n    if (['integer', 'double', 'number'].includes(field.type as string)) {\r\n      rules.push({type: 'number', min: field.min, message: `${field.title}不能小于${field.min}`});\r\n    } else if (['string', 'html', 'code', 'text'].includes(field.type as string)) {\r\n      rules.push({type: 'string', min: field.min, message: `${field.title}长度不能小于${field.min}`});\r\n    }\r\n  }\r\n  if (isNotNull(field.max)) {\r\n    if (['integer', 'double', 'number'].includes(field.type as string)) {\r\n      rules.push({type: 'number', max: field.max, message: `${field.title}不能大于${field.max}`});\r\n    } else if (['string', 'text'].includes(field.type as string)) {\r\n      rules.push({type: 'string', max: field.max, message: `${field.title}长度不能大于${field.max}`});\r\n    }\r\n  }\r\n  return clone(rules);\r\n\r\n};\r\nexport const getFieldValue = (value: any,\r\n                              field: FieldDefinition,\r\n                              component: SchemaFormComponent) => {\r\n  if (component?.mode?.includes('layout')) {\r\n    return value;\r\n  }\r\n  if (field.processor) {\r\n    return field.processor.getValue(value, field);\r\n  } else {\r\n    return getStructValue(value, field.destructPath.destruct || field.name);\r\n  }\r\n};\r\n\r\nexport const getFormItemComponent = (platform: Platform) => LibComponents.formItem[platform];\r\n\r\nexport const getSelectComponent = (platform: Platform) => LibComponents.select[platform];\r\n\r\nexport const getInputComponent = (platform: Platform) => LibComponents.input[platform];\r\n\r\nexport enum SchemaFormEvents {\r\n  fieldKeyup = 'fieldKeyup',\r\n  fieldKeydown = 'fieldKeydown',\r\n  fieldFocus = 'fieldFocus',\r\n  fieldBlur = 'fieldBlur',\r\n  fieldChange = 'fieldChange',\r\n  fieldCreate = 'fieldCreate',\r\n  validate = 'validate'\r\n}\r\n"],"sourceRoot":""}