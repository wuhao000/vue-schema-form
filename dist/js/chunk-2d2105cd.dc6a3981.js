(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2105cd"],{b823:function(e,t,n){"use strict";n.r(t);var a=n("8bbf"),l=Object(a["createTextVNode"])("校验"),c=Object(a["createTextVNode"])("启用禁用"),r=Object(a["createTextVNode"])("编辑/禁止编辑");function o(e,t,n,o,i,u){var d=Object(a["resolveComponent"])("v-schema-form"),b=Object(a["resolveComponent"])("a-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(d,{ref:"form",value:e.value,"onUpdate:value":t[0]||(t[0]=function(t){return e.value=t}),schema:e.schema,effects:e.effects},null,8,["value","schema","effects"]),Object(a["createVNode"])(b,{onClick:e.validate},{default:Object(a["withCtx"])((function(){return[l]})),_:1},8,["onClick"]),Object(a["createVNode"])(b,{onClick:e.disableOrEnable},{default:Object(a["withCtx"])((function(){return[c]})),_:1},8,["onClick"]),Object(a["createVNode"])(b,{onClick:e.editableOrReadonly},{default:Object(a["withCtx"])((function(){return[r]})),_:1},8,["onClick"])])}var i=n("a34a"),u=n.n(i),d=n("9ab4"),b=n("98ce"),s=Object(a["defineComponent"])({name:"Demo",setup:function(){var e=this,t={props:{labelWidth:"100px"},fields:{name:{type:"string",title:"中文名称",required:!0},name2:{type:"string",title:"中文名称2"},persistent:{type:"boolean",title:"是否持久化"},modules:{title:"启用模块",type:"select",array:!0,enum:[{label:"团队",value:"team"},{label:"文件",value:"file"}]},notes:{type:"text",title:"备注"}}},n=Object(a["ref"])({name:"a"}),l=Object(a["ref"])(null),c=Object(a["ref"])(!0),r=Object(a["ref"])(!0),o=function(e){l.value=e,e("name").onFieldCreateOrChange((function(t){t.length>1?e("name2").required(!0):e("name2").required(!1)}))};Object(b["k"])();var i=function(){r.value=!r.value,l.value("name").editable(r.value)},s=function(){c.value=!c.value,l.value("name").enable(c.value)},f=Object(a["ref"])(),m=function(){return Object(d["a"])(e,void 0,void 0,u.a.mark((function e(){var t;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.value.validate();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))};return{schema:t,value:n,form:f,validate:m,disableOrEnable:s,editableOrReadonly:i,effects:o}},data:function(){return{}},created:function(){Object(b["k"])()},methods:{}}),f=n("6b0d"),m=n.n(f);const v=m()(s,[["render",o]]);var O=v,p={class:"markdown-body"},j=Object(a["createElementVNode"])("h1",{id:"启用禁用"},"启用禁用",-1),h=Object(a["createElementVNode"])("h2",{id:"使用说明"},"使用说明",-1),C=Object(a["createElementVNode"])("p",null,"启用禁用属于逻辑操作，因此使用副作用函数来实现",-1),x=Object(a["createElementVNode"])("p",null,"使用副作用函数的enable和disable方法可以达到启用/禁用效果",-1),k=Object(a["createTextVNode"])(" // 启用name字段 $('name').enable(); // 禁用name字段 $('name').disable(); "),y=Object(a["createElementVNode"])("br",null,null,-1),N=Object(a["createElementVNode"])("blockquote",null,[Object(a["createElementVNode"])("p",null,"仅使用enable或disable中的一个也可以启用禁用, 例如 enable(true) 为启用，enable(false)为禁用，disable的参数值相反")],-1),V=Object(a["createTextVNode"])(" <template> <div> <v-schema-form ref=\"form\" v-model:value=\"value\" :schema=\"schema\" :effects=\"effects\"/> <a-button @click=\"validate\">校验</a-button> <a-button @click=\"disableOrEnable\">启用禁用</a-button> <a-button @click=\"editableOrReadonly\">编辑/禁止编辑</a-button> </div> </template> <script lang=\"ts\"> import {defineComponent, ref} from 'vue'; import {EffectsContext} from '../../../../types'; import {registerAntd} from '../../../schema-form'; export default defineComponent({ name: 'Demo', setup() { const schema = { props: { labelWidth: '100px' }, fields: { name: { type: 'string', title: '中文名称', required: true }, name2: { type: 'string', title: '中文名称2', }, persistent: { type: 'boolean', title: '是否持久化' }, modules: { title: '启用模块', type: 'select', array: true, enum: [ {label: '团队', value: 'team'}, {label: '文件', value: 'file'} ] }, notes: { type: 'text', title: '备注' } } }; const value = ref({ name: 'a' }); const context = ref<EffectsContext>(null); const enable = ref(true); const editable = ref(true); const effects = ($: EffectsContext) => { context.value = $; $('name').onFieldCreateOrChange((v) => { if (v.length > 1) { $('name2').required(true); } else { $('name2').required(false); } }); }; registerAntd(); const editableOrReadonly = () => { editable.value = !editable.value; context.value('name').editable(editable.value); }; const disableOrEnable = () => { enable.value = !enable.value; context.value('name').enable(enable.value); }; const form = ref() const validate = async () => { const a = await form.value.validate(); console.log(a); } return { schema, value, form, validate, disableOrEnable, editableOrReadonly, effects }; }, data() { return {}; }, created() { registerAntd(); }, methods: {} }); <\/script> "),w=Object(a["defineComponent"])({setup:function(e){return function(e,t){var n=Object(a["resolveComponent"])("code-editor"),l=Object(a["resolveComponent"])("code-container"),c=Object(a["resolveComponent"])("demo-wrapper");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",p,[j,h,C,x,Object(a["createVNode"])(n,{mode:"typescript"},{default:Object(a["withCtx"])((function(){return[k]})),_:1}),y,N,Object(a["createVNode"])(c,null,{code:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])((function(){return[V]})),_:1})]})),default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(O)]})),_:1})])}}});const E=w;t["default"]=E}}]);
//# sourceMappingURL=chunk-2d2105cd.dc6a3981.js.map