(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2105cd"],{b823:function(e,n,t){"use strict";t.r(n);var a=t("8bbf"),c=Object(a["createTextVNode"])("校验"),r=Object(a["createTextVNode"])("启用禁用"),l=Object(a["createTextVNode"])("编辑/禁止编辑");function o(e,n,t,o,u,d){var i=Object(a["resolveComponent"])("v-schema-form"),b=Object(a["resolveComponent"])("a-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(i,{ref:"form",value:e.value,"onUpdate:value":n[0]||(n[0]=function(n){return e.value=n}),schema:e.schema,effects:e.effects},null,8,["value","schema","effects"]),Object(a["createVNode"])(b,{onClick:e.validate},{default:Object(a["withCtx"])((function(){return[c]})),_:1},8,["onClick"]),Object(a["createVNode"])(b,{onClick:e.disableOrEnable},{default:Object(a["withCtx"])((function(){return[r]})),_:1},8,["onClick"]),Object(a["createVNode"])(b,{onClick:e.editableOrReadonly},{default:Object(a["withCtx"])((function(){return[l]})),_:1},8,["onClick"])])}var u=t("a34a"),d=t.n(u),i=t("9ab4"),b=t("98ce"),f=Object(a["defineComponent"])({name:"Demo",setup:function(){var e=this,n={props:{labelWidth:"100px"},fields:{name:{type:"string",title:"名称",required:!0},name2:{type:"select",title:"选择"}}},t=Object(a["ref"])({name:"a"}),c=Object(a["ref"])(null),r=Object(a["ref"])(!0),l=Object(a["ref"])(!0),o=function(e){c.value=e,e("name").onFieldCreateOrChange((function(n){n.length>2?e("name2").required(!0):e("name2").required(!1)}))};Object(b["k"])();var u=function(){l.value=!l.value,c.value("*").editable(l.value)},f=function(){r.value=!r.value,c.value("*").enable(r.value)},s=Object(a["ref"])(),m=function(){return Object(i["a"])(e,void 0,void 0,d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.value.validate());case 1:case"end":return e.stop()}}),e)})))};return{schema:n,value:t,form:s,validate:m,disableOrEnable:f,editableOrReadonly:u,effects:o}},data:function(){return{}},created:function(){Object(b["k"])()},methods:{}}),s=t("6b0d"),m=t.n(s);const O=m()(f,[["render",o]]);var v=O,p={class:"markdown-body"},j=Object(a["createElementVNode"])("h1",{id:"启用禁用"},"启用禁用",-1),h=Object(a["createElementVNode"])("h2",{id:"使用说明"},"使用说明",-1),C=Object(a["createElementVNode"])("p",null,"启用禁用属于逻辑操作，因此使用副作用函数来实现",-1),x=Object(a["createElementVNode"])("p",null,"使用副作用函数的enable和disable方法可以达到启用/禁用效果",-1),N=Object(a["createTextVNode"])("\n  // 启用name字段\n$('name').enable();\n\n// 禁用name字段\n$('name').disable();\n"),V=Object(a["createElementVNode"])("br",null,null,-1),k=Object(a["createElementVNode"])("blockquote",null,[Object(a["createElementVNode"])("p",null,"仅使用enable或disable中的一个也可以启用禁用, 例如 enable(true) 为启用，enable(false)为禁用，disable的参数值相反")],-1),E=Object(a["createTextVNode"])("\n"),w=Object(a["createTextVNode"])("\n"),y=Object(a["createTextVNode"])("\n  \n<template>\n  <div>\n    <v-schema-form\n        ref=\"form\"\n        v-model:value=\"value\"\n        :schema=\"schema\"\n        :effects=\"effects\"/>\n    <a-button @click=\"validate\">校验</a-button>\n    <a-button @click=\"disableOrEnable\">启用禁用</a-button>\n    <a-button @click=\"editableOrReadonly\">编辑/禁止编辑</a-button>\n  </div>\n</template>\n<script lang=\"ts\">\n  import {defineComponent, ref} from 'vue';\n  import {EffectsContext} from '../../../../types';\n  import {registerAntd} from '../../../schema-form';\n\n  export default defineComponent({\n    name: 'Demo',\n    setup() {\n      const schema = {\n        props: {\n          labelWidth: '100px'\n        },\n        fields: {\n          name: {\n            type: 'string',\n            title: '名称',\n            required: true\n          },\n          name2: {\n            type: 'select',\n            title: '选择',\n          }\n        }\n      };\n      const value = ref({\n        name: 'a'\n      });\n      const context = ref<EffectsContext>(null);\n      const enable = ref(true);\n      const editable = ref(true);\n      const effects = ($: EffectsContext) => {\n        context.value = $;\n        $('name').onFieldCreateOrChange((v) => {\n          if (v.length > 2) {\n            $('name2').required(true);\n          } else {\n            $('name2').required(false);\n          }\n        });\n      };\n\n      registerAntd();\n\n      const editableOrReadonly = () => {\n        editable.value = !editable.value;\n        context.value('*').editable(editable.value);\n      };\n      const disableOrEnable = () => {\n        enable.value = !enable.value;\n        context.value('*').enable(enable.value);\n      };\n      const form = ref()\n      const validate = async () => {\n        return context.value.validate();\n      }\n      return {\n        schema,\n        value,\n        form,\n        validate,\n        disableOrEnable,\n        editableOrReadonly,\n        effects\n      };\n    },\n    data() {\n      return {};\n    },\n    created() {\n      registerAntd();\n    },\n    methods: {}\n  });\n<\/script>\n\n"),g=Object(a["createTextVNode"])("\n"),T=Object(a["defineComponent"])({setup:function(e){return function(e,n){var t=Object(a["resolveComponent"])("code-editor"),c=Object(a["resolveComponent"])("code-container"),r=Object(a["resolveComponent"])("demo-wrapper");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",p,[j,h,C,x,Object(a["createElementVNode"])("pre",null,[Object(a["createVNode"])(t,{mode:"typescript"},{default:Object(a["withCtx"])((function(){return[N]})),_:1})]),V,k,Object(a["createElementVNode"])("pre",null,[Object(a["createVNode"])(r,null,{code:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])((function(){return[y]})),_:1})]})),default:Object(a["withCtx"])((function(){return[E,Object(a["createVNode"])(v),w,g]})),_:1})])])}}});const q=T;n["default"]=q}}]);
//# sourceMappingURL=chunk-2d2105cd.4da77509.js.map