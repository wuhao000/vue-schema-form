{"version":3,"sources":["webpack:///./node_modules/lodash.sum/index.js","webpack:///./src/views/demo/element/default.vue?1613","webpack:///./src/views/demo/element/default.vue?ce7b","webpack:///./src/views/demo/element/default.vue?b119","webpack:///./src/views/demo/element/default.vue"],"names":["baseSum","array","iteratee","result","index","length","current","undefined","identity","value","sum","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","effects","schema","model","callback","$$v","expression","schema2","value2","on","setValue","_v","staticRenderFns","props","labelWidth","fields","text","title","type","placeholder","default","arrayProps","addBtnText","addBtnProps","showRemoveBtn","maxLength","text2","select","enum","label","date","calc","editable","sub","arrayComponent","num","description","mobileNo","phoneMark","valueProperty","labelProperty","name","gender","identifyType","identifyNumber","licenseNumber","lawFirm","enterpriseId","visible","job","address","id","callerType","callTimes","extendAttributes","registerElement","$","onFieldCreateOrChange","v","months","Date","getFullYear","getMonth","year","Math","floor","month","callTime","firstCallTimes","components","ShowValue","component"],"mappings":"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","file":"js/chunk-dc680be8.41acaa32.js","sourcesContent":["/**\n * lodash 4.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * The base implementation of `_.sum` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ae-layout',{staticClass:\"bg-whte\"},[_c('ae-layout-content',{staticClass:\"demo-wrapper\"},[_c('v-schema-form',{attrs:{\"effects\":_vm.effects,\"schema\":_vm.schema},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('v-schema-form',{attrs:{\"schema\":_vm.schema2},model:{value:(_vm.value2),callback:function ($$v) {_vm.value2=$$v},expression:\"value2\"}}),_c('show-value',{attrs:{\"value\":_vm.value}}),_c('el-button',{on:{\"click\":_vm.setValue}},[_vm._v(\"赋值\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport SchemaForm from '@/schema-form';\nimport ShowValue from '@/views/demo/show-value';\nimport sum from 'lodash.sum';\nimport {EffectsContext, SchemaFormField} from 'v-schema-form-types';\nimport Vue from 'vue';\nimport Component from 'vue-class-component';\n\n@Component({\n  name: 'default',\n  components: {ShowValue}\n})\nexport default class DefaultValue extends Vue {\n\n  public schema: SchemaFormField = {\n    props: {\n      labelWidth: '150px'\n    },\n    fields: {\n      text: {\n        title: '字段1',\n        type: 'string',\n        placeholder: '请输入',\n        default: ['abc', 'def'],\n        arrayProps: {\n          addBtnText: '添加文本',\n          addBtnProps: {\n            text: true\n          },\n          showRemoveBtn: false,\n          maxLength: 2\n        },\n        array: true\n      },\n      text2: {\n        type: 'string',\n        title: 'text2'\n      },\n      select: {\n        title: '字段2',\n        type: 'select',\n        enum: [{label: '是', value: 1}, {label: '否', value: 0}],\n        default: 0\n      },\n      date: {\n        title: '日期',\n        type: 'date'\n      },\n      calc: {\n        editable: false,\n        title: '工龄（自动计算）',\n        type: 'string',\n        default: '111'\n      },\n      sub: {\n        type: 'object',\n        title: '子表单',\n        array: true,\n        arrayComponent: 'block',\n        fields: {\n          num: {\n            type: 'number',\n            title: '金额'\n          }\n        }\n      },\n      sum: {\n        editable: false,\n        title: '总金额',\n        description: '子表单金额的总和',\n        value: 0,\n        type: 'number'\n      }\n    }\n  };\n  public schema2 = {\n    props: {\n      labelWidth: '70px'\n    },\n    fields: {\n      mobileNo: {\n        title: '来电号码',\n        type: 'string'\n      },\n      phoneMark: {\n        type: 'select',\n        title: '来电类型',\n        props: {valueProperty: 'code', labelProperty: 'name'}\n      },\n      name: {\n        title: '姓名',\n        type: 'string'\n      },\n      gender: {\n        type: 'select',\n        title: '性别',\n        enum: [{\n          label: '男',\n          value: '1'\n        }, {\n          label: '女',\n          value: '0'\n        }]\n      },\n      identifyType: {\n        type: 'select',\n        title: '证件类型',\n        props: {valueProperty: 'code', labelProperty: 'name'}\n      },\n      identifyNumber: {\n        title: '证件号码',\n        type: 'string'\n      },\n      licenseNumber: {\n        title: '执业证号',\n        type: 'string'\n      },\n      lawFirm: {\n        type: 'string',\n        title: '所属律所'\n      },\n      enterpriseId: {\n        type: 'string',\n        title: '单位',\n        visible: false\n      },\n      job: {\n        type: 'string',\n        title: '职业',\n        visible: false\n      },\n      address: {\n        type: 'string',\n        title: '地址',\n        visible: false\n      }\n    }\n  };\n  public value: any = {\n    text: ['ef']\n  };\n\n  public value2: any = {\n    id: 'abc',\n    callerType: 1,\n    mobileNo: '',\n    phoneMark: 'normal',\n    callTimes: 1,\n    name: '',\n    gender: '1',\n    identifyType: 'residentIdentityCard',\n    identifyNumber: '',\n    licenseNumber: '',\n    lawFirm: '',\n    enterpriseId: '',\n    job: '',\n    address: '',\n    extendAttributes: {}\n  };\n\n  public created() {\n    SchemaForm.registerElement();\n  }\n\n  public effects($: EffectsContext) {\n    $('date').onFieldCreateOrChange((v: Date) => {\n      if (v) {\n        const months = (new Date().getFullYear() - v.getFullYear()) * 12 + new Date().getMonth() - v.getMonth();\n        const year = Math.floor(months / 12);\n        const month = months % 12;\n        $('calc').value(year + '年' + month + '个月');\n      } else {\n        $('calc').value('-');\n      }\n    });\n    $('sub.?.num').onFieldCreateOrChange((v) => {\n      $('sum').value(sum($('sub.?.num').value()));\n    });\n  }\n\n  public setValue() {\n    this.value = {\n      text: ['a', 'b', 'c'],\n      text2: 'abc'\n    };\n    this.value2 = {\n      address: '',\n      callTime: '0',\n      callTimes: '1',\n      callerType: 1,\n      enterpriseId: '',\n      firstCallTimes: '0',\n      gender: '1',\n      id: 'a78e393f46f74dc29211a3a6c7b1d730',\n      identifyNumber: '',\n      identifyType: 'residentIdentityCard',\n      job: '',\n      lawFirm: '',\n      licenseNumber: '',\n      mobileNo: '',\n      name: 'afdsa',\n      phoneMark: ''\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./default.vue?vue&type=template&id=5c022ec9&scoped=true&\"\nimport script from \"./default.vue?vue&type=script&lang=ts&\"\nexport * from \"./default.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c022ec9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}