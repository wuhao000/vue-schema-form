(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d2aca"],{"5a08":function(e,n,t){"use strict";t.r(n);var l=t("8bbf"),a=Object(l["createTextVNode"])("编辑");function r(e,n,t,r,o,i){var c=Object(l["resolveComponent"])("v-schema-form"),d=Object(l["resolveComponent"])("a-button");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createVNode"])(c,{value:e.editForm,"onUpdate:value":n[0]||(n[0]=function(n){return e.editForm=n}),schema:e.editSchema,effects:e.editFormEffects},null,8,["value","schema","effects"]),Object(l["createVNode"])(d,{onClick:e.edit},{default:Object(l["withCtx"])((function(){return[a]})),_:1},8,["onClick"]),Object(l["createVNode"])(c,{value:e.value,"onUpdate:value":n[1]||(n[1]=function(n){return e.value=n}),effects:e.effects,schema:e.schema},null,8,["value","effects","schema"]),Object(l["createElementVNode"])("pre",null,Object(l["toDisplayString"])(e.value),1)])}var o=t("a34a"),i=t.n(o),c=t("9ab4"),d=t("98ce");Object(d["j"])();var s=Object(l["defineComponent"])({name:"Demo",setup:function(){var e=this,n={props:{labelWidth:140},fields:{name:{type:d["d"].String,title:"名称",tip:"必须以func_开头"},zhName:{type:d["d"].String,title:"中文名称"},namespace:{type:d["d"].Select,title:"命名空间",props:{searchable:!0}},bindingEntityId:{type:d["d"].Select,title:"绑定的实体对象",props:{searchable:!0}},returnType:{type:d["d"].Select,title:"返回值类型",enum:[{label:"日期时间",value:"Date"},{label:"字符串",value:"String"},{label:"小数",value:"Double"},{label:"整数",value:"Int"},{label:"布尔",value:"Boolean"}]},content:{type:"code",title:"内容",props:{lang:"javascript"}},description:{type:d["d"].Text,title:"描述"},$card:{type:"card",title:"参数列表",fields:{parameters:{type:"object",array:!0,fields:{name:{type:d["d"].String,title:"参数名称"},zhName:{type:d["d"].String,title:"中文名称"},type:{type:d["d"].Select,title:"参数类型",enum:[{label:"日期时间",value:"Date"},{label:"字符串",value:"String"},{label:"小数",value:"Double"},{label:"整数",value:"Int"},{label:"布尔",value:"Boolean"}]}}}}}}},t=Object(l["ref"])({content:"const date = new Date();\ndate.setDate(date.getDate() - n);\nreturn date;",description:"获取当前时间n天前的时间点",id:"60ba7c8e571fe832151accc5",name:"func_dateBefore",parameters:[{name:"n",type:"Int",zhName:"天数"}],returnType:"Date",zhName:"n天前"}),a=Object(l["reactive"])({age:null,note:""}),r=Object(l["reactive"])({props:{labelWidth:"120px"},fields:[{property:"note",title:"提示文字",type:"string",default:"1"},{type:"grid",layout:[[12,12,12]],fields:[{property:"number",title:"数值输入框",type:"number",placeholder:"",props:{extra:"个"},default:0},{property:"select",title:"多选框",array:!0,type:"select",placeholder:"",default:[]}]}]}),o=function(e){e("p1.fieldType").onFieldCreateOrChange((function(e){console.log(e)}))},s=function(){t.value={code:"",id:121,name:"宁夏回族自治区高级人民法院",contactPhone:"0951—5915227",servicePhone:null,postCode:"750001",address:"银川市兴庆区北京东路149号",other:null,skillNo:null,transportLine:null,workingTime:"4月1日-9月30日周一至周五上午08:30-12:00下午14:30-18:00；10月1日-3月31日 周一至周五上午08:30-12:00下午14:00-17:30",customerConfigId:"nxgy"}},p=function(n){return Object(c["a"])(e,void 0,void 0,i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("test").hide(),t=n("customerConfigId");try{t.setFieldProps({loading:!0}),t.setEnum([{label:"宁夏高院",value:"nxgy"},{label:"最高院",value:"zgy"}])}catch(l){console.error(l)}finally{t.setFieldProps({loading:!1})}case 3:case"end":return e.stop()}}),e)})))};return Object(d["j"])(),{editSchema:n,editForm:t,value:a,editFormEffects:p,schema:r,effects:o,edit:s}}}),p=t("6b0d"),u=t.n(p);const m=u()(s,[["render",r]]);var f=m,y={class:"markdown-body"},b=Object(l["createTextVNode"])("\n"),v=Object(l["createTextVNode"])("\n"),h=Object(l["createTextVNode"])("\n"),g=Object(l["defineComponent"])({setup:function(e){return function(e,n){var t=Object(l["resolveComponent"])("code-container"),a=Object(l["resolveComponent"])("demo-wrapper");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",y,[Object(l["createElementVNode"])("pre",null,[Object(l["createVNode"])(a,null,{code:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(t,null,{default:Object(l["withCtx"])((function(){return[Object(l["createTextVNode"])('\n  \n<template>\n  <div>\n    <v-schema-form\n        v-model:value="editForm"\n        :schema="editSchema"\n        :effects="editFormEffects">\n    </v-schema-form>\n    <a-button @click="edit">编辑</a-button>\n    <v-schema-form\n        v-model:value="value"\n        :effects="effects"\n        :schema="schema"/>\n    <pre>'+Object(l["toDisplayString"])(e.value)+"</pre>\n  </div>\n</template>\n<script lang=\"ts\">\n  import {defineComponent, reactive, ref} from 'vue';\n  import {SchemaFormField} from '../../../../types';\n  import {FieldTypes, registerAntd} from '../../../schema-form';\n\n  export const familyInfoFields: SchemaFormField[] = [{\n    property: 'name',\n    type: 'string',\n    title: '姓名',\n    default: '张三'\n  }, {\n    property: 'age',\n    title: '年龄',\n    type: 'integer',\n    default: 18,\n    visible: false\n  }, {\n    property: 'sex',\n    type: 'select',\n    title: '性别',\n    default: 1,\n    enum: [{label: '男', value: 1}, {label: '女', value: 2}]\n  }, {\n    property: 'detail',\n    type: 'object',\n    fields: [{\n      property: 'favorite.value',\n      default: 'aa',\n      type: 'string',\n      title: '爱好'\n    }, {\n      property: 'favorite.fieldType',\n      default: 'bb',\n      type: 'string',\n      visible: false\n    }]\n  }];\n\n  function getDefaultValue() {\n    return {\n      id: null,\n      name: null,\n      region: null,\n      modelName: null,\n      dataCollect: null,\n      caseType: null,\n      workMode: null,\n      xiaofaId: null,\n      sendSms: null,\n      workTime: null,\n      location: null,\n      infoTypes: null,\n      skillNo: null,\n      newCaseQuery: null\n    };\n  }\n\n  registerAntd();\n  export default defineComponent({\n    name: 'Demo',\n    setup() {\n      const editSchema = {\n        props: {\n          labelWidth: 140\n        },\n        fields: {\n          name: {\n            type: FieldTypes.String,\n            title: '名称',\n            tip: '必须以func_开头'\n          },\n          zhName: {\n            type: FieldTypes.String,\n            title: '中文名称'\n          },\n          namespace: {\n            type: FieldTypes.Select,\n            title: '命名空间',\n            props: {\n              searchable: true\n            }\n          },\n          bindingEntityId: {\n            type: FieldTypes.Select,\n            title: '绑定的实体对象',\n            props: {\n              searchable: true\n            }\n          },\n          returnType: {\n            type: FieldTypes.Select,\n            title: '返回值类型',\n            enum: [\n              {label: '日期时间', value: 'Date'},\n              {label: '字符串', value: 'String'},\n              {label: '小数', value: 'Double'},\n              {label: '整数', value: 'Int'},\n              {label: '布尔', value: 'Boolean'}\n            ]\n          },\n          content: {\n            type: 'code',\n            title: '内容',\n            props: {\n              lang: 'javascript'\n            }\n          },\n          description: {\n            type: FieldTypes.Text,\n            title: '描述'\n          },\n          $card: {\n            type: 'card',\n            title: '参数列表',\n            fields: {\n              parameters: {\n                type: 'object',\n                array: true,\n                fields: {\n                  name: {\n                    type: FieldTypes.String,\n                    title: '参数名称'\n                  },\n                  zhName: {\n                    type: FieldTypes.String,\n                    title: '中文名称'\n                  },\n                  type: {\n                    type: FieldTypes.Select,\n                    title: '参数类型',\n                    enum: [\n                      {label: '日期时间', value: 'Date'},\n                      {label: '字符串', value: 'String'},\n                      {label: '小数', value: 'Double'},\n                      {label: '整数', value: 'Int'},\n                      {label: '布尔', value: 'Boolean'}\n                    ]\n                  }\n                }\n              }\n            }\n          }\n        }\n      };\n      const editForm: any = ref({\n        'content': 'const date = new Date();\\ndate.setDate(date.getDate() - n);\\nreturn date;',\n        'description': '获取当前时间n天前的时间点',\n        'id': '60ba7c8e571fe832151accc5',\n        'name': 'func_dateBefore',\n        'parameters': [{'name': 'n', 'type': 'Int', 'zhName': '天数'}],\n        'returnType': 'Date',\n        'zhName': 'n天前'\n      });\n      const value = reactive({\n        age: null,\n        note: ''\n      });\n      const schema = reactive({\n        props: {'labelWidth': '120px'},\n        fields: [{\n          property: 'note',\n          title: '提示文字',\n          type: 'string',\n          default: '1'\n        }, {\n          type: 'grid',\n          layout: [[12, 12, 12]],\n          fields: [{\n            property: 'number',\n            title: '数值输入框',\n            type: 'number',\n            placeholder: '',\n            props: {'extra': '个'},\n            default: 0\n          }, {\n            property: 'select',\n            title: '多选框',\n            array: true,\n            type: 'select',\n            placeholder: '',\n            default: []\n          }]\n        }]\n      });\n\n\n      const effects = ($) => {\n        $('p1.fieldType').onFieldCreateOrChange((v) => {\n          console.log(v);\n        });\n      };\n      const edit = () => {\n        editForm.value = {\n          'code': '',\n          'id': 121,\n          'name': '宁夏回族自治区高级人民法院',\n          'contactPhone': '0951—5915227',\n          'servicePhone': null,\n          'postCode': '750001',\n          'address': '银川市兴庆区北京东路149号',\n          'other': null,\n          'skillNo': null,\n          'transportLine': null,\n          'workingTime': '4月1日-9月30日周一至周五上午08:30-12:00下午14:30-18:00；10月1日-3月31日 周一至周五上午08:30-12:00下午14:00-17:30',\n          'customerConfigId': 'nxgy'\n        };\n      };\n      const editFormEffects = async ($) => {\n        $('test').hide();\n        const customerField = $('customerConfigId');\n        try {\n          customerField.setFieldProps({loading: true});\n          // const data = await api.ivm.customerConfig.simpleAll.r();\n          customerField.setEnum([{label: '宁夏高院', value: 'nxgy'}, {label: '最高院', value: 'zgy'}]);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          customerField.setFieldProps({loading: false});\n        }\n      };\n      registerAntd();\n\n      return {\n        editSchema,\n        editForm,\n        value,\n        editFormEffects,\n        schema,\n        effects,\n        edit\n      };\n    }\n  });\n<\/script>\n\n",1)]})),_:1})]})),default:Object(l["withCtx"])((function(){return[b,Object(l["createVNode"])(f),v,h]})),_:1})])])}}});const j=g;n["default"]=j}}]);
//# sourceMappingURL=chunk-2d0d2aca.524dcdcf.js.map