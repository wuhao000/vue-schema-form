(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bf17d6d"],{"380f":function(e,t,n){"use strict";n("b550"),n("edb9")},"5f12":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return l}));var o=n("98ce"),r=[{label:"选项1",value:1},{label:"选项2",value:2},{label:"选项3",value:3},{label:"选项4",value:4}],i=function(){return{labelSuffix:":",gutter:40,labelWidth:"120px"}},a=function(){return{string:"111",text:"abc",integer:122,double:.2,url:"http://www",datetime:new Date,date:new Date,start:new Date,end:new Date,year:(new Date).getFullYear(),month:new Date,time:"12:24",timerange:["12:24","13:24"],select:4,multiSelect:[1,3],expandSelect:1,expandMultiSelect:[1,2],transfer:["1"],subForm:{input:"abs"},subFormArray:[{input:"sssssssss"}]}},c={expandSelect:{title:"展开单选",required:!0,type:"expand-select",props:{options:r}},select:{title:"单选",required:!0,type:"select",props:{options:r,clearable:!0}},multiSelect:{title:"多选",required:!0,type:"select",array:!0,props:{options:r}},expandMultiSelect:{title:"展开多选",required:!0,type:"expand-select",array:!0,props:{options:r}},text:{title:"多行文本",required:!0,type:"text"},zh:{title:"仅限中文",required:!0,type:"text",format:"zh",default:"not chinese"},string:{title:"单行文本",type:"string",required:!0,placeholder:"请输入文本"},url:{title:"链接",rules:"url",type:"url"},integer:{title:"整数",type:"integer",required:!0,min:100,max:200,props:{min:100}},double:{title:"小数",required:!0,type:"double",props:{step:.1}},switch:{title:"开关",type:o["e"].Boolean},date:{title:"日期",required:!0,type:"date"},"[start, end]":{title:"日期范围",required:!0,type:"daterange"},year:{title:"年份",required:!0,type:"year"},time:{title:"时间",required:!0,type:"time"},timerange:{title:"时间范围",required:!0,type:o["e"].TimeRange},datetime:{title:"日期时间",required:!0,type:"datetime"},month:{title:"月份",required:!0,type:"month"},file:{title:"卡片上传文件",type:o["e"].File,props:{mode:"card"}},file2:{title:"拖拽上传文件",type:o["e"].File,props:{mode:"dragger"}},file3:{title:"普通上传文件",type:o["e"].File},image:{title:"图片",type:o["e"].Picture},transfer:{title:"穿梭框",type:o["e"].Transfer,enum:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]},range:{title:"范围",type:o["e"].Range},rate:{title:"评分",type:o["e"].Rate},subForm:{title:"子表单",type:o["e"].Object,fields:{input:{title:"输入框",type:"string",required:!0}},props:{addBtnText:"添加子表单",addBtnProps:{block:!0}}},subFormArray:{title:"子表单数组",type:o["e"].Object,array:!0,fields:{input:{title:"输入框(数组)",type:"string",required:!0}},props:{addBtnText:"添加子表单",addBtnProps:{block:!0}}}},l=function(){return{props:{section:!0,spaceBetweenSection:16,labelWidth:120},fields:c}}},"7f43":function(e,t,n){"use strict";n.r(t);var o=n("8bbf");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("v-schema-form"),l=Object(o["resolveComponent"])("a-col"),s=Object(o["resolveComponent"])("a-row"),u=Object(o["resolveComponent"])("a-layout-content"),d=Object(o["resolveComponent"])("a-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{span:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{value:r.value2,"onUpdate:value":t[0]||(t[0]=function(e){return r.value2=e}),actions:r.actions,effects:r.effects,props:e.props,schema:r.definition,class:"demo-form",onCancel:r.onCancel,onSubmit:r.onOk,onReset:r.onReset},null,8,["value","actions","effects","props","schema","onCancel","onSubmit","onReset"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}n("380f");var i=n("f64c"),a=n("a34a"),c=n.n(a),l=n("9ab4"),s=n("8f41"),u=n("a7ab");Object(s["a"])();var d={name:"Demo",setup:function(){var e=this,t=Object(u["b"])(),n=t.definition,o=t.value;return{definition:n,value:o,actions:["submit","cancel","reset",{name:"validate",text:"校验",action:function(t){return Object(l["a"])(e,void 0,void 0,c.a.mark((function e(){var n;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validate();case 2:n=e.sent,n.length&&(i["a"].error(n[0].errors.join("、")),n[0].field.focus(!0));case 4:case"end":return e.stop()}}),e)})))}}],value2:{string:"1111111"},effects:function(e){e.onValidate((function(e){e.length&&(i["a"].error("表单内容有错误，请检查"),e[0].field.focus())}))},onOk:function(){console.log("ok")},onCancel:function(){console.log("cancel")},onReset:function(){console.log("reset")}}}},p=n("6b0d"),f=n.n(p);const b=f()(d,[["render",r]]);var m=b,y={class:"markdown-body"},v=Object(o["createElementVNode"])("h1",{id:"表单校验"},"表单校验",-1),O=Object(o["createTextVNode"])("\n"),g=Object(o["createTextVNode"])("\n"),j=Object(o["createTextVNode"])("\n  <template>\n  <a-layout>\n    <a-layout-content>\n      <a-row>\n        <a-col :span=\"12\">\n          <v-schema-form\n              v-model:value=\"value2\"\n              :actions=\"actions\"\n              :effects=\"effects\"\n              :props=\"props\"\n              :schema=\"definition\"\n              class=\"demo-form\"\n              @cancel=\"onCancel\"\n              @submit=\"onOk\"\n              @reset=\"onReset\"/>\n        </a-col>\n      </a-row>\n    </a-layout-content>\n  </a-layout>\n</template>\n<script lang=\"tsx\">\n  import {message} from 'ant-design-vue';\n  import {EffectsContext} from '../../../../types';\n  import {registerElement} from '../../../element';\n  import {useBaseDemo} from '../../../views/demo/base';\n\n  registerElement();\n\n  export default {\n    name: 'Demo',\n    setup() {\n      const {definition, value} = useBaseDemo();\n      return {\n        definition,\n        value,\n        actions: ['submit', 'cancel', 'reset', {\n          name: 'validate',\n          text: '校验',\n          action: async ($: EffectsContext) => {\n            const res = await $.validate();\n            if (res.length) {\n              message.error(res[0].errors.join('、'));\n              res[0].field.focus(true);\n            }\n          }\n        }],\n        value2: {\n          string: '1111111'\n        },\n        effects($) {\n          $.onValidate((errors) => {\n            if (errors.length) {\n              message.error('表单内容有错误，请检查');\n              errors[0].field.focus();\n            }\n          });\n        },\n        onOk() {\n          console.log('ok');\n        },\n        onCancel() {\n          console.log('cancel');\n        },\n        onReset() {\n          console.log('reset');\n        }\n      };\n    }\n  };\n<\/script>\n\n"),w=Object(o["createTextVNode"])("\n"),x=Object(o["defineComponent"])({setup:function(e){return function(e,t){var n=Object(o["resolveComponent"])("code-container"),r=Object(o["resolveComponent"])("demo-wrapper");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",y,[v,Object(o["createElementVNode"])("pre",null,[Object(o["createVNode"])(r,null,{code:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(n,null,{default:Object(o["withCtx"])((function(){return[j]})),_:1})]})),default:Object(o["withCtx"])((function(){return[O,Object(o["createVNode"])(m),g,w]})),_:1})])])}}});const C=x;t["default"]=C},a7ab:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));n("380f");var o=n("f64c"),r=n("8bbf"),i=n("5f12"),a={platform:{type:String,default:"desktop"},init:null},c=function(){var e=Object(i["b"])(),t=Object(r["ref"])(Object(i["c"])()),n=Object(r["ref"])({disabled:!1,loading:!1,readonly:!1,displayMode:!1,sticky:!1,mobile:!1}),a={props:{inline:!0},fields:[{title:"禁用",type:"boolean",property:"disabled"},{title:"加载中",type:"boolean",property:"loading"},{title:"详情模式",type:"boolean",property:"displayMode"},{title:"固定模式",type:"boolean",property:"sticky"}]},c=Object(i["a"])();return{options:n,props:e,value:t,definition:c,optionFormDefinition:a,onOk:function(){o["a"].success("ok clicked")},onReset:function(){o["a"].info("reset clicked")},onCancel:function(){console.log("aaa"),o["a"].error("cancel clicked")}}}},edb9:function(e,t,n){},f64c:function(e,t,n){"use strict";var o,r,i,a=n("c31d"),c=n("8bbf"),l=n("2fcd"),s=n("8fe6"),u=n("39b7"),d=n("e1b2"),p=n("0c35"),f=n("cf3f"),b=3,m=1,y="ant-message",v="move-up",O=function(){return document.body};function g(e){r?e(r):l["a"].newInstance({prefixCls:y,transitionName:v,style:{top:o},getContainer:O,maxCount:i},(function(t){r?e(r):(r=t,e(t))}))}var j={info:f["a"],success:p["a"],error:d["a"],warning:u["a"],loading:s["a"]};function w(e){var t=void 0!==e.duration?e.duration:b,n=j[e.type],o=n?Object(c["createVNode"])(n,null,null):"",i=e.key||m++,a=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};g((function(n){n.notice({key:i,duration:t,style:e.style||{},class:e.class,content:function(){return Object(c["createVNode"])("div",{class:"".concat(y,"-custom-content").concat(e.type?" ".concat(y,"-").concat(e.type):"")},[e.icon||o,Object(c["createVNode"])("span",null,[e.content])])},onClose:r})}))})),l=function(){r&&r.removeNotice(i)};return l.then=function(e,t){return a.then(e,t)},l.promise=a,l}function x(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}var C={open:w,config:function(e){void 0!==e.top&&(o=e.top,r=null),void 0!==e.duration&&(b=e.duration),void 0!==e.prefixCls&&(y=e.prefixCls),void 0!==e.getContainer&&(O=e.getContainer),void 0!==e.transitionName&&(v=e.transitionName,r=null),void 0!==e.maxCount&&(i=e.maxCount,r=null)},destroy:function(){r&&(r.destroy(),r=null)}};["success","info","warning","error","loading"].forEach((function(e){C[e]=function(t,n,o){return x(t)?C.open(Object(a["a"])(Object(a["a"])({},t),{type:e})):("function"===typeof n&&(o=n,n=void 0),C.open({content:t,duration:n,type:e,onClose:o}))}})),C.warn=C.warning,t["a"]=C}}]);
//# sourceMappingURL=chunk-4bf17d6d.7f93684e.js.map