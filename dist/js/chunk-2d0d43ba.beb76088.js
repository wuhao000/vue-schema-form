(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d43ba"],{"5fc6":function(e,t,o){"use strict";o.r(t);var n=o("8bbf"),l=Object(n["createElementVNode"])("h3",{class:"demo-h3"},"根据自定义组件的复杂解构",-1);function a(e,t,o,a,c,r){var u=Object(n["resolveComponent"])("v-schema-form"),i=Object(n["resolveComponent"])("show-value"),s=Object(n["resolveComponent"])("a-layout-content"),p=Object(n["resolveComponent"])("a-layout");return Object(n["openBlock"])(),Object(n["createBlock"])(p,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{value:a.value,"onUpdate:value":t[0]||(t[0]=function(e){return a.value=e}),components:a.components,props:e.props,schema:a.definition,class:"demo-form"},null,8,["value","components","props","schema"]),Object(n["createVNode"])(i,{title:"查看结果",value:a.value},null,8,["value"]),Object(n["createElementVNode"])("div",null,[l,Object(n["createVNode"])(u,{value:a.value2,"onUpdate:value":t[1]||(t[1]=function(e){return a.value2=e}),components:a.components,schema:a.definition2},null,8,["value","components","schema"])])]})),_:1})]})),_:1})}var c=o("98ce"),r=Object(n["createTextVNode"])("确定 "),u=Object(n["defineComponent"])({props:{value:Object,title:String},setup:function(e){var t=Object(n["ref"])(!1),o=function(){t.value=!0},l=function(){t.value=!1};return function(a,c){var u=Object(n["resolveComponent"])("a-button"),i=Object(n["resolveComponent"])("code-editor"),s=Object(n["resolveComponent"])("a-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(u,{onClick:o},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.title||"查看"),1)]})),_:1}),Object(n["createVNode"])(s,{visible:t.value,"onUpdate:visible":c[0]||(c[0]=function(e){return t.value=e}),"destroy-on-close":""},{footer:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{type:"primary",onClick:l},{default:Object(n["withCtx"])((function(){return[r]})),_:1})]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,null,{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.value),1)]})),_:1})]})),_:1},8,["visible"])],64)}}});const i=u;var s=i,p=function(e){return Object(n["createVNode"])("div",null,[Object(n["createVNode"])("pre",null,[JSON.stringify(e.value)])])},d={name:"Demo",components:{ShowValue:s},setup:function(){Object(c["k"])();var e=Object(n["ref"])(),t=[{value:"zhejiang",label:"浙江",isLeaf:!1,loading:!1,children:[{label:"杭州",value:"hz"},{label:"温州",value:"wz"}]},{value:"jiangsu",label:"江苏",isLeaf:!1,loading:!1,children:[{label:"南京",value:"nj",children:[{label:"鼓楼区",value:"gl"},{label:"玄武区",value:"xw"}]},{label:"苏州",value:"sz"}]}],o=Object(n["ref"])(!1),l=Object(n["ref"])(null);return{value2:e,complexValue:l,components:[{component:p,platforms:"desktop",forArray:!1,forDisplay:!1,types:"complex"}],options:t,dialogVisible:o,value:{},definition2:{fields:{button:{type:"button",title:"点击上传复杂数据",wrapperProps:{noTitle:!0},events:{onClick:function(e){e("#complex").onFieldCreateOrChange((function(e){l.value=e})).value({aa:{bb:{cc:123,dd:[333,444],ee:"abcde"}}})}}},"{aa:{bb:{cc:destructor1,dd:[destructor2,destructor3],ee}}}":{id:"complex",type:"complex",title:"复杂解构",required:!0}}},definition:Object(n["computed"])((function(){return{fields:{"[start, end]":{type:"daterange",title:"时间范围"},"[province,city,town]":{type:"cascader",title:"省市区",placeholder:"请选择",enum:t}}}}))}}},m=o("6b0d"),b=o.n(m);const v=b()(d,[["render",a]]);var f=v,j={class:"markdown-body"},O=Object(n["createElementVNode"])("h1",{id:"字段解构"},"字段解构",-1),h=Object(n["createElementVNode"])("p",null,"字段解构是一个非常强大的特性，它可以对组件生产的值做解构转换，使得快速贴合服务端数据结构要求，无需再做二次转换 字段解构主要是对 property 用 ES Deconstruction 语法做解构，需要注意的是，不支持...语法",-1),x=Object(n["createTextVNode"])(" <template> <a-layout> <a-layout-content> <v-schema-form v-model:value=\"value\" :components=\"components\" :props=\"props\" :schema=\"definition\" class=\"demo-form\"/> <show-value title=\"查看结果\" :value=\"value\"/> <div> <h3 class=\"demo-h3\">根据自定义组件的复杂解构</h3> <v-schema-form v-model:value=\"value2\" :components=\"components\" :schema=\"definition2\"></v-schema-form> </div> </a-layout-content> </a-layout> </template> <script lang=\"tsx\"> import {EffectsContext, SchemaFormComponentOptions} from '../../../types'; import {computed, ref} from 'vue'; import {registerAntd} from '../../schema-form'; import ShowValue from '../../views/show-value.vue'; const complex = (props) => { return <div> <pre> {JSON.stringify(props.value)} </pre> </div>; }; export default { name: 'Demo', components: {ShowValue}, setup() { registerAntd(); const value2 = ref<any>(); const options = [ { value: 'zhejiang', label: '浙江', isLeaf: false, loading: false, children: [{ label: '杭州', value: 'hz' }, { label: '温州', value: 'wz' }] }, { value: 'jiangsu', label: '江苏', isLeaf: false, loading: false, children: [{ label: '南京', value: 'nj', children: [{ label: '鼓楼区', value: 'gl' }, { label: '玄武区', value: 'xw' }] }, { label: '苏州', value: 'sz' }] }]; const dialogVisible = ref(false); const complexValue = ref<any>(null); return { value2, complexValue, components: [{ component: complex, platforms: 'desktop', forArray: false, forDisplay: false, types: 'complex' } as SchemaFormComponentOptions], options, dialogVisible, value: {}, definition2: { fields: { button: { type: 'button', title: '点击上传复杂数据', wrapperProps: { noTitle: true }, events: { onClick: ($: EffectsContext) => { $('#complex').onFieldCreateOrChange((v) => { complexValue.value = v; }).value({ 'aa': { 'bb': { 'cc': 123, 'dd': [ 333, 444 ], 'ee': 'abcde' } } }); } } }, '{aa:{bb:{cc:destructor1,dd:[destructor2,destructor3],ee}}}': { id: 'complex', type: 'complex', title: '复杂解构', required: true } } }, definition: computed(() => { return { fields: { '[start, end]': { type: 'daterange', title: '时间范围' }, '[province,city,town]': { type: 'cascader', title: '省市区', placeholder: '请选择', enum: options } } }; }) }; } }; <\/script> "),y=Object(n["defineComponent"])({setup:function(e){return function(e,t){var o=Object(n["resolveComponent"])("code-container"),l=Object(n["resolveComponent"])("demo-wrapper");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",j,[O,h,Object(n["createVNode"])(l,null,{code:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(o,null,{default:Object(n["withCtx"])((function(){return[x]})),_:1})]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f)]})),_:1})])}}});const w=y;t["default"]=w}}]);
//# sourceMappingURL=chunk-2d0d43ba.beb76088.js.map