(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2105cd"],{b823:function(e,n,t){"use strict";t.r(n);var a=t("8bbf"),l=Object(a["createTextVNode"])("校验"),c=Object(a["createTextVNode"])("启用禁用"),r=Object(a["createTextVNode"])("编辑/禁止编辑");function o(e,n,t,o,u,i){var d=Object(a["resolveComponent"])("v-schema-form"),b=Object(a["resolveComponent"])("a-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(d,{ref:"form",value:e.value,"onUpdate:value":n[0]||(n[0]=function(n){return e.value=n}),schema:e.schema,effects:e.effects},null,8,["value","schema","effects"]),Object(a["createVNode"])(b,{onClick:e.validate},{default:Object(a["withCtx"])((function(){return[l]})),_:1},8,["onClick"]),Object(a["createVNode"])(b,{onClick:e.disableOrEnable},{default:Object(a["withCtx"])((function(){return[c]})),_:1},8,["onClick"]),Object(a["createVNode"])(b,{onClick:e.editableOrReadonly},{default:Object(a["withCtx"])((function(){return[r]})),_:1},8,["onClick"])])}var u=t("a34a"),i=t.n(u),d=t("9ab4"),b=t("98ce"),s=Object(a["defineComponent"])({name:"Demo",setup:function(){var e=this,n={props:{labelWidth:"100px"},fields:{name:{type:"string",title:"中文名称",required:!0},name2:{type:"string",title:"中文名称2"},persistent:{type:"boolean",title:"是否持久化"},modules:{title:"启用模块",type:"select",array:!0,enum:[{label:"团队",value:"team"},{label:"文件",value:"file"}]},notes:{type:"text",title:"备注"}}},t=Object(a["ref"])({name:"a"}),l=Object(a["ref"])(null),c=Object(a["ref"])(!0),r=Object(a["ref"])(!0),o=function(e){l.value=e,e("name").onFieldCreateOrChange((function(n){n.length>1?e("name2").required(!0):e("name2").required(!1)}))};Object(b["j"])();var u=function(){r.value=!r.value,l.value("name").editable(r.value)},s=function(){c.value=!c.value,l.value("name").enable(c.value)},f=Object(a["ref"])(),m=function(){return Object(d["a"])(e,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.value.validate();case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})))};return{schema:n,value:t,form:f,validate:m,disableOrEnable:s,editableOrReadonly:u,effects:o}},data:function(){return{}},created:function(){Object(b["j"])()},methods:{}}),f=t("6b0d"),m=t.n(f);const v=m()(s,[["render",o]]);var O=v,p={class:"markdown-body"},j=Object(a["createElementVNode"])("h1",{id:"启用禁用"},"启用禁用",-1),h=Object(a["createElementVNode"])("h2",{id:"使用说明"},"使用说明",-1),x=Object(a["createElementVNode"])("p",null,"启用禁用属于逻辑操作，因此使用副作用函数来实现",-1),C=Object(a["createElementVNode"])("p",null,"使用副作用函数的enable和disable方法可以达到启用/禁用效果",-1),N=Object(a["createTextVNode"])("\n  // 启用name字段\n$('name').enable();\n\n// 禁用name字段\n$('name').disable();\n"),V=Object(a["createElementVNode"])("br",null,null,-1),y=Object(a["createElementVNode"])("blockquote",null,[Object(a["createElementVNode"])("p",null,"仅使用enable或disable中的一个也可以启用禁用, 例如 enable(true) 为启用，enable(false)为禁用，disable的参数值相反")],-1),k=Object(a["createTextVNode"])("\n"),w=Object(a["createTextVNode"])("\n"),E=Object(a["createTextVNode"])("\n  \n<template>\n  <div>\n    <v-schema-form\n        ref=\"form\"\n        v-model:value=\"value\"\n        :schema=\"schema\"\n        :effects=\"effects\"/>\n    <a-button @click=\"validate\">校验</a-button>\n    <a-button @click=\"disableOrEnable\">启用禁用</a-button>\n    <a-button @click=\"editableOrReadonly\">编辑/禁止编辑</a-button>\n  </div>\n</template>\n<script lang=\"ts\">\n  import {defineComponent, ref} from 'vue';\n  import {EffectsContext} from '../../../../types';\n  import {registerAntd} from '../../../schema-form';\n\n  export default defineComponent({\n    name: 'Demo',\n    setup() {\n      const schema = {\n        props: {\n          labelWidth: '100px'\n        },\n        fields: {\n          name: {\n            type: 'string',\n            title: '中文名称',\n            required: true\n          },\n          name2: {\n            type: 'string',\n            title: '中文名称2',\n          },\n          persistent: {\n            type: 'boolean',\n            title: '是否持久化'\n          },\n          modules: {\n            title: '启用模块',\n            type: 'select',\n            array: true,\n            enum: [\n              {label: '团队', value: 'team'},\n              {label: '文件', value: 'file'}\n            ]\n          },\n          notes: {\n            type: 'text',\n            title: '备注'\n          }\n        }\n      };\n      const value = ref({\n        name: 'a'\n      });\n      const context = ref<EffectsContext>(null);\n      const enable = ref(true);\n      const editable = ref(true);\n      const effects = ($: EffectsContext) => {\n        context.value = $;\n        $('name').onFieldCreateOrChange((v) => {\n          if (v.length > 1) {\n            $('name2').required(true);\n          } else {\n            $('name2').required(false);\n          }\n        });\n      };\n\n      registerAntd();\n\n      const editableOrReadonly = () => {\n        editable.value = !editable.value;\n        context.value('name').editable(editable.value);\n      };\n      const disableOrEnable = () => {\n        enable.value = !enable.value;\n        context.value('name').enable(enable.value);\n      };\n      const form = ref()\n      const validate = async () => {\n        const a = await form.value.validate();\n        console.log(a);\n      }\n      return {\n        schema,\n        value,\n        form,\n        validate,\n        disableOrEnable,\n        editableOrReadonly,\n        effects\n      };\n    },\n    data() {\n      return {};\n    },\n    created() {\n      registerAntd();\n    },\n    methods: {}\n  });\n<\/script>\n\n"),g=Object(a["createTextVNode"])("\n"),T=Object(a["defineComponent"])({setup:function(e){return function(e,n){var t=Object(a["resolveComponent"])("code-editor"),l=Object(a["resolveComponent"])("code-container"),c=Object(a["resolveComponent"])("demo-wrapper");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",p,[j,h,x,C,Object(a["createElementVNode"])("pre",null,[Object(a["createVNode"])(t,null,{default:Object(a["withCtx"])((function(){return[N]})),_:1})]),V,y,Object(a["createElementVNode"])("pre",null,[Object(a["createVNode"])(c,null,{code:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])((function(){return[E]})),_:1})]})),default:Object(a["withCtx"])((function(){return[k,Object(a["createVNode"])(O),w,g]})),_:1})])])}}});const q=T;n["default"]=q}}]);
//# sourceMappingURL=chunk-2d2105cd.c191eede.js.map